function KE(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function fw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dw={exports:{}},eh={},pw={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),GE=Symbol.for("react.portal"),YE=Symbol.for("react.fragment"),JE=Symbol.for("react.strict_mode"),QE=Symbol.for("react.profiler"),XE=Symbol.for("react.provider"),ZE=Symbol.for("react.context"),e_=Symbol.for("react.forward_ref"),t_=Symbol.for("react.suspense"),n_=Symbol.for("react.memo"),i_=Symbol.for("react.lazy"),d0=Symbol.iterator;function r_(t){return t===null||typeof t!="object"?null:(t=d0&&t[d0]||t["@@iterator"],typeof t=="function"?t:null)}var mw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gw=Object.assign,yw={};function ho(t,e,n){this.props=t,this.context=e,this.refs=yw,this.updater=n||mw}ho.prototype.isReactComponent={};ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vw(){}vw.prototype=ho.prototype;function mm(t,e,n){this.props=t,this.context=e,this.refs=yw,this.updater=n||mw}var gm=mm.prototype=new vw;gm.constructor=mm;gw(gm,ho.prototype);gm.isPureReactComponent=!0;var p0=Array.isArray,ww=Object.prototype.hasOwnProperty,ym={current:null},xw={key:!0,ref:!0,__self:!0,__source:!0};function Sw(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ww.call(e,i)&&!xw.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:Jl,type:t,key:s,ref:o,props:r,_owner:ym.current}}function s_(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function o_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m0=/\/+/g;function Wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?o_(""+t.key):e.toString(36)}function fu(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jl:case GE:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Wh(o,0):i,p0(r)?(n="",t!=null&&(n=t.replace(m0,"$&/")+"/"),fu(r,e,n,"",function(u){return u})):r!=null&&(vm(r)&&(r=s_(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(m0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",p0(t))for(var l=0;l<t.length;l++){s=t[l];var a=i+Wh(s,l);o+=fu(s,e,n,a,r)}else if(a=r_(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=i+Wh(s,l++),o+=fu(s,e,n,a,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sa(t,e,n){if(t==null)return t;var i=[],r=0;return fu(t,i,"","",function(s){return e.call(n,s,r++)}),i}function l_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},du={transition:null},a_={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:du,ReactCurrentOwner:ym};oe.Children={map:Sa,forEach:function(t,e,n){Sa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sa(t,function(){e++}),e},toArray:function(t){return Sa(t,function(e){return e})||[]},only:function(t){if(!vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=ho;oe.Fragment=YE;oe.Profiler=QE;oe.PureComponent=mm;oe.StrictMode=JE;oe.Suspense=t_;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a_;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=gw({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ym.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ww.call(e,a)&&!xw.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Jl,type:t.type,key:r,ref:s,props:i,_owner:o}};oe.createContext=function(t){return t={$$typeof:ZE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XE,_context:t},t.Consumer=t};oe.createElement=Sw;oe.createFactory=function(t){var e=Sw.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:e_,render:t}};oe.isValidElement=vm;oe.lazy=function(t){return{$$typeof:i_,_payload:{_status:-1,_result:t},_init:l_}};oe.memo=function(t,e){return{$$typeof:n_,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=du.transition;du.transition={};try{t()}finally{du.transition=e}};oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};oe.useCallback=function(t,e){return Ct.current.useCallback(t,e)};oe.useContext=function(t){return Ct.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Ct.current.useEffect(t,e)};oe.useId=function(){return Ct.current.useId()};oe.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Ct.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};oe.useRef=function(t){return Ct.current.useRef(t)};oe.useState=function(t){return Ct.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Ct.current.useTransition()};oe.version="18.2.0";pw.exports=oe;var _=pw.exports;const se=fw(_),u_=KE({__proto__:null,default:se},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_=_,h_=Symbol.for("react.element"),f_=Symbol.for("react.fragment"),d_=Object.prototype.hasOwnProperty,p_=c_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m_={key:!0,ref:!0,__self:!0,__source:!0};function kw(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)d_.call(e,i)&&!m_.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:h_,type:t,key:s,ref:o,props:r,_owner:p_.current}}eh.Fragment=f_;eh.jsx=kw;eh.jsxs=kw;dw.exports=eh;var k=dw.exports,ud={},bw={exports:{}},Wt={},Cw={exports:{}},Ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,U){var q=N.length;N.push(U);e:for(;0<q;){var re=q-1>>>1,ce=N[re];if(0<r(ce,U))N[re]=U,N[q]=ce,q=re;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var U=N[0],q=N.pop();if(q!==U){N[0]=q;e:for(var re=0,ce=N.length,gt=ce>>>1;re<gt;){var rt=2*(re+1)-1,cn=N[rt],Kt=rt+1,xi=N[Kt];if(0>r(cn,q))Kt<ce&&0>r(xi,cn)?(N[re]=xi,N[Kt]=q,re=Kt):(N[re]=cn,N[rt]=q,re=rt);else if(Kt<ce&&0>r(xi,q))N[re]=xi,N[Kt]=q,re=Kt;else break e}}return U}function r(N,U){var q=N.sortIndex-U.sortIndex;return q!==0?q:N.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,f=3,d=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var U=n(u);U!==null;){if(U.callback===null)i(u);else if(U.startTime<=N)i(u),U.sortIndex=U.expirationTime,e(a,U);else break;U=n(u)}}function x(N){if(y=!1,w(N),!p)if(n(a)!==null)p=!0,X(S);else{var U=n(u);U!==null&&Z(x,U.startTime-N)}}function S(N,U){p=!1,y&&(y=!1,m(T),T=-1),d=!0;var q=f;try{for(w(U),h=n(a);h!==null&&(!(h.expirationTime>U)||N&&!L());){var re=h.callback;if(typeof re=="function"){h.callback=null,f=h.priorityLevel;var ce=re(h.expirationTime<=U);U=t.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(a)&&i(a),w(U)}else i(a);h=n(a)}if(h!==null)var gt=!0;else{var rt=n(u);rt!==null&&Z(x,rt.startTime-U),gt=!1}return gt}finally{h=null,f=q,d=!1}}var E=!1,C=null,T=-1,O=5,P=-1;function L(){return!(t.unstable_now()-P<O)}function M(){if(C!==null){var N=t.unstable_now();P=N;var U=!0;try{U=C(!0,N)}finally{U?F():(E=!1,C=null)}}else E=!1}var F;if(typeof g=="function")F=function(){g(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,K=j.port2;j.port1.onmessage=M,F=function(){K.postMessage(null)}}else F=function(){v(M,0)};function X(N){C=N,E||(E=!0,F())}function Z(N,U){T=v(function(){N(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,X(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return N()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,U){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=f;f=N;try{return U()}finally{f=q}},t.unstable_scheduleCallback=function(N,U,q){var re=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?re+q:re):q=re,N){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=q+ce,N={id:c++,callback:U,priorityLevel:N,startTime:q,expirationTime:ce,sortIndex:-1},q>re?(N.sortIndex=q,e(u,N),n(a)===null&&N===n(u)&&(y?(m(T),T=-1):y=!0,Z(x,q-re))):(N.sortIndex=ce,e(a,N),p||d||(p=!0,X(S))),N},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(N){var U=f;return function(){var q=f;f=U;try{return N.apply(this,arguments)}finally{f=q}}}})(Ew);Cw.exports=Ew;var g_=Cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w=_,Ht=g_;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tw=new Set,dl={};function is(t,e){Ys(t,e),Ys(t+"Capture",e)}function Ys(t,e){for(dl[t]=e,t=0;t<e.length;t++)Tw.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=Object.prototype.hasOwnProperty,y_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},y0={};function v_(t){return cd.call(y0,t)?!0:cd.call(g0,t)?!1:y_.test(t)?y0[t]=!0:(g0[t]=!0,!1)}function w_(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x_(t,e,n,i){if(e===null||typeof e>"u"||w_(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var wm=/[\-:]([a-z])/g;function xm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wm,xm);nt[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wm,xm);nt[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wm,xm);nt[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sm(t,e,n,i){var r=nt.hasOwnProperty(e)?nt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x_(e,n,r,i)&&(n=null),i||r===null?v_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var gi=_w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),hd=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),Iw=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),fd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),Ow=Symbol.for("react.offscreen"),v0=Symbol.iterator;function ko(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,qh;function Bo(t){if(qh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qh=e&&e[1]||""}return`
`+qh+t}var Kh=!1;function Gh(t,e){if(!t||Kh)return"";Kh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var a=`
`+r[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Kh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bo(t):""}function S_(t){switch(t.tag){case 5:return Bo(t.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return t=Gh(t.type,!1),t;case 11:return t=Gh(t.type.render,!1),t;case 1:return t=Gh(t.type,!0),t;default:return""}}function pd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case ys:return"Portal";case hd:return"Profiler";case km:return"StrictMode";case fd:return"Suspense";case dd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Iw:return(t.displayName||"Context")+".Consumer";case Aw:return(t._context.displayName||"Context")+".Provider";case bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cm:return e=t.displayName||null,e!==null?e:pd(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return pd(t(e))}catch{}}return null}function k_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pd(e);case 8:return e===km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b_(t){var e=Pw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ba(t){t._valueTracker||(t._valueTracker=b_(t))}function Dw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Pw(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function md(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=or(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rw(t,e){e=e.checked,e!=null&&Sm(t,"checked",e,!1)}function gd(t,e){Rw(t,e);var n=or(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yd(t,e.type,n):e.hasOwnProperty("defaultValue")&&yd(t,e.type,or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yd(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fo=Array.isArray;function Ms(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+or(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function vd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Fo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:or(n)}}function Mw(t,e){var n=or(e.value),i=or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function k0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ca,Lw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ca=Ca||document.createElement("div"),Ca.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ca.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C_=["Webkit","ms","Moz","O"];Object.keys(Qo).forEach(function(t){C_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qo[e]=Qo[t]})});function Bw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qo.hasOwnProperty(t)&&Qo[t]?(""+e).trim():e+"px"}function Fw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Bw(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var E_=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xd(t,e){if(e){if(E_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Sd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function Em(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bd=null,Ns=null,Ls=null;function b0(t){if(t=Zl(t)){if(typeof bd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=sh(e),bd(t.stateNode,t.type,e))}}function $w(t){Ns?Ls?Ls.push(t):Ls=[t]:Ns=t}function jw(){if(Ns){var t=Ns,e=Ls;if(Ls=Ns=null,b0(t),e)for(t=0;t<e.length;t++)b0(e[t])}}function Vw(t,e){return t(e)}function zw(){}var Yh=!1;function Uw(t,e,n){if(Yh)return t(e,n);Yh=!0;try{return Vw(t,e,n)}finally{Yh=!1,(Ns!==null||Ls!==null)&&(zw(),jw())}}function ml(t,e){var n=t.stateNode;if(n===null)return null;var i=sh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Cd=!1;if(li)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Cd=!1}function __(t,e,n,i,r,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Xo=!1,Wu=null,qu=!1,Ed=null,T_={onError:function(t){Xo=!0,Wu=t}};function A_(t,e,n,i,r,s,o,l,a){Xo=!1,Wu=null,__.apply(T_,arguments)}function I_(t,e,n,i,r,s,o,l,a){if(A_.apply(this,arguments),Xo){if(Xo){var u=Wu;Xo=!1,Wu=null}else throw Error(B(198));qu||(qu=!0,Ed=u)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C0(t){if(rs(t)!==t)throw Error(B(188))}function O_(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return C0(r),t;if(s===i)return C0(r),e;s=s.sibling}throw Error(B(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Ww(t){return t=O_(t),t!==null?qw(t):null}function qw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qw(t);if(e!==null)return e;t=t.sibling}return null}var Kw=Ht.unstable_scheduleCallback,E0=Ht.unstable_cancelCallback,P_=Ht.unstable_shouldYield,D_=Ht.unstable_requestPaint,Ne=Ht.unstable_now,R_=Ht.unstable_getCurrentPriorityLevel,_m=Ht.unstable_ImmediatePriority,Gw=Ht.unstable_UserBlockingPriority,Ku=Ht.unstable_NormalPriority,M_=Ht.unstable_LowPriority,Yw=Ht.unstable_IdlePriority,th=null,jn=null;function N_(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(th,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:F_,L_=Math.log,B_=Math.LN2;function F_(t){return t>>>=0,t===0?32:31-(L_(t)/B_|0)|0}var Ea=64,_a=4194304;function $o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?i=$o(l):(s&=o,s!==0&&(i=$o(s)))}else o=n&~r,o!==0?i=$o(o):s!==0&&(i=$o(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-vn(e),r=1<<n,i|=t[n],e&=~r;return i}function $_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j_(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vn(s),l=1<<o,a=r[o];a===-1?(!(l&n)||l&i)&&(r[o]=$_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function _d(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jw(){var t=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),t}function Jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function V_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-vn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Tm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-vn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var pe=0;function Qw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xw,Am,Zw,ex,tx,Td=!1,Ta=[],Wi=null,qi=null,Ki=null,gl=new Map,yl=new Map,Ai=[],z_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _0(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":gl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function Co(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Zl(e),e!==null&&Am(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function U_(t,e,n,i,r){switch(e){case"focusin":return Wi=Co(Wi,t,e,n,i,r),!0;case"dragenter":return qi=Co(qi,t,e,n,i,r),!0;case"mouseover":return Ki=Co(Ki,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return gl.set(s,Co(gl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,yl.set(s,Co(yl.get(s)||null,t,e,n,i,r)),!0}return!1}function nx(t){var e=Pr(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=Hw(n),e!==null){t.blockedOn=e,tx(t.priority,function(){Zw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ad(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);kd=i,n.target.dispatchEvent(i),kd=null}else return e=Zl(n),e!==null&&Am(e),t.blockedOn=n,!1;e.shift()}return!0}function T0(t,e,n){pu(t)&&n.delete(e)}function H_(){Td=!1,Wi!==null&&pu(Wi)&&(Wi=null),qi!==null&&pu(qi)&&(qi=null),Ki!==null&&pu(Ki)&&(Ki=null),gl.forEach(T0),yl.forEach(T0)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,Td||(Td=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,H_)))}function vl(t){function e(r){return Eo(r,t)}if(0<Ta.length){Eo(Ta[0],t);for(var n=1;n<Ta.length;n++){var i=Ta[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Wi!==null&&Eo(Wi,t),qi!==null&&Eo(qi,t),Ki!==null&&Eo(Ki,t),gl.forEach(e),yl.forEach(e),n=0;n<Ai.length;n++)i=Ai[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)nx(n),n.blockedOn===null&&Ai.shift()}var Bs=gi.ReactCurrentBatchConfig,Yu=!0;function W_(t,e,n,i){var r=pe,s=Bs.transition;Bs.transition=null;try{pe=1,Im(t,e,n,i)}finally{pe=r,Bs.transition=s}}function q_(t,e,n,i){var r=pe,s=Bs.transition;Bs.transition=null;try{pe=4,Im(t,e,n,i)}finally{pe=r,Bs.transition=s}}function Im(t,e,n,i){if(Yu){var r=Ad(t,e,n,i);if(r===null)lf(t,e,i,Ju,n),_0(t,i);else if(U_(r,t,e,n,i))i.stopPropagation();else if(_0(t,i),e&4&&-1<z_.indexOf(t)){for(;r!==null;){var s=Zl(r);if(s!==null&&Xw(s),s=Ad(t,e,n,i),s===null&&lf(t,e,i,Ju,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else lf(t,e,i,null,n)}}var Ju=null;function Ad(t,e,n,i){if(Ju=null,t=Em(i),t=Pr(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ju=t,null}function ix(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R_()){case _m:return 1;case Gw:return 4;case Ku:case M_:return 16;case Yw:return 536870912;default:return 16}default:return 16}}var Li=null,Om=null,mu=null;function rx(){if(mu)return mu;var t,e=Om,n=e.length,i,r="value"in Li?Li.value:Li.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return mu=r.slice(t,1<i?1-i:void 0)}function gu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Aa(){return!0}function A0(){return!1}function qt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Aa:A0,this.isPropagationStopped=A0,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),e}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pm=qt(fo),Xl=Oe({},fo,{view:0,detail:0}),K_=qt(Xl),Qh,Xh,_o,nh=Oe({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_o&&(_o&&t.type==="mousemove"?(Qh=t.screenX-_o.screenX,Xh=t.screenY-_o.screenY):Xh=Qh=0,_o=t),Qh)},movementY:function(t){return"movementY"in t?t.movementY:Xh}}),I0=qt(nh),G_=Oe({},nh,{dataTransfer:0}),Y_=qt(G_),J_=Oe({},Xl,{relatedTarget:0}),Zh=qt(J_),Q_=Oe({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),X_=qt(Q_),Z_=Oe({},fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eT=qt(Z_),tT=Oe({},fo,{data:0}),O0=qt(tT),nT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rT[t])?!!e[t]:!1}function Dm(){return sT}var oT=Oe({},Xl,{key:function(t){if(t.key){var e=nT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(t){return t.type==="keypress"?gu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lT=qt(oT),aT=Oe({},nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P0=qt(aT),uT=Oe({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),cT=qt(uT),hT=Oe({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fT=qt(hT),dT=Oe({},nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pT=qt(dT),mT=[9,13,27,32],Rm=li&&"CompositionEvent"in window,Zo=null;li&&"documentMode"in document&&(Zo=document.documentMode);var gT=li&&"TextEvent"in window&&!Zo,sx=li&&(!Rm||Zo&&8<Zo&&11>=Zo),D0=" ",R0=!1;function ox(t,e){switch(t){case"keyup":return mT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function yT(t,e){switch(t){case"compositionend":return lx(e);case"keypress":return e.which!==32?null:(R0=!0,D0);case"textInput":return t=e.data,t===D0&&R0?null:t;default:return null}}function vT(t,e){if(ws)return t==="compositionend"||!Rm&&ox(t,e)?(t=rx(),mu=Om=Li=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sx&&e.locale!=="ko"?null:e.data;default:return null}}var wT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wT[t.type]:e==="textarea"}function ax(t,e,n,i){$w(i),e=Qu(e,"onChange"),0<e.length&&(n=new Pm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var el=null,wl=null;function xT(t){wx(t,0)}function ih(t){var e=ks(t);if(Dw(e))return t}function ST(t,e){if(t==="change")return e}var ux=!1;if(li){var ef;if(li){var tf="oninput"in document;if(!tf){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),tf=typeof N0.oninput=="function"}ef=tf}else ef=!1;ux=ef&&(!document.documentMode||9<document.documentMode)}function L0(){el&&(el.detachEvent("onpropertychange",cx),wl=el=null)}function cx(t){if(t.propertyName==="value"&&ih(wl)){var e=[];ax(e,wl,t,Em(t)),Uw(xT,e)}}function kT(t,e,n){t==="focusin"?(L0(),el=e,wl=n,el.attachEvent("onpropertychange",cx)):t==="focusout"&&L0()}function bT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(wl)}function CT(t,e){if(t==="click")return ih(e)}function ET(t,e){if(t==="input"||t==="change")return ih(e)}function _T(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:_T;function xl(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!cd.call(e,r)||!xn(t[r],e[r]))return!1}return!0}function B0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F0(t,e){var n=B0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B0(n)}}function hx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fx(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function Mm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TT(t){var e=fx(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hx(n.ownerDocument.documentElement,n)){if(i!==null&&Mm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=F0(n,s);var o=F0(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AT=li&&"documentMode"in document&&11>=document.documentMode,xs=null,Id=null,tl=null,Od=!1;function $0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Od||xs==null||xs!==Hu(i)||(i=xs,"selectionStart"in i&&Mm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),tl&&xl(tl,i)||(tl=i,i=Qu(Id,"onSelect"),0<i.length&&(e=new Pm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=xs)))}function Ia(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},nf={},dx={};li&&(dx=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function rh(t){if(nf[t])return nf[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dx)return nf[t]=e[n];return t}var px=rh("animationend"),mx=rh("animationiteration"),gx=rh("animationstart"),yx=rh("transitionend"),vx=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(t,e){vx.set(t,e),is(e,[t])}for(var rf=0;rf<j0.length;rf++){var sf=j0[rf],IT=sf.toLowerCase(),OT=sf[0].toUpperCase()+sf.slice(1);pr(IT,"on"+OT)}pr(px,"onAnimationEnd");pr(mx,"onAnimationIteration");pr(gx,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(yx,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PT=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function V0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,I_(i,e,void 0,t),t.currentTarget=null}function wx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&r.isPropagationStopped())break e;V0(r,l,u),s=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&r.isPropagationStopped())break e;V0(r,l,u),s=a}}}if(qu)throw t=Ed,qu=!1,Ed=null,t}function Se(t,e){var n=e[Nd];n===void 0&&(n=e[Nd]=new Set);var i=t+"__bubble";n.has(i)||(xx(e,t,2,!1),n.add(i))}function of(t,e,n){var i=0;e&&(i|=4),xx(n,t,i,e)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function Sl(t){if(!t[Oa]){t[Oa]=!0,Tw.forEach(function(n){n!=="selectionchange"&&(PT.has(n)||of(n,!1,t),of(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oa]||(e[Oa]=!0,of("selectionchange",!1,e))}}function xx(t,e,n,i){switch(ix(e)){case 1:var r=W_;break;case 4:r=q_;break;default:r=Im}n=r.bind(null,e,n,t),r=void 0,!Cd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function lf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Pr(l),o===null)return;if(a=o.tag,a===5||a===6){i=s=o;continue e}l=l.parentNode}}i=i.return}Uw(function(){var u=s,c=Em(n),h=[];e:{var f=vx.get(t);if(f!==void 0){var d=Pm,p=t;switch(t){case"keypress":if(gu(n)===0)break e;case"keydown":case"keyup":d=lT;break;case"focusin":p="focus",d=Zh;break;case"focusout":p="blur",d=Zh;break;case"beforeblur":case"afterblur":d=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=cT;break;case px:case mx:case gx:d=X_;break;case yx:d=fT;break;case"scroll":d=K_;break;case"wheel":d=pT;break;case"copy":case"cut":case"paste":d=eT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=P0}var y=(e&4)!==0,v=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,w;g!==null;){w=g;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,m!==null&&(x=ml(g,m),x!=null&&y.push(kl(g,x,w)))),v)break;g=g.return}0<y.length&&(f=new d(f,p,null,n,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==kd&&(p=n.relatedTarget||n.fromElement)&&(Pr(p)||p[ai]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?Pr(p):null,p!==null&&(v=rs(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(y=I0,x="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=P0,x="onPointerLeave",m="onPointerEnter",g="pointer"),v=d==null?f:ks(d),w=p==null?f:ks(p),f=new y(x,g+"leave",d,n,c),f.target=v,f.relatedTarget=w,x=null,Pr(c)===u&&(y=new y(m,g+"enter",p,n,c),y.target=w,y.relatedTarget=v,x=y),v=x,d&&p)t:{for(y=d,m=p,g=0,w=y;w;w=us(w))g++;for(w=0,x=m;x;x=us(x))w++;for(;0<g-w;)y=us(y),g--;for(;0<w-g;)m=us(m),w--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=us(y),m=us(m)}y=null}else y=null;d!==null&&z0(h,f,d,y,!1),p!==null&&v!==null&&z0(h,v,p,y,!0)}}e:{if(f=u?ks(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var S=ST;else if(M0(f))if(ux)S=ET;else{S=bT;var E=kT}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=CT);if(S&&(S=S(t,u))){ax(h,S,n,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&yd(f,"number",f.value)}switch(E=u?ks(u):window,t){case"focusin":(M0(E)||E.contentEditable==="true")&&(xs=E,Id=u,tl=null);break;case"focusout":tl=Id=xs=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,$0(h,n,c);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":$0(h,n,c)}var C;if(Rm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ws?ox(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(sx&&n.locale!=="ko"&&(ws||T!=="onCompositionStart"?T==="onCompositionEnd"&&ws&&(C=rx()):(Li=c,Om="value"in Li?Li.value:Li.textContent,ws=!0)),E=Qu(u,T),0<E.length&&(T=new O0(T,t,null,n,c),h.push({event:T,listeners:E}),C?T.data=C:(C=lx(n),C!==null&&(T.data=C)))),(C=gT?yT(t,n):vT(t,n))&&(u=Qu(u,"onBeforeInput"),0<u.length&&(c=new O0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}wx(h,e)})}function kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ml(t,n),s!=null&&i.unshift(kl(t,s,r)),s=ml(t,e),s!=null&&i.push(kl(t,s,r))),t=t.return}return i}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,r?(a=ml(n,s),a!=null&&o.unshift(kl(n,a,l))):r||(a=ml(n,s),a!=null&&o.push(kl(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var DT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(DT,`
`).replace(RT,"")}function Pa(t,e,n){if(e=U0(e),U0(t)!==e&&n)throw Error(B(425))}function Xu(){}var Pd=null,Dd=null;function Rd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(LT)}:Md;function LT(t){setTimeout(function(){throw t})}function af(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),vl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);vl(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var po=Math.random().toString(36).slice(2),Rn="__reactFiber$"+po,bl="__reactProps$"+po,ai="__reactContainer$"+po,Nd="__reactEvents$"+po,BT="__reactListeners$"+po,FT="__reactHandles$"+po;function Pr(t){var e=t[Rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[Rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[Rn])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[Rn]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function sh(t){return t[bl]||null}var Ld=[],bs=-1;function mr(t){return{current:t}}function Ce(t){0>bs||(t.current=Ld[bs],Ld[bs]=null,bs--)}function xe(t,e){bs++,Ld[bs]=t.current,t.current=e}var lr={},ft=mr(lr),Rt=mr(!1),Hr=lr;function Js(t,e){var n=t.type.contextTypes;if(!n)return lr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Mt(t){return t=t.childContextTypes,t!=null}function Zu(){Ce(Rt),Ce(ft)}function q0(t,e,n){if(ft.current!==lr)throw Error(B(168));xe(ft,e),xe(Rt,n)}function Sx(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(B(108,k_(t)||"Unknown",r));return Oe({},n,i)}function ec(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,Hr=ft.current,xe(ft,t),xe(Rt,Rt.current),!0}function K0(t,e,n){var i=t.stateNode;if(!i)throw Error(B(169));n?(t=Sx(t,e,Hr),i.__reactInternalMemoizedMergedChildContext=t,Ce(Rt),Ce(ft),xe(ft,t)):Ce(Rt),xe(Rt,n)}var ti=null,oh=!1,uf=!1;function kx(t){ti===null?ti=[t]:ti.push(t)}function $T(t){oh=!0,kx(t)}function gr(){if(!uf&&ti!==null){uf=!0;var t=0,e=pe;try{var n=ti;for(pe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ti=null,oh=!1}catch(r){throw ti!==null&&(ti=ti.slice(t+1)),Kw(_m,gr),r}finally{pe=e,uf=!1}}return null}var Cs=[],Es=0,tc=null,nc=0,Jt=[],Qt=0,Wr=null,ni=1,ii="";function Cr(t,e){Cs[Es++]=nc,Cs[Es++]=tc,tc=t,nc=e}function bx(t,e,n){Jt[Qt++]=ni,Jt[Qt++]=ii,Jt[Qt++]=Wr,Wr=t;var i=ni;t=ii;var r=32-vn(i)-1;i&=~(1<<r),n+=1;var s=32-vn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ni=1<<32-vn(e)+r|n<<r|i,ii=s+t}else ni=1<<s|n<<r|i,ii=t}function Nm(t){t.return!==null&&(Cr(t,1),bx(t,1,0))}function Lm(t){for(;t===tc;)tc=Cs[--Es],Cs[Es]=null,nc=Cs[--Es],Cs[Es]=null;for(;t===Wr;)Wr=Jt[--Qt],Jt[Qt]=null,ii=Jt[--Qt],Jt[Qt]=null,ni=Jt[--Qt],Jt[Qt]=null}var Ut=null,Vt=null,Ee=!1,gn=null;function Cx(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ut=t,Vt=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ut=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wr!==null?{id:ni,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ut=t,Vt=null,!0):!1;default:return!1}}function Bd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fd(t){if(Ee){var e=Vt;if(e){var n=e;if(!G0(t,e)){if(Bd(t))throw Error(B(418));e=Gi(n.nextSibling);var i=Ut;e&&G0(t,e)?Cx(i,n):(t.flags=t.flags&-4097|2,Ee=!1,Ut=t)}}else{if(Bd(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ee=!1,Ut=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function Da(t){if(t!==Ut)return!1;if(!Ee)return Y0(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rd(t.type,t.memoizedProps)),e&&(e=Vt)){if(Bd(t))throw Ex(),Error(B(418));for(;e;)Cx(t,e),e=Gi(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vt=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=Ut?Gi(t.stateNode.nextSibling):null;return!0}function Ex(){for(var t=Vt;t;)t=Gi(t.nextSibling)}function Qs(){Vt=Ut=null,Ee=!1}function Bm(t){gn===null?gn=[t]:gn.push(t)}var jT=gi.ReactCurrentBatchConfig;function pn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ic=mr(null),rc=null,_s=null,Fm=null;function $m(){Fm=_s=rc=null}function jm(t){var e=ic.current;Ce(ic),t._currentValue=e}function $d(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){rc=t,Fm=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(Fm!==t)if(t={context:t,memoizedValue:e,next:null},_s===null){if(rc===null)throw Error(B(308));_s=t,rc.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return e}var Dr=null;function Vm(t){Dr===null?Dr=[t]:Dr.push(t)}function _x(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Vm(e)):(n.next=r.next,r.next=n),e.interleaved=n,ui(t,i)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ei=!1;function zm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ae&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ui(t,n)}return r=i.interleaved,r===null?(e.next=e,Vm(i)):(e.next=r.next,r.next=e),i.interleaved=e,ui(t,n)}function yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Tm(t,n)}}function J0(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sc(t,e,n,i){var r=t.updateQueue;Ei=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=r.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,d=l.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,y=l;switch(f=e,d=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=Oe({},h,f);break e;case 2:Ei=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else d={eventTime:d,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=d,a=h):c=c.next=d,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(c===null&&(a=h),r.baseState=a,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Kr|=o,t.lanes=o,t.memoizedState=h}}function Q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(B(191,r));r.call(i)}}}var Ax=new _w.Component().refs;function jd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lh={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=St(),r=Qi(t),s=oi(i,r);s.payload=e,n!=null&&(s.callback=n),e=Yi(t,s,r),e!==null&&(wn(e,t,r,i),yu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=St(),r=Qi(t),s=oi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yi(t,s,r),e!==null&&(wn(e,t,r,i),yu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),i=Qi(t),r=oi(n,i);r.tag=2,e!=null&&(r.callback=e),e=Yi(t,r,i),e!==null&&(wn(e,t,i,n),yu(e,t,i))}};function X0(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!xl(n,i)||!xl(r,s):!0}function Ix(t,e,n){var i=!1,r=lr,s=e.contextType;return typeof s=="object"&&s!==null?s=on(s):(r=Mt(e)?Hr:ft.current,i=e.contextTypes,s=(i=i!=null)?Js(t,r):lr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Z0(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&lh.enqueueReplaceState(e,e.state,null)}function Vd(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Ax,zm(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=on(s):(s=Mt(e)?Hr:ft.current,r.context=Js(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jd(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&lh.enqueueReplaceState(r,r.state,null),sc(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var i=n.stateNode}if(!i)throw Error(B(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;l===Ax&&(l=r.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ra(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ey(t){var e=t._init;return e(t._payload)}function Ox(t){function e(m,g){if(t){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function i(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function r(m,g){return m=Xi(m,g),m.index=0,m.sibling=null,m}function s(m,g,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,g,w,x){return g===null||g.tag!==6?(g=gf(w,m.mode,x),g.return=m,g):(g=r(g,w),g.return=m,g)}function a(m,g,w,x){var S=w.type;return S===vs?c(m,g,w.props.children,x,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ci&&ey(S)===g.type)?(x=r(g,w.props),x.ref=To(m,g,w),x.return=m,x):(x=bu(w.type,w.key,w.props,null,m.mode,x),x.ref=To(m,g,w),x.return=m,x)}function u(m,g,w,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=yf(w,m.mode,x),g.return=m,g):(g=r(g,w.children||[]),g.return=m,g)}function c(m,g,w,x,S){return g===null||g.tag!==7?(g=jr(w,m.mode,x,S),g.return=m,g):(g=r(g,w),g.return=m,g)}function h(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=gf(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ka:return w=bu(g.type,g.key,g.props,null,m.mode,w),w.ref=To(m,null,g),w.return=m,w;case ys:return g=yf(g,m.mode,w),g.return=m,g;case Ci:var x=g._init;return h(m,x(g._payload),w)}if(Fo(g)||ko(g))return g=jr(g,m.mode,w,null),g.return=m,g;Ra(m,g)}return null}function f(m,g,w,x){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(m,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ka:return w.key===S?a(m,g,w,x):null;case ys:return w.key===S?u(m,g,w,x):null;case Ci:return S=w._init,f(m,g,S(w._payload),x)}if(Fo(w)||ko(w))return S!==null?null:c(m,g,w,x,null);Ra(m,w)}return null}function d(m,g,w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(w)||null,l(g,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ka:return m=m.get(x.key===null?w:x.key)||null,a(g,m,x,S);case ys:return m=m.get(x.key===null?w:x.key)||null,u(g,m,x,S);case Ci:var E=x._init;return d(m,g,w,E(x._payload),S)}if(Fo(x)||ko(x))return m=m.get(w)||null,c(g,m,x,S,null);Ra(g,x)}return null}function p(m,g,w,x){for(var S=null,E=null,C=g,T=g=0,O=null;C!==null&&T<w.length;T++){C.index>T?(O=C,C=null):O=C.sibling;var P=f(m,C,w[T],x);if(P===null){C===null&&(C=O);break}t&&C&&P.alternate===null&&e(m,C),g=s(P,g,T),E===null?S=P:E.sibling=P,E=P,C=O}if(T===w.length)return n(m,C),Ee&&Cr(m,T),S;if(C===null){for(;T<w.length;T++)C=h(m,w[T],x),C!==null&&(g=s(C,g,T),E===null?S=C:E.sibling=C,E=C);return Ee&&Cr(m,T),S}for(C=i(m,C);T<w.length;T++)O=d(C,m,T,w[T],x),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?T:O.key),g=s(O,g,T),E===null?S=O:E.sibling=O,E=O);return t&&C.forEach(function(L){return e(m,L)}),Ee&&Cr(m,T),S}function y(m,g,w,x){var S=ko(w);if(typeof S!="function")throw Error(B(150));if(w=S.call(w),w==null)throw Error(B(151));for(var E=S=null,C=g,T=g=0,O=null,P=w.next();C!==null&&!P.done;T++,P=w.next()){C.index>T?(O=C,C=null):O=C.sibling;var L=f(m,C,P.value,x);if(L===null){C===null&&(C=O);break}t&&C&&L.alternate===null&&e(m,C),g=s(L,g,T),E===null?S=L:E.sibling=L,E=L,C=O}if(P.done)return n(m,C),Ee&&Cr(m,T),S;if(C===null){for(;!P.done;T++,P=w.next())P=h(m,P.value,x),P!==null&&(g=s(P,g,T),E===null?S=P:E.sibling=P,E=P);return Ee&&Cr(m,T),S}for(C=i(m,C);!P.done;T++,P=w.next())P=d(C,m,T,P.value,x),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),g=s(P,g,T),E===null?S=P:E.sibling=P,E=P);return t&&C.forEach(function(M){return e(m,M)}),Ee&&Cr(m,T),S}function v(m,g,w,x){if(typeof w=="object"&&w!==null&&w.type===vs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ka:e:{for(var S=w.key,E=g;E!==null;){if(E.key===S){if(S=w.type,S===vs){if(E.tag===7){n(m,E.sibling),g=r(E,w.props.children),g.return=m,m=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ci&&ey(S)===E.type){n(m,E.sibling),g=r(E,w.props),g.ref=To(m,E,w),g.return=m,m=g;break e}n(m,E);break}else e(m,E);E=E.sibling}w.type===vs?(g=jr(w.props.children,m.mode,x,w.key),g.return=m,m=g):(x=bu(w.type,w.key,w.props,null,m.mode,x),x.ref=To(m,g,w),x.return=m,m=x)}return o(m);case ys:e:{for(E=w.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(m,g.sibling),g=r(g,w.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=yf(w,m.mode,x),g.return=m,m=g}return o(m);case Ci:return E=w._init,v(m,g,E(w._payload),x)}if(Fo(w))return p(m,g,w,x);if(ko(w))return y(m,g,w,x);Ra(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(m,g.sibling),g=r(g,w),g.return=m,m=g):(n(m,g),g=gf(w,m.mode,x),g.return=m,m=g),o(m)):n(m,g)}return v}var Xs=Ox(!0),Px=Ox(!1),ea={},Vn=mr(ea),Cl=mr(ea),El=mr(ea);function Rr(t){if(t===ea)throw Error(B(174));return t}function Um(t,e){switch(xe(El,e),xe(Cl,t),xe(Vn,ea),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wd(e,t)}Ce(Vn),xe(Vn,e)}function Zs(){Ce(Vn),Ce(Cl),Ce(El)}function Dx(t){Rr(El.current);var e=Rr(Vn.current),n=wd(e,t.type);e!==n&&(xe(Cl,t),xe(Vn,n))}function Hm(t){Cl.current===t&&(Ce(Vn),Ce(Cl))}var Te=mr(0);function oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cf=[];function Wm(){for(var t=0;t<cf.length;t++)cf[t]._workInProgressVersionPrimary=null;cf.length=0}var vu=gi.ReactCurrentDispatcher,hf=gi.ReactCurrentBatchConfig,qr=0,Ie=null,je=null,We=null,lc=!1,nl=!1,_l=0,VT=0;function st(){throw Error(B(321))}function qm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function Km(t,e,n,i,r,s){if(qr=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vu.current=t===null||t.memoizedState===null?WT:qT,t=n(i,r),nl){s=0;do{if(nl=!1,_l=0,25<=s)throw Error(B(301));s+=1,We=je=null,e.updateQueue=null,vu.current=KT,t=n(i,r)}while(nl)}if(vu.current=ac,e=je!==null&&je.next!==null,qr=0,We=je=Ie=null,lc=!1,e)throw Error(B(300));return t}function Gm(){var t=_l!==0;return _l=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ie.memoizedState=We=t:We=We.next=t,We}function ln(){if(je===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=We===null?Ie.memoizedState:We.next;if(e!==null)We=e,je=t;else{if(t===null)throw Error(B(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},We===null?Ie.memoizedState=We=t:We=We.next=t}return We}function Tl(t,e){return typeof e=="function"?e(t):e}function ff(t){var e=ln(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=je,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((qr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=i):a=a.next=h,Ie.lanes|=c,Kr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=i:a.next=l,xn(i,e.memoizedState)||(Ot=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ie.lanes|=s,Kr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function df(t){var e=ln(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);xn(s,e.memoizedState)||(Ot=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Rx(){}function Mx(t,e){var n=Ie,i=ln(),r=e(),s=!xn(i.memoizedState,r);if(s&&(i.memoizedState=r,Ot=!0),i=i.queue,Ym(Bx.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Al(9,Lx.bind(null,n,i,r,e),void 0,null),qe===null)throw Error(B(349));qr&30||Nx(n,e,r)}return r}function Nx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lx(t,e,n,i){e.value=n,e.getSnapshot=i,Fx(e)&&$x(t)}function Bx(t,e,n){return n(function(){Fx(e)&&$x(t)})}function Fx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function $x(t){var e=ui(t,1);e!==null&&wn(e,t,1,-1)}function ty(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=HT.bind(null,Ie,t),[e.memoizedState,t]}function Al(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function jx(){return ln().memoizedState}function wu(t,e,n,i){var r=On();Ie.flags|=t,r.memoizedState=Al(1|e,n,void 0,i===void 0?null:i)}function ah(t,e,n,i){var r=ln();i=i===void 0?null:i;var s=void 0;if(je!==null){var o=je.memoizedState;if(s=o.destroy,i!==null&&qm(i,o.deps)){r.memoizedState=Al(e,n,s,i);return}}Ie.flags|=t,r.memoizedState=Al(1|e,n,s,i)}function ny(t,e){return wu(8390656,8,t,e)}function Ym(t,e){return ah(2048,8,t,e)}function Vx(t,e){return ah(4,2,t,e)}function zx(t,e){return ah(4,4,t,e)}function Ux(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hx(t,e,n){return n=n!=null?n.concat([t]):null,ah(4,4,Ux.bind(null,e,t),n)}function Jm(){}function Wx(t,e){var n=ln();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&qm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function qx(t,e){var n=ln();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&qm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Kx(t,e,n){return qr&21?(xn(n,e)||(n=Jw(),Ie.lanes|=n,Kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function zT(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var i=hf.transition;hf.transition={};try{t(!1),e()}finally{pe=n,hf.transition=i}}function Gx(){return ln().memoizedState}function UT(t,e,n){var i=Qi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Yx(t))Jx(e,n);else if(n=_x(t,e,n,i),n!==null){var r=St();wn(n,t,i,r),Qx(n,e,i)}}function HT(t,e,n){var i=Qi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yx(t))Jx(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(r.hasEagerState=!0,r.eagerState=l,xn(l,o)){var a=e.interleaved;a===null?(r.next=r,Vm(e)):(r.next=a.next,a.next=r),e.interleaved=r;return}}catch{}finally{}n=_x(t,e,r,i),n!==null&&(r=St(),wn(n,t,i,r),Qx(n,e,i))}}function Yx(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function Jx(t,e){nl=lc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qx(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Tm(t,n)}}var ac={readContext:on,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},WT={readContext:on,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:ny,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wu(4194308,4,Ux.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return wu(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=On();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=UT.bind(null,Ie,t),[i.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:ty,useDebugValue:Jm,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=ty(!1),e=t[0];return t=zT.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ie,r=On();if(Ee){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),qe===null)throw Error(B(349));qr&30||Nx(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,ny(Bx.bind(null,i,s,t),[t]),i.flags|=2048,Al(9,Lx.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=On(),e=qe.identifierPrefix;if(Ee){var n=ii,i=ni;n=(i&~(1<<32-vn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qT={readContext:on,useCallback:Wx,useContext:on,useEffect:Ym,useImperativeHandle:Hx,useInsertionEffect:Vx,useLayoutEffect:zx,useMemo:qx,useReducer:ff,useRef:jx,useState:function(){return ff(Tl)},useDebugValue:Jm,useDeferredValue:function(t){var e=ln();return Kx(e,je.memoizedState,t)},useTransition:function(){var t=ff(Tl)[0],e=ln().memoizedState;return[t,e]},useMutableSource:Rx,useSyncExternalStore:Mx,useId:Gx,unstable_isNewReconciler:!1},KT={readContext:on,useCallback:Wx,useContext:on,useEffect:Ym,useImperativeHandle:Hx,useInsertionEffect:Vx,useLayoutEffect:zx,useMemo:qx,useReducer:df,useRef:jx,useState:function(){return df(Tl)},useDebugValue:Jm,useDeferredValue:function(t){var e=ln();return je===null?e.memoizedState=t:Kx(e,je.memoizedState,t)},useTransition:function(){var t=df(Tl)[0],e=ln().memoizedState;return[t,e]},useMutableSource:Rx,useSyncExternalStore:Mx,useId:Gx,unstable_isNewReconciler:!1};function eo(t,e){try{var n="",i=e;do n+=S_(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function pf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GT=typeof WeakMap=="function"?WeakMap:Map;function Xx(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){cc||(cc=!0,Xd=i),zd(t,e)},n}function Zx(t,e,n){n=oi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){zd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zd(t,e),typeof i!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iy(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new GT;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=aA.bind(null,t,e,n),e.then(t,t))}function ry(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sy(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,Yi(n,e,1))),n.lanes|=1),t)}var YT=gi.ReactCurrentOwner,Ot=!1;function vt(t,e,n,i){e.child=t===null?Px(e,null,n,i):Xs(e,t.child,n,i)}function oy(t,e,n,i,r){n=n.render;var s=e.ref;return Fs(e,r),i=Km(t,e,n,i,s,r),n=Gm(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ci(t,e,r)):(Ee&&n&&Nm(e),e.flags|=1,vt(t,e,i,r),e.child)}function ly(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!rg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eS(t,e,s,i,r)):(t=bu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(o,i)&&t.ref===e.ref)return ci(t,e,r)}return e.flags|=1,t=Xi(s,i),t.ref=e.ref,t.return=e,e.child=t}function eS(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(xl(s,i)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,ci(t,e,r)}return Ud(t,e,n,i,r)}function tS(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(As,Bt),Bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(As,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,xe(As,Bt),Bt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,xe(As,Bt),Bt|=i;return vt(t,e,r,n),e.child}function nS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ud(t,e,n,i,r){var s=Mt(n)?Hr:ft.current;return s=Js(e,s),Fs(e,r),n=Km(t,e,n,i,s,r),i=Gm(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ci(t,e,r)):(Ee&&i&&Nm(e),e.flags|=1,vt(t,e,n,r),e.child)}function ay(t,e,n,i,r){if(Mt(n)){var s=!0;ec(e)}else s=!1;if(Fs(e,r),e.stateNode===null)xu(t,e),Ix(e,n,i),Vd(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Mt(n)?Hr:ft.current,u=Js(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==u)&&Z0(e,o,i,u),Ei=!1;var f=e.memoizedState;o.state=f,sc(e,i,o,r),a=e.memoizedState,l!==i||f!==a||Rt.current||Ei?(typeof c=="function"&&(jd(e,n,c,i),a=e.memoizedState),(l=Ei||X0(e,n,l,i,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Tx(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:pn(e.type,l),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=on(a):(a=Mt(n)?Hr:ft.current,a=Js(e,a));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&Z0(e,o,i,a),Ei=!1,f=e.memoizedState,o.state=f,sc(e,i,o,r);var p=e.memoizedState;l!==h||f!==p||Rt.current||Ei?(typeof d=="function"&&(jd(e,n,d,i),p=e.memoizedState),(u=Ei||X0(e,n,u,i,f,p,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=a,i=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Hd(t,e,n,i,s,r)}function Hd(t,e,n,i,r,s){nS(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&K0(e,n,!1),ci(t,e,s);i=e.stateNode,YT.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Xs(e,t.child,null,s),e.child=Xs(e,null,l,s)):vt(t,e,l,s),e.memoizedState=i.state,r&&K0(e,n,!0),e.child}function iS(t){var e=t.stateNode;e.pendingContext?q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q0(t,e.context,!1),Um(t,e.containerInfo)}function uy(t,e,n,i,r){return Qs(),Bm(r),e.flags|=256,vt(t,e,n,i),e.child}var Wd={dehydrated:null,treeContext:null,retryLane:0};function qd(t){return{baseLanes:t,cachePool:null,transitions:null}}function rS(t,e,n){var i=e.pendingProps,r=Te.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),xe(Te,r&1),t===null)return Fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hh(o,i,0,null),t=jr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qd(n),e.memoizedState=Wd,t):Qm(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return JT(t,e,o,i,l,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,l=r.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=Xi(r,a),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=Xi(l,s):(s=jr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?qd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wd,i}return s=t.child,t=s.sibling,i=Xi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Qm(t,e){return e=hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ma(t,e,n,i){return i!==null&&Bm(i),Xs(e,t.child,null,n),t=Qm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JT(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=pf(Error(B(422))),Ma(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=hh({mode:"visible",children:i.children},r,0,null),s=jr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Xs(e,t.child,null,o),e.child.memoizedState=qd(o),e.memoizedState=Wd,s);if(!(e.mode&1))return Ma(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(B(419)),i=pf(s,i,void 0),Ma(t,e,o,i)}if(l=(o&t.childLanes)!==0,Ot||l){if(i=qe,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ui(t,r),wn(i,t,r,-1))}return ig(),i=pf(Error(B(421))),Ma(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=uA.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Vt=Gi(r.nextSibling),Ut=e,Ee=!0,gn=null,t!==null&&(Jt[Qt++]=ni,Jt[Qt++]=ii,Jt[Qt++]=Wr,ni=t.id,ii=t.overflow,Wr=e),e=Qm(e,i.children),e.flags|=4096,e)}function cy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),$d(t.return,e,n)}function mf(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function sS(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(vt(t,e,i.children,n),i=Te.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,n,e);else if(t.tag===19)cy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(xe(Te,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&oc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),mf(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&oc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}mf(e,!0,n,null,s);break;case"together":mf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QT(t,e,n){switch(e.tag){case 3:iS(e),Qs();break;case 5:Dx(e);break;case 1:Mt(e.type)&&ec(e);break;case 4:Um(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;xe(ic,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(xe(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?rS(t,e,n):(xe(Te,Te.current&1),t=ci(t,e,n),t!==null?t.sibling:null);xe(Te,Te.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return sS(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xe(Te,Te.current),i)break;return null;case 22:case 23:return e.lanes=0,tS(t,e,n)}return ci(t,e,n)}var oS,Kd,lS,aS;oS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kd=function(){};lS=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Rr(Vn.current);var s=null;switch(n){case"input":r=md(t,r),i=md(t,i),s=[];break;case"select":r=Oe({},r,{value:void 0}),i=Oe({},i,{value:void 0}),s=[];break;case"textarea":r=vd(t,r),i=vd(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Xu)}xd(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var a=i[u];if(l=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dl.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Se("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};aS=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ao(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function XT(t,e,n){var i=e.pendingProps;switch(Lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return Mt(e.type)&&Zu(),ot(e),null;case 3:return i=e.stateNode,Zs(),Ce(Rt),Ce(ft),Wm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Da(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(tp(gn),gn=null))),Kd(t,e),ot(e),null;case 5:Hm(e);var r=Rr(El.current);if(n=e.type,t!==null&&e.stateNode!=null)lS(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(B(166));return ot(e),null}if(t=Rr(Vn.current),Da(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Rn]=e,i[bl]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",i),Se("close",i);break;case"iframe":case"object":case"embed":Se("load",i);break;case"video":case"audio":for(r=0;r<jo.length;r++)Se(jo[r],i);break;case"source":Se("error",i);break;case"img":case"image":case"link":Se("error",i),Se("load",i);break;case"details":Se("toggle",i);break;case"input":w0(i,s),Se("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Se("invalid",i);break;case"textarea":S0(i,s),Se("invalid",i)}xd(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&Pa(i.textContent,l,t),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Pa(i.textContent,l,t),r=["children",""+l]):dl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Se("scroll",i)}switch(n){case"input":ba(i),x0(i,s,!0);break;case"textarea":ba(i),k0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Xu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Rn]=e,t[bl]=i,oS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sd(n,i),n){case"dialog":Se("cancel",t),Se("close",t),r=i;break;case"iframe":case"object":case"embed":Se("load",t),r=i;break;case"video":case"audio":for(r=0;r<jo.length;r++)Se(jo[r],t);r=i;break;case"source":Se("error",t),r=i;break;case"img":case"image":case"link":Se("error",t),Se("load",t),r=i;break;case"details":Se("toggle",t),r=i;break;case"input":w0(t,i),r=md(t,i),Se("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Oe({},i,{value:void 0}),Se("invalid",t);break;case"textarea":S0(t,i),r=vd(t,i),Se("invalid",t);break;default:r=i}xd(n,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Fw(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Lw(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&pl(t,a):typeof a=="number"&&pl(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dl.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Se("scroll",t):a!=null&&Sm(t,s,a,o))}switch(n){case"input":ba(t),x0(t,i,!1);break;case"textarea":ba(t),k0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+or(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Ms(t,!!i.multiple,s,!1):i.defaultValue!=null&&Ms(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Xu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)aS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(B(166));if(n=Rr(El.current),Rr(Vn.current),Da(e)){if(i=e.stateNode,n=e.memoizedProps,i[Rn]=e,(s=i.nodeValue!==n)&&(t=Ut,t!==null))switch(t.tag){case 3:Pa(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pa(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Rn]=e,e.stateNode=i}return ot(e),null;case 13:if(Ce(Te),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Vt!==null&&e.mode&1&&!(e.flags&128))Ex(),Qs(),e.flags|=98560,s=!1;else if(s=Da(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Rn]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),s=!1}else gn!==null&&(tp(gn),gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?ze===0&&(ze=3):ig())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return Zs(),Kd(t,e),t===null&&Sl(e.stateNode.containerInfo),ot(e),null;case 10:return jm(e.type._context),ot(e),null;case 17:return Mt(e.type)&&Zu(),ot(e),null;case 19:if(Ce(Te),s=e.memoizedState,s===null)return ot(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ao(s,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oc(t),o!==null){for(e.flags|=128,Ao(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Te,Te.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ne()>to&&(e.flags|=128,i=!0,Ao(s,!1),e.lanes=4194304)}else{if(!i)if(t=oc(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ao(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return ot(e),null}else 2*Ne()-s.renderingStartTime>to&&n!==1073741824&&(e.flags|=128,i=!0,Ao(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ne(),e.sibling=null,n=Te.current,xe(Te,i?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return ng(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Bt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function ZT(t,e){switch(Lm(e),e.tag){case 1:return Mt(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zs(),Ce(Rt),Ce(ft),Wm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hm(e),null;case 13:if(Ce(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Te),null;case 4:return Zs(),null;case 10:return jm(e.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var Na=!1,at=!1,eA=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ts(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Pe(t,e,i)}else n.current=null}function Gd(t,e,n){try{n()}catch(i){Pe(t,e,i)}}var hy=!1;function tA(t,e){if(Pd=Yu,t=fx(),Mm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==s||i!==0&&h.nodeType!==3||(a=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++u===r&&(l=o),f===s&&++c===i&&(a=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dd={focusedElem:t,selectionRange:n},Yu=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,v=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:pn(e.type,y),v);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){Pe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return p=hy,hy=!1,p}function il(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Gd(e,n,s)}r=r.next}while(r!==i)}}function uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Yd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uS(t){var e=t.alternate;e!==null&&(t.alternate=null,uS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rn],delete e[bl],delete e[Nd],delete e[BT],delete e[FT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cS(t){return t.tag===5||t.tag===3||t.tag===4}function fy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xu));else if(i!==4&&(t=t.child,t!==null))for(Jd(t,e,n),t=t.sibling;t!==null;)Jd(t,e,n),t=t.sibling}function Qd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Qd(t,e,n),t=t.sibling;t!==null;)Qd(t,e,n),t=t.sibling}var Ye=null,mn=!1;function Si(t,e,n){for(n=n.child;n!==null;)hS(t,e,n),n=n.sibling}function hS(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(th,n)}catch{}switch(n.tag){case 5:at||Ts(n,e);case 6:var i=Ye,r=mn;Ye=null,Si(t,e,n),Ye=i,mn=r,Ye!==null&&(mn?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(mn?(t=Ye,n=n.stateNode,t.nodeType===8?af(t.parentNode,n):t.nodeType===1&&af(t,n),vl(t)):af(Ye,n.stateNode));break;case 4:i=Ye,r=mn,Ye=n.stateNode.containerInfo,mn=!0,Si(t,e,n),Ye=i,mn=r;break;case 0:case 11:case 14:case 15:if(!at&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gd(n,e,o),r=r.next}while(r!==i)}Si(t,e,n);break;case 1:if(!at&&(Ts(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){Pe(n,e,l)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(at=(i=at)||n.memoizedState!==null,Si(t,e,n),at=i):Si(t,e,n);break;default:Si(t,e,n)}}function dy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eA),e.forEach(function(i){var r=cA.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,mn=!1;break e;case 3:Ye=l.stateNode.containerInfo,mn=!0;break e;case 4:Ye=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(Ye===null)throw Error(B(160));hS(s,o,r),Ye=null,mn=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(u){Pe(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fS(e,t),e=e.sibling}function fS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),En(t),i&4){try{il(3,t,t.return),uh(3,t)}catch(y){Pe(t,t.return,y)}try{il(5,t,t.return)}catch(y){Pe(t,t.return,y)}}break;case 1:hn(e,t),En(t),i&512&&n!==null&&Ts(n,n.return);break;case 5:if(hn(e,t),En(t),i&512&&n!==null&&Ts(n,n.return),t.flags&32){var r=t.stateNode;try{pl(r,"")}catch(y){Pe(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Rw(r,s),Sd(l,o);var u=Sd(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?Fw(r,h):c==="dangerouslySetInnerHTML"?Lw(r,h):c==="children"?pl(r,h):Sm(r,c,h,u)}switch(l){case"input":gd(r,s);break;case"textarea":Mw(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Ms(r,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ms(r,!!s.multiple,s.defaultValue,!0):Ms(r,!!s.multiple,s.multiple?[]:"",!1))}r[bl]=s}catch(y){Pe(t,t.return,y)}}break;case 6:if(hn(e,t),En(t),i&4){if(t.stateNode===null)throw Error(B(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Pe(t,t.return,y)}}break;case 3:if(hn(e,t),En(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{vl(e.containerInfo)}catch(y){Pe(t,t.return,y)}break;case 4:hn(e,t),En(t);break;case 13:hn(e,t),En(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(eg=Ne())),i&4&&dy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(at=(u=at)||c,hn(e,t),at=u):hn(e,t),En(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(h=W=c;W!==null;){switch(f=W,d=f.child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:Ts(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Pe(i,n,y)}}break;case 5:Ts(f,f.return);break;case 22:if(f.memoizedState!==null){my(h);continue}}d!==null?(d.return=f,W=d):my(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Bw("display",o))}catch(y){Pe(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Pe(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hn(e,t),En(t),i&4&&dy(t);break;case 21:break;default:hn(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cS(n)){var i=n;break e}n=n.return}throw Error(B(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(pl(r,""),i.flags&=-33);var s=fy(t);Qd(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=fy(t);Jd(t,l,o);break;default:throw Error(B(161))}}catch(a){Pe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nA(t,e,n){W=t,dS(t)}function dS(t,e,n){for(var i=(t.mode&1)!==0;W!==null;){var r=W,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Na;if(!o){var l=r.alternate,a=l!==null&&l.memoizedState!==null||at;l=Na;var u=at;if(Na=o,(at=a)&&!u)for(W=r;W!==null;)o=W,a=o.child,o.tag===22&&o.memoizedState!==null?gy(r):a!==null?(a.return=o,W=a):gy(r);for(;s!==null;)W=s,dS(s),s=s.sibling;W=r,Na=l,at=u}py(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,W=s):py(t)}}function py(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||uh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!at)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Q0(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&vl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}at||e.flags&512&&Yd(e)}catch(f){Pe(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function my(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function gy(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uh(4,e)}catch(a){Pe(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(a){Pe(e,r,a)}}var s=e.return;try{Yd(e)}catch(a){Pe(e,s,a)}break;case 5:var o=e.return;try{Yd(e)}catch(a){Pe(e,o,a)}}}catch(a){Pe(e,e.return,a)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var iA=Math.ceil,uc=gi.ReactCurrentDispatcher,Xm=gi.ReactCurrentOwner,tn=gi.ReactCurrentBatchConfig,ae=0,qe=null,Fe=null,tt=0,Bt=0,As=mr(0),ze=0,Il=null,Kr=0,ch=0,Zm=0,rl=null,Tt=null,eg=0,to=1/0,ei=null,cc=!1,Xd=null,Ji=null,La=!1,Bi=null,hc=0,sl=0,Zd=null,Su=-1,ku=0;function St(){return ae&6?Ne():Su!==-1?Su:Su=Ne()}function Qi(t){return t.mode&1?ae&2&&tt!==0?tt&-tt:jT.transition!==null?(ku===0&&(ku=Jw()),ku):(t=pe,t!==0||(t=window.event,t=t===void 0?16:ix(t.type)),t):1}function wn(t,e,n,i){if(50<sl)throw sl=0,Zd=null,Error(B(185));Ql(t,n,i),(!(ae&2)||t!==qe)&&(t===qe&&(!(ae&2)&&(ch|=n),ze===4&&Ii(t,tt)),Nt(t,i),n===1&&ae===0&&!(e.mode&1)&&(to=Ne()+500,oh&&gr()))}function Nt(t,e){var n=t.callbackNode;j_(t,e);var i=Gu(t,t===qe?tt:0);if(i===0)n!==null&&E0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&E0(n),e===1)t.tag===0?$T(yy.bind(null,t)):kx(yy.bind(null,t)),NT(function(){!(ae&6)&&gr()}),n=null;else{switch(Qw(i)){case 1:n=_m;break;case 4:n=Gw;break;case 16:n=Ku;break;case 536870912:n=Yw;break;default:n=Ku}n=SS(n,pS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pS(t,e){if(Su=-1,ku=0,ae&6)throw Error(B(327));var n=t.callbackNode;if($s()&&t.callbackNode!==n)return null;var i=Gu(t,t===qe?tt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=fc(t,i);else{e=i;var r=ae;ae|=2;var s=gS();(qe!==t||tt!==e)&&(ei=null,to=Ne()+500,$r(t,e));do try{oA();break}catch(l){mS(t,l)}while(!0);$m(),uc.current=s,ae=r,Fe!==null?e=0:(qe=null,tt=0,e=ze)}if(e!==0){if(e===2&&(r=_d(t),r!==0&&(i=r,e=ep(t,r))),e===1)throw n=Il,$r(t,0),Ii(t,i),Nt(t,Ne()),n;if(e===6)Ii(t,i);else{if(r=t.current.alternate,!(i&30)&&!rA(r)&&(e=fc(t,i),e===2&&(s=_d(t),s!==0&&(i=s,e=ep(t,s))),e===1))throw n=Il,$r(t,0),Ii(t,i),Nt(t,Ne()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(B(345));case 2:Er(t,Tt,ei);break;case 3:if(Ii(t,i),(i&130023424)===i&&(e=eg+500-Ne(),10<e)){if(Gu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){St(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Md(Er.bind(null,t,Tt,ei),e);break}Er(t,Tt,ei);break;case 4:if(Ii(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-vn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ne()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*iA(i/1960))-i,10<i){t.timeoutHandle=Md(Er.bind(null,t,Tt,ei),i);break}Er(t,Tt,ei);break;case 5:Er(t,Tt,ei);break;default:throw Error(B(329))}}}return Nt(t,Ne()),t.callbackNode===n?pS.bind(null,t):null}function ep(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&($r(t,e).flags|=256),t=fc(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&tp(e)),t}function tp(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function rA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!xn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~Zm,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),i=1<<n;t[n]=-1,e&=~i}}function yy(t){if(ae&6)throw Error(B(327));$s();var e=Gu(t,0);if(!(e&1))return Nt(t,Ne()),null;var n=fc(t,e);if(t.tag!==0&&n===2){var i=_d(t);i!==0&&(e=i,n=ep(t,i))}if(n===1)throw n=Il,$r(t,0),Ii(t,e),Nt(t,Ne()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Er(t,Tt,ei),Nt(t,Ne()),null}function tg(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(to=Ne()+500,oh&&gr())}}function Gr(t){Bi!==null&&Bi.tag===0&&!(ae&6)&&$s();var e=ae;ae|=1;var n=tn.transition,i=pe;try{if(tn.transition=null,pe=1,t)return t()}finally{pe=i,tn.transition=n,ae=e,!(ae&6)&&gr()}}function ng(){Bt=As.current,Ce(As)}function $r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MT(n)),Fe!==null)for(n=Fe.return;n!==null;){var i=n;switch(Lm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Zu();break;case 3:Zs(),Ce(Rt),Ce(ft),Wm();break;case 5:Hm(i);break;case 4:Zs();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:jm(i.type._context);break;case 22:case 23:ng()}n=n.return}if(qe=t,Fe=t=Xi(t.current,null),tt=Bt=e,ze=0,Il=null,Zm=ch=Kr=0,Tt=rl=null,Dr!==null){for(e=0;e<Dr.length;e++)if(n=Dr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Dr=null}return t}function mS(t,e){do{var n=Fe;try{if($m(),vu.current=ac,lc){for(var i=Ie.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}lc=!1}if(qr=0,We=je=Ie=null,nl=!1,_l=0,Xm.current=null,n===null||n.return===null){ze=1,Il=e,Fe=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=tt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=ry(o);if(d!==null){d.flags&=-257,sy(d,o,l,s,e),d.mode&1&&iy(s,u,e),e=d,a=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(a),e.updateQueue=y}else p.add(a);break e}else{if(!(e&1)){iy(s,u,e),ig();break e}a=Error(B(426))}}else if(Ee&&l.mode&1){var v=ry(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),sy(v,o,l,s,e),Bm(eo(a,l));break e}}s=a=eo(a,l),ze!==4&&(ze=2),rl===null?rl=[s]:rl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Xx(s,a,e);J0(s,m);break e;case 1:l=a;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ji===null||!Ji.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Zx(s,l,e);J0(s,x);break e}}s=s.return}while(s!==null)}vS(n)}catch(S){e=S,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function gS(){var t=uc.current;return uc.current=ac,t===null?ac:t}function ig(){(ze===0||ze===3||ze===2)&&(ze=4),qe===null||!(Kr&268435455)&&!(ch&268435455)||Ii(qe,tt)}function fc(t,e){var n=ae;ae|=2;var i=gS();(qe!==t||tt!==e)&&(ei=null,$r(t,e));do try{sA();break}catch(r){mS(t,r)}while(!0);if($m(),ae=n,uc.current=i,Fe!==null)throw Error(B(261));return qe=null,tt=0,ze}function sA(){for(;Fe!==null;)yS(Fe)}function oA(){for(;Fe!==null&&!P_();)yS(Fe)}function yS(t){var e=xS(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?vS(t):Fe=e,Xm.current=null}function vS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZT(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Fe=null;return}}else if(n=XT(n,e,Bt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);ze===0&&(ze=5)}function Er(t,e,n){var i=pe,r=tn.transition;try{tn.transition=null,pe=1,lA(t,e,n,i)}finally{tn.transition=r,pe=i}return null}function lA(t,e,n,i){do $s();while(Bi!==null);if(ae&6)throw Error(B(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(V_(t,s),t===qe&&(Fe=qe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,SS(Ku,function(){return $s(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tn.transition,tn.transition=null;var o=pe;pe=1;var l=ae;ae|=4,Xm.current=null,tA(t,n),fS(n,t),TT(Dd),Yu=!!Pd,Dd=Pd=null,t.current=n,nA(n),D_(),ae=l,pe=o,tn.transition=s}else t.current=n;if(La&&(La=!1,Bi=t,hc=r),s=t.pendingLanes,s===0&&(Ji=null),N_(n.stateNode),Nt(t,Ne()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(cc)throw cc=!1,t=Xd,Xd=null,t;return hc&1&&t.tag!==0&&$s(),s=t.pendingLanes,s&1?t===Zd?sl++:(sl=0,Zd=t):sl=0,gr(),null}function $s(){if(Bi!==null){var t=Qw(hc),e=tn.transition,n=pe;try{if(tn.transition=null,pe=16>t?16:t,Bi===null)var i=!1;else{if(t=Bi,Bi=null,hc=0,ae&6)throw Error(B(331));var r=ae;for(ae|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:il(8,c,s)}var h=c.child;if(h!==null)h.return=c,W=h;else for(;W!==null;){c=W;var f=c.sibling,d=c.return;if(uS(c),c===u){W=null;break}if(f!==null){f.return=d,W=f;break}W=d}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,W=m;break e}W=s.return}}var g=t.current;for(W=g;W!==null;){o=W;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,W=w;else e:for(o=g;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:uh(9,l)}}catch(S){Pe(l,l.return,S)}if(l===o){W=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,W=x;break e}W=l.return}}if(ae=r,gr(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(th,t)}catch{}i=!0}return i}finally{pe=n,tn.transition=e}}return!1}function vy(t,e,n){e=eo(n,e),e=Xx(t,e,1),t=Yi(t,e,1),e=St(),t!==null&&(Ql(t,1,e),Nt(t,e))}function Pe(t,e,n){if(t.tag===3)vy(t,t,n);else for(;e!==null;){if(e.tag===3){vy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ji===null||!Ji.has(i))){t=eo(n,t),t=Zx(e,t,1),e=Yi(e,t,1),t=St(),e!==null&&(Ql(e,1,t),Nt(e,t));break}}e=e.return}}function aA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(tt&n)===n&&(ze===4||ze===3&&(tt&130023424)===tt&&500>Ne()-eg?$r(t,0):Zm|=n),Nt(t,e)}function wS(t,e){e===0&&(t.mode&1?(e=_a,_a<<=1,!(_a&130023424)&&(_a=4194304)):e=1);var n=St();t=ui(t,e),t!==null&&(Ql(t,e,n),Nt(t,n))}function uA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wS(t,n)}function cA(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(B(314))}i!==null&&i.delete(e),wS(t,n)}var xS;xS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,QT(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,Ee&&e.flags&1048576&&bx(e,nc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;xu(t,e),t=e.pendingProps;var r=Js(e,ft.current);Fs(e,n),r=Km(null,e,i,t,r,n);var s=Gm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(i)?(s=!0,ec(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,zm(e),r.updater=lh,e.stateNode=r,r._reactInternals=e,Vd(e,i,t,n),e=Hd(null,e,i,!0,s,n)):(e.tag=0,Ee&&s&&Nm(e),vt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(xu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=fA(i),t=pn(i,t),r){case 0:e=Ud(null,e,i,t,n);break e;case 1:e=ay(null,e,i,t,n);break e;case 11:e=oy(null,e,i,t,n);break e;case 14:e=ly(null,e,i,pn(i.type,t),n);break e}throw Error(B(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pn(i,r),Ud(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pn(i,r),ay(t,e,i,r,n);case 3:e:{if(iS(e),t===null)throw Error(B(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Tx(t,e),sc(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=eo(Error(B(423)),e),e=uy(t,e,i,n,r);break e}else if(i!==r){r=eo(Error(B(424)),e),e=uy(t,e,i,n,r);break e}else for(Vt=Gi(e.stateNode.containerInfo.firstChild),Ut=e,Ee=!0,gn=null,n=Px(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),i===r){e=ci(t,e,n);break e}vt(t,e,i,n)}e=e.child}return e;case 5:return Dx(e),t===null&&Fd(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Rd(i,r)?o=null:s!==null&&Rd(i,s)&&(e.flags|=32),nS(t,e),vt(t,e,o,n),e.child;case 6:return t===null&&Fd(e),null;case 13:return rS(t,e,n);case 4:return Um(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Xs(e,null,i,n):vt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pn(i,r),oy(t,e,i,r,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,xe(ic,i._currentValue),i._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===r.children&&!Rt.current){e=ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(s.tag===1){a=oi(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$d(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$d(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fs(e,n),r=on(r),i=i(r),e.flags|=1,vt(t,e,i,n),e.child;case 14:return i=e.type,r=pn(i,e.pendingProps),r=pn(i.type,r),ly(t,e,i,r,n);case 15:return eS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:pn(i,r),xu(t,e),e.tag=1,Mt(i)?(t=!0,ec(e)):t=!1,Fs(e,n),Ix(e,i,r),Vd(e,i,r,n),Hd(null,e,i,!0,t,n);case 19:return sS(t,e,n);case 22:return tS(t,e,n)}throw Error(B(156,e.tag))};function SS(t,e){return Kw(t,e)}function hA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,i){return new hA(t,e,n,i)}function rg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fA(t){if(typeof t=="function")return rg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bm)return 11;if(t===Cm)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")rg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vs:return jr(n.children,r,s,e);case km:o=8,r|=8;break;case hd:return t=Zt(12,n,e,r|2),t.elementType=hd,t.lanes=s,t;case fd:return t=Zt(13,n,e,r),t.elementType=fd,t.lanes=s,t;case dd:return t=Zt(19,n,e,r),t.elementType=dd,t.lanes=s,t;case Ow:return hh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Aw:o=10;break e;case Iw:o=9;break e;case bm:o=11;break e;case Cm:o=14;break e;case Ci:o=16,i=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function jr(t,e,n,i){return t=Zt(7,t,i,e),t.lanes=n,t}function hh(t,e,n,i){return t=Zt(22,t,i,e),t.elementType=Ow,t.lanes=n,t.stateNode={isHidden:!1},t}function gf(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function yf(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dA(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jh(0),this.expirationTimes=Jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function sg(t,e,n,i,r,s,o,l,a){return t=new dA(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zm(s),t}function pA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function kS(t){if(!t)return lr;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Mt(n))return Sx(t,n,e)}return e}function bS(t,e,n,i,r,s,o,l,a){return t=sg(n,i,!0,t,r,s,o,l,a),t.context=kS(null),n=t.current,i=St(),r=Qi(n),s=oi(i,r),s.callback=e??null,Yi(n,s,r),t.current.lanes=r,Ql(t,r,i),Nt(t,i),t}function fh(t,e,n,i){var r=e.current,s=St(),o=Qi(r);return n=kS(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Yi(r,e,o),t!==null&&(wn(t,r,o,s),yu(t,r,o)),o}function dc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function og(t,e){wy(t,e),(t=t.alternate)&&wy(t,e)}function mA(){return null}var CS=typeof reportError=="function"?reportError:function(t){console.error(t)};function lg(t){this._internalRoot=t}dh.prototype.render=lg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));fh(t,e,null,null)};dh.prototype.unmount=lg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gr(function(){fh(null,t,null,null)}),e[ai]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ex();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&nx(t)}};function ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xy(){}function gA(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=dc(o);s.call(u)}}var o=bS(e,i,t,0,null,!1,!1,"",xy);return t._reactRootContainer=o,t[ai]=o.current,Sl(t.nodeType===8?t.parentNode:t),Gr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var u=dc(a);l.call(u)}}var a=sg(t,0,!1,null,null,!1,!1,"",xy);return t._reactRootContainer=a,t[ai]=a.current,Sl(t.nodeType===8?t.parentNode:t),Gr(function(){fh(e,a,n,i)}),a}function mh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var a=dc(o);l.call(a)}}fh(e,o,t,r)}else o=gA(n,e,t,r,i);return dc(o)}Xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$o(e.pendingLanes);n!==0&&(Tm(e,n|1),Nt(e,Ne()),!(ae&6)&&(to=Ne()+500,gr()))}break;case 13:Gr(function(){var i=ui(t,1);if(i!==null){var r=St();wn(i,t,1,r)}}),og(t,1)}};Am=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=St();wn(e,t,134217728,n)}og(t,134217728)}};Zw=function(t){if(t.tag===13){var e=Qi(t),n=ui(t,e);if(n!==null){var i=St();wn(n,t,e,i)}og(t,e)}};ex=function(){return pe};tx=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};bd=function(t,e,n){switch(e){case"input":if(gd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=sh(i);if(!r)throw Error(B(90));Dw(i),gd(i,r)}}}break;case"textarea":Mw(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};Vw=tg;zw=Gr;var yA={usingClientEntryPoint:!1,Events:[Zl,ks,sh,$w,jw,tg]},Io={findFiberByHostInstance:Pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vA={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ww(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||mA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{th=Ba.inject(vA),jn=Ba}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ag(e))throw Error(B(200));return pA(t,e,null,n)};Wt.createRoot=function(t,e){if(!ag(t))throw Error(B(299));var n=!1,i="",r=CS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=sg(t,1,!1,null,null,n,!1,i,r),t[ai]=e.current,Sl(t.nodeType===8?t.parentNode:t),new lg(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Ww(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return Gr(t)};Wt.hydrate=function(t,e,n){if(!ph(e))throw Error(B(200));return mh(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!ag(t))throw Error(B(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=CS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bS(e,null,t,1,n??null,r,!1,s,o),t[ai]=e.current,Sl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new dh(e)};Wt.render=function(t,e,n){if(!ph(e))throw Error(B(200));return mh(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!ph(t))throw Error(B(40));return t._reactRootContainer?(Gr(function(){mh(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};Wt.unstable_batchedUpdates=tg;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ph(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return mh(t,e,n,!1,i)};Wt.version="18.2.0-next-9e3b772b8-20220608";function ES(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ES)}catch(t){console.error(t)}}ES(),bw.exports=Wt;var wA=bw.exports,Sy=wA;ud.createRoot=Sy.createRoot,ud.hydrateRoot=Sy.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ol.apply(this,arguments)}var Fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fi||(Fi={}));const ky="popstate";function xA(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:l}=i.location;return np("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:pc(r)}return kA(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ug(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SA(){return Math.random().toString(36).substr(2,8)}function by(t,e){return{usr:t.state,key:t.key,idx:e}}function np(t,e,n,i){return n===void 0&&(n=null),Ol({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mo(e):e,{state:n,key:e&&e.key||i||SA()})}function pc(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function kA(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l=Fi.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Ol({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){l=Fi.Pop;let v=c(),m=v==null?null:v-u;u=v,a&&a({action:l,location:y.location,delta:m})}function f(v,m){l=Fi.Push;let g=np(y.location,v,m);n&&n(g,v),u=c()+1;let w=by(g,u),x=y.createHref(g);try{o.pushState(w,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(x)}s&&a&&a({action:l,location:y.location,delta:1})}function d(v,m){l=Fi.Replace;let g=np(y.location,v,m);n&&n(g,v),u=c();let w=by(g,u),x=y.createHref(g);o.replaceState(w,"",x),s&&a&&a({action:l,location:y.location,delta:0})}function p(v){let m=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof v=="string"?v:pc(v);return De(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let y={get action(){return l},get location(){return t(r,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return r.addEventListener(ky,h),a=v,()=>{r.removeEventListener(ky,h),a=null}},createHref(v){return e(r,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(v){return o.go(v)}};return y}var Cy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cy||(Cy={}));function bA(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?mo(e):e,r=Pl(i.pathname||"/",n);if(r==null)return null;let s=_S(t);CA(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=RA(s[l],NA(r));return o}function _S(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(De(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(i.length));let u=Zi([i,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(De(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_S(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:PA(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let a of TS(s.path))r(s,o,a)}),e}function TS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=TS(i.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),r&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function CA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const EA=/^:\w+$/,_A=3,TA=2,AA=1,IA=10,OA=-2,Ey=t=>t==="*";function PA(t,e){let n=t.split("/"),i=n.length;return n.some(Ey)&&(i+=OA),e&&(i+=TA),n.filter(r=>!Ey(r)).reduce((r,s)=>r+(EA.test(s)?_A:s===""?AA:IA),i)}function DA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function RA(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=r==="/"?e:e.slice(r.length)||"/",c=ip({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(i,c.params);let h=l.route;s.push({params:i,pathname:Zi([r,c.pathname]),pathnameBase:$A(Zi([r,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(r=Zi([r,c.pathnameBase]))}return s}function ip(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=MA(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((u,c,h)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let y=l[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[h];return d&&!p?u[f]=void 0:u[f]=LA(p||"",f),u},{}),pathname:s,pathnameBase:o,pattern:t}}function MA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ug(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,a)=>(i.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function NA(t){try{return decodeURI(t)}catch(e){return ug(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function LA(t,e){try{return decodeURIComponent(t)}catch(n){return ug(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Pl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function BA(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?mo(t):t;return{pathname:n?n.startsWith("/")?n:FA(n,e):e,search:jA(i),hash:VA(r)}}function FA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function vf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IS(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=mo(t):(r=Ol({},t),De(!r.pathname||!r.pathname.includes("?"),vf("?","pathname","search",r)),De(!r.pathname||!r.pathname.includes("#"),vf("#","pathname","hash",r)),De(!r.search||!r.search.includes("#"),vf("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=n;else if(i){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h.pop();r.pathname=f.join("/")}l="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?e[h]:"/"}let a=BA(r,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),$A=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OS=["post","put","patch","delete"];new Set(OS);const UA=["get",...OS];new Set(UA);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mc.apply(this,arguments)}const gh=_.createContext(null),PS=_.createContext(null),ss=_.createContext(null),yh=_.createContext(null),yr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),DS=_.createContext(null);function HA(t,e){let{relative:n}=e===void 0?{}:e;ta()||De(!1);let{basename:i,navigator:r}=_.useContext(ss),{hash:s,pathname:o,search:l}=vh(t,{relative:n}),a=o;return i!=="/"&&(a=o==="/"?i:Zi([i,o])),r.createHref({pathname:a,search:l,hash:s})}function ta(){return _.useContext(yh)!=null}function na(){return ta()||De(!1),_.useContext(yh).location}function RS(t){_.useContext(ss).static||_.useLayoutEffect(t)}function ia(){let{isDataRoute:t}=_.useContext(yr);return t?s2():WA()}function WA(){ta()||De(!1);let t=_.useContext(gh),{basename:e,navigator:n}=_.useContext(ss),{matches:i}=_.useContext(yr),{pathname:r}=na(),s=JSON.stringify(AS(i).map(a=>a.pathnameBase)),o=_.useRef(!1);return RS(()=>{o.current=!0}),_.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let c=IS(a,JSON.parse(s),r,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Zi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,r,t])}const qA=_.createContext(null);function KA(t){let e=_.useContext(yr).outlet;return e&&_.createElement(qA.Provider,{value:t},e)}function vh(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=_.useContext(yr),{pathname:r}=na(),s=JSON.stringify(AS(i).map(o=>o.pathnameBase));return _.useMemo(()=>IS(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}function GA(t,e){return YA(t,e)}function YA(t,e,n){ta()||De(!1);let{navigator:i}=_.useContext(ss),{matches:r}=_.useContext(yr),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=na(),u;if(e){var c;let y=typeof e=="string"?mo(e):e;l==="/"||(c=y.pathname)!=null&&c.startsWith(l)||De(!1),u=y}else u=a;let h=u.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",d=bA(t,{pathname:f}),p=e2(d&&d.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Zi([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Zi([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n);return e&&p?_.createElement(yh.Provider,{value:{location:mc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fi.Pop}},p):p}function JA(){let t=r2(),e=zA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:r},n):null,s)}const QA=_.createElement(JA,null);class XA extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?_.createElement(yr.Provider,{value:this.props.routeContext},_.createElement(DS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZA(t){let{routeContext:e,match:n,children:i}=t,r=_.useContext(gh);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(yr.Provider,{value:e},i)}function e2(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let l=s.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||De(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,a,u)=>{let c=a.route.id?o==null?void 0:o[a.route.id]:null,h=null;n&&(h=a.route.errorElement||QA);let f=e.concat(s.slice(0,u+1)),d=()=>{let p;return c?p=h:a.route.Component?p=_.createElement(a.route.Component,null):a.route.element?p=a.route.element:p=l,_.createElement(ZA,{match:a,routeContext:{outlet:l,matches:f,isDataRoute:n!=null},children:p})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?_.createElement(XA,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var MS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MS||{}),gc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gc||{});function t2(t){let e=_.useContext(gh);return e||De(!1),e}function n2(t){let e=_.useContext(PS);return e||De(!1),e}function i2(t){let e=_.useContext(yr);return e||De(!1),e}function NS(t){let e=i2(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function r2(){var t;let e=_.useContext(DS),n=n2(gc.UseRouteError),i=NS(gc.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function s2(){let{router:t}=t2(MS.UseNavigateStable),e=NS(gc.UseNavigateStable),n=_.useRef(!1);return RS(()=>{n.current=!0}),_.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,mc({fromRouteId:e},s)))},[t,e])}function o2(t){return KA(t.context)}function _r(t){De(!1)}function l2(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Fi.Pop,navigator:s,static:o=!1}=t;ta()&&De(!1);let l=e.replace(/^\/*/,"/"),a=_.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof i=="string"&&(i=mo(i));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=i,p=_.useMemo(()=>{let y=Pl(u,l);return y==null?null:{location:{pathname:y,search:c,hash:h,state:f,key:d},navigationType:r}},[l,u,c,h,f,d,r]);return p==null?null:_.createElement(ss.Provider,{value:a},_.createElement(yh.Provider,{children:n,value:p}))}function a2(t){let{children:e,location:n}=t;return GA(rp(e),n)}new Promise(()=>{});function rp(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(i,r)=>{if(!_.isValidElement(i))return;let s=[...e,r];if(i.type===_.Fragment){n.push.apply(n,rp(i.props.children,s));return}i.type!==_r&&De(!1),!i.props.index||!i.props.children||De(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=rp(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yc.apply(this,arguments)}function LS(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function u2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c2(t,e){return t.button===0&&(!e||e==="_self")&&!u2(t)}const h2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],f2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],d2=_.createContext({isTransitioning:!1}),p2="startTransition",_y=u_[p2];function m2(t){let{basename:e,children:n,future:i,window:r}=t,s=_.useRef();s.current==null&&(s.current=xA({window:r,v5Compat:!0}));let o=s.current,[l,a]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},c=_.useCallback(h=>{u&&_y?_y(()=>a(h)):a(h)},[a,u]);return _.useLayoutEffect(()=>o.listen(c),[o,c]),_.createElement(l2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o})}const g2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vo=_.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,f=LS(e,h2),{basename:d}=_.useContext(ss),p,y=!1;if(typeof u=="string"&&y2.test(u)&&(p=u,g2))try{let w=new URL(window.location.href),x=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Pl(x.pathname,d);x.origin===w.origin&&S!=null?u=S+x.search+x.hash:y=!0}catch{}let v=HA(u,{relative:r}),m=w2(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:r,unstable_viewTransition:h});function g(w){i&&i(w),w.defaultPrevented||m(w)}return _.createElement("a",yc({},f,{href:p||v,onClick:y||s?i:g,ref:n,target:a}))}),wf=_.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:a,unstable_viewTransition:u,children:c}=e,h=LS(e,f2),f=vh(a,{relative:h.relative}),d=na(),p=_.useContext(PS),{navigator:y}=_.useContext(ss),v=p!=null&&x2(f)&&u===!0,m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,g=d.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(g=g.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase());const x=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=g===m||!o&&g.startsWith(m)&&g.charAt(x)==="/",E=w!=null&&(w===m||!o&&w.startsWith(m)&&w.charAt(m.length)==="/"),C={isActive:S,isPending:E,isTransitioning:v},T=S?i:void 0,O;typeof s=="function"?O=s(C):O=[s,S?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return _.createElement(Vo,yc({},h,{"aria-current":T,className:O,ref:n,style:P,to:a,unstable_viewTransition:u}),typeof c=="function"?c(C):c)});var sp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sp||(sp={}));var Ty;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ty||(Ty={}));function v2(t){let e=_.useContext(gh);return e||De(!1),e}function w2(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,a=ia(),u=na(),c=vh(t,{relative:o});return _.useCallback(h=>{if(c2(h,n)){h.preventDefault();let f=i!==void 0?i:pc(u)===pc(c);a(t,{replace:f,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,a,c,i,r,n,t,s,o,l])}function x2(t,e){e===void 0&&(e={});let n=_.useContext(d2);n==null&&De(!1);let{basename:i}=v2(sp.useViewTransitionState),r=vh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Pl(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Pl(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ip(r.pathname,o)!=null||ip(r.pathname,s)!=null}const Ay={en:["Our team successfully created the GraphiQL application for working with GraphQL queries.","Introducing the main functions of our development.","Welcome Page:","- Information about developers and the project.","Sign In and Sign Up buttons:","- Redirection to login and registration pages","- Automatic redirection on token expiration.","- Implemented in the welcome page and in the page header","Sign In / Sign Up Page:","- Buttons for authentication and registration.","- Client-side validation and automatic redirection.","GraphiQL Page:","- Query editor, documentation, variable and header sections.","- Read-only response section. Ability to change the GraphQL endpoint.","General Requirements:","- Localization, sticky header, API error display.","Technical details:","- React 18, TypeScript, tests (80%+ coverage). Eslint, Prettier, Husky hooks.","Results are available for review and evaluation."],ru:["     GraphiQL    GraphQL-.","    .","Welcome :","-     ."," Sign In  Sign Up:","-        ","-      ","-      .","Sign In / Sign Up :","-     .","-     .","GraphiQL :","-  , ,    .",'-     " ".',"-   GraphQL-."," :","- ,  ,   API."," :","- React 18, TypeScript,  ( 80%+). Eslint, Prettier, Husky hooks.","     ."]},cs={en:{p1:"Everyone can study at RS School, regardless of age, professional employment, or place of residence.",p2:"However, you should have sufficient base knowledge before the program begins.Students of the RS School from the 2022Q3, which has passed RS School Stage #2 as well as new students with practical experience and knowledge of:",p3:"JavaScript, TypeScript, Git, GitHub (clone, add, commit, push, pull, merge, rebase, working with Pull Request),NPM, WebpackCSS3 / HTML5, Chrome DevTools, Figma, Understanding of the REST"},ru:{p1:"  RS School  ,   ,     . ",p2:"          .     2023 ,  2-  RS School,    ,     :",p3:"JavaScript, TypeScript, Git, GitHub (clone, add, commit, push, pull, merge, rebase, working with Pull Request),NPM, WebpackCSS3 / HTML5, Chrome DevTools, Figma, Understanding of the REST"}},hs={en:{vera:"I received a specialty related to computing systems at the aviation academy in Rybinsk. I have been working as a programmer since 2008. I developed a cost accounting system for the production of road vehicle parts. Then I worked on developing modules for Unigraphix - a 3D modeling system. For a five years I have been setting up the financial and budget control systems, developed printed forms and reports. Now I am a frontend developer. I like to learn something new.",azim:"I am a finance professional and Power BI developer with more than 7 years experience. Well-versed in building Statement of Income, Statement of Financial position and Statement of Cash Flow, consolidation, proficient user of 1C Accounting software,  experienced in M and DAX language, connecting databases. Excellentanalytical skills and knowledge in reporting. Audited banks, F&B and chemical production companies. Built financial system in a logistics company and successfully developed financial reports dashboard in Power BI.",ryhor:"I am 41 years old. I have long dreamed of becoming a programmer, and now I am successfully realizing my dream. In 2006 I graduated from Gomel State Technical University. BY. Sukhoi / Faculty of Mechanical Technology with a degree in mechanical engineering. After university, I had my own small business selling auto parts (17 years). Married, I have two children. I am from Belarus myself, now I live in Georgia. I enjoy playing sports, family hiking, fishing and various outdoor activities."},ru:{vera:",    ,       .    2008 .         .       Unigraphix   3D-.           ,     .   -.    - .",azim:"       Power BI    7- .         ,          , ,    1 ,     M  DAX,   .        .    ,        .              Power BI.",ryhor:" 41 .      ,     .  2006       . ..  / -    -.  ,        (17). ,   .    ,    .    ,   ,     ."}},S2="_logorss_1jsli_1",k2="_logo__wrapper_1jsli_9",b2="_wrapper_1jsli_19",C2="_text_1jsli_33",E2="_list_1jsli_41",_2="_title_1jsli_51",ki={logorss:S2,logo__wrapper:k2,wrapper:b2,text:C2,list:E2,title:_2},BS="/samsa/assets/RSS-_wEcoOF3.png",FS=se.createContext(void 0),T2=({children:t})=>{const[e,n]=_.useState("en"),i=r=>{n(r)};return k.jsx(FS.Provider,{value:{lan:e,setLanguage:i},children:t})},yi=()=>{const t=_.useContext(FS);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t};function A2(){const{lan:t}=yi();return k.jsx(k.Fragment,{children:k.jsx("div",{"data-testid":"about_course",className:ki.container,children:k.jsxs("div",{className:ki.wrapper,children:[k.jsxs("div",{className:ki.text,children:[k.jsx("h3",{children:t==="en"?"About Course":" "}),k.jsx("p",{className:ki.title,children:t==="en"?cs.en.p1:cs.ru.p1}),k.jsx("p",{className:ki.texte,children:t==="en"?cs.en.p2:cs.ru.p2}),k.jsx("p",{className:ki.list,children:t==="en"?cs.en.p3:cs.ru.p3})]}),k.jsx("p",{className:ki.logo__wrapper,children:k.jsx("img",{src:BS,className:ki.logorss,alt:"logorss"})})]})})})}const I2="_logorss_m0ifo_1",O2="_logo__wrapper_m0ifo_9",P2="_wrapper_m0ifo_19",D2="_text_m0ifo_33",kr={logorss:I2,logo__wrapper:O2,wrapper:P2,text:D2},R2="/samsa/assets/graphql-email-api-8yHw6eer.png";function M2(){const{lan:t}=yi();return k.jsx(k.Fragment,{children:k.jsx("div",{className:kr.container,children:k.jsxs("div",{className:kr.wrapper,children:[k.jsxs("div",{className:kr.text,children:[k.jsxs("h3",{children:[" ",t==="en"?"GraphiQL Project":"GraphiQL "]}),t==="en"?Ay.en.map((e,n)=>k.jsx("p",{className:kr[n],children:e},n)):Ay.ru.map((e,n)=>k.jsx("p",{className:kr[n],children:e},n))]}),k.jsx("p",{className:kr.logo__wrapper,children:k.jsx("img",{src:R2,className:kr.logorss,alt:"logorss"})})]})})})}const N2="_photo_qgtyx_1",L2="_container_qgtyx_13",B2="_wrapper_persone_qgtyx_27",F2="_develops_qgtyx_43",Jn={photo:N2,container:L2,wrapper_persone:B2,develops:F2},$2="/samsa/assets/Ruhor-8Lp7Ea5d.jpg",j2="/samsa/assets/Azim-GClITW7q.jpg",V2="/samsa/assets/Vera-98g9hhEi.jpg";function z2(){const{lan:t}=yi();return k.jsx(k.Fragment,{children:k.jsxs("div",{className:Jn.wrapper,children:[k.jsx("h2",{className:Jn.develops,children:t==="en"?"Project developers":" "}),k.jsxs("div",{className:Jn.container,children:[k.jsx("div",{className:Jn.wrapper_persone,children:k.jsxs("div",{children:[k.jsx("img",{src:V2,className:Jn.photo,alt:""}),k.jsx("h3",{children:t==="en"?"Vera Poletaeva":" "}),k.jsx("p",{children:t==="en"?hs.en.vera:hs.ru.vera})]})}),k.jsx("div",{className:Jn.wrapper_persone,children:k.jsxs("div",{children:[k.jsx("img",{src:j2,className:Jn.photo,alt:""}),k.jsx("h3",{children:t==="en"?"Azimkhan Abdulsatarov":" "}),k.jsx("p",{children:t==="en"?hs.en.azim:hs.ru.azim})]})}),k.jsx("div",{className:Jn.wrapper_persone,children:k.jsxs("div",{children:[k.jsx("img",{src:$2,className:Jn.photo,alt:""}),k.jsx("h3",{children:t==="en"?"Ryhor Volasau":" "}),k.jsx("p",{children:t==="en"?hs.en.ryhor:hs.ru.ryhor})]})})]})]})})}const U2={login:!1,setLogin:()=>{}},go=_.createContext(U2),H2=({children:t})=>{const[e,n]=_.useState(!1),i=r=>{n(r)};return k.jsx(go.Provider,{value:{login:e,setLogin:i},children:t})},W2="_link_p75bm_1",q2="_container_p75bm_31",Fa={link:W2,container:q2};function K2(){const{lan:t}=yi(),e=_.useContext(go);return k.jsx(k.Fragment,{children:k.jsx("div",{className:Fa.container,children:e.login?k.jsx(k.Fragment,{children:k.jsx(wf,{to:"/graphiql",className:Fa.link,children:t==="en"?"Main Page":" "})}):k.jsxs(k.Fragment,{children:[k.jsx(wf,{to:"/login",className:Fa.link,children:t==="en"?"Sign in":""}),k.jsx(wf,{to:"/registration",className:Fa.link,children:t==="en"?"Sign up":""})]})})})}const G2="_wrapper_o95zv_1",Y2={wrapper:G2};function J2(){return k.jsx(k.Fragment,{children:k.jsxs("div",{"data-testid":"welcome",className:Y2.wrapper,children:[k.jsx(K2,{}),k.jsx(A2,{}),k.jsx(M2,{}),k.jsx(z2,{})]})})}const Q2="_wrapper_link_1bbb0_9",X2="_logorss_1bbb0_21",Z2="_logogit_1bbb0_29",eI="_link_github_1bbb0_37",tI="_link_name_1bbb0_57",nI="_footer_1bbb0_65",_t={wrapper_link:Q2,logorss:X2,logogit:Z2,link_github:eI,link_name:tI,footer:nI},xf="/samsa/assets/github-logo-5E6907pT.png";function iI(){return k.jsx(k.Fragment,{children:k.jsxs("div",{className:_t.footer,children:[k.jsx("div",{children:" 2023"}),k.jsxs("ul",{className:_t.wrapper_link,children:[k.jsx("li",{children:k.jsxs("a",{href:"https://github.com/verapoletaeva87",className:_t.link_github,target:"_blank",rel:"noopener noreferrer",children:[k.jsx("img",{src:xf,className:_t.logogit}),k.jsx("p",{className:_t.link_name,children:"Poletaeva"})]})}),k.jsx("li",{children:k.jsxs("a",{href:"https://github.com/azimkhan93",className:_t.link_github,target:"_blank",rel:"noopener noreferrer",children:[k.jsx("img",{src:xf,className:_t.logogit}),k.jsx("span",{className:_t.link_name,children:"Abdulsatarov"})]})}),k.jsx("li",{children:k.jsxs("a",{href:"https://github.com/Volasau/",className:_t.link_github,target:"_blank",rel:"noopener noreferrer",children:[k.jsx("img",{src:xf,className:_t.logogit}),k.jsx("p",{className:_t.link_name,children:"Volasau"})]})})]}),k.jsx("div",{className:_t.logo_container,children:k.jsx("a",{href:"https://rs.school/react/",className:_t.logorss,target:"_blank",rel:"noopener noreferrer",children:k.jsx("img",{src:BS,className:_t.logorss})})})]})})}const rI="_container_1mu0h_17",sI="_link_1mu0h_41",oI="_scrolling_1mu0h_61",lI="_btn_1mu0h_69",aI="_active_1mu0h_95",yt={container:rI,link:sI,scrolling:oI,btn:lI,active:aI},uI={user:null,setUser:()=>{}},cg=_.createContext(uI),cI=({children:t})=>{const[e,n]=_.useState(null),i=r=>{n(r)};return k.jsx(cg.Provider,{value:{user:e,setUser:i},children:t})};var Iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},hI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],l=t[n++],a=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,l=o?t[r+1]:0,a=r+2<t.length,u=a?t[r+2]:0,c=s>>2,h=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,d=u&63;a||(d=64,o||(f=64)),i.push(n[c],n[h],n[f],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||u==null||h==null)throw new fI;const f=s<<2|l>>4;if(i.push(f),u!==64){const d=l<<4&240|u>>2;if(i.push(d),h!==64){const p=u<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dI=function(t){const e=$S(t);return jS.encodeByteArray(e,!0)},VS=function(t){return dI(t).replace(/\./g,"")},zS=function(t){try{return jS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=()=>pI().__FIREBASE_DEFAULTS__,gI=()=>{if(typeof process>"u"||typeof Iy>"u")return;const t=Iy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},hg=()=>{try{return mI()||gI()||yI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vI=t=>{var e,n;return(n=(e=hg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},US=()=>{var t;return(t=hg())===null||t===void 0?void 0:t.config},HS=t=>{var e;return(e=hg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function SI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bI(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CI(){try{return typeof indexedDB=="object"}catch{return!1}}function EI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="FirebaseError";class vr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_I,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ra.prototype.create)}}class ra{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?TI(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new vr(r,l,i)}}function TI(t,e){return t.replace(AI,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const AI=/\{\$([^}]+)}/g;function II(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Oy(s)&&Oy(o)){if(!vc(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Oy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Uo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OI(t,e){const n=new PI(t,e);return n.subscribe.bind(n)}class PI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");DI(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Sf),r.error===void 0&&(r.error=Sf),r.complete===void 0&&(r.complete=Sf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new wI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NI(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MI(t){return t===Tr?void 0:t}function NI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const BI={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},FI=ge.INFO,$I={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},jI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=$I[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WS{constructor(e){this.name=e,this._logLevel=FI,this._logHandler=jI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const VI=(t,e)=>e.some(n=>t instanceof n);let Py,Dy;function zI(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UI(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,op=new WeakMap,KS=new WeakMap,kf=new WeakMap,fg=new WeakMap;function HI(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(er(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),fg.set(e,t),e}function WI(t){if(op.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});op.set(t,e)}let lp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qI(t){lp=t(lp)}function KI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(bf(this),e,...n);return KS.set(i,e.sort?e.sort():[e]),er(i)}:UI().includes(t)?function(...e){return t.apply(bf(this),e),er(qS.get(this))}:function(...e){return er(t.apply(bf(this),e))}}function GI(t){return typeof t=="function"?KI(t):(t instanceof IDBTransaction&&WI(t),VI(t,zI())?new Proxy(t,lp):t)}function er(t){if(t instanceof IDBRequest)return HI(t);if(kf.has(t))return kf.get(t);const e=GI(t);return e!==t&&(kf.set(t,e),fg.set(e,t)),e}const bf=t=>fg.get(t);function YI(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),l=er(o);return i&&o.addEventListener("upgradeneeded",a=>{i(er(o.result),a.oldVersion,a.newVersion,er(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),r&&a.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const JI=["get","getKey","getAll","getAllKeys","count"],QI=["put","add","delete","clear"],Cf=new Map;function Ry(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=QI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||JI.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,r?"readwrite":"readonly");let u=a.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&a.done]))[0]};return Cf.set(e,s),s}qI(t=>({...t,get:(e,n,i)=>Ry(e,n)||t.get(e,n,i),has:(e,n)=>!!Ry(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ap="@firebase/app",My="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new WS("@firebase/app"),eO="@firebase/app-compat",tO="@firebase/analytics-compat",nO="@firebase/analytics",iO="@firebase/app-check-compat",rO="@firebase/app-check",sO="@firebase/auth",oO="@firebase/auth-compat",lO="@firebase/database",aO="@firebase/database-compat",uO="@firebase/functions",cO="@firebase/functions-compat",hO="@firebase/installations",fO="@firebase/installations-compat",dO="@firebase/messaging",pO="@firebase/messaging-compat",mO="@firebase/performance",gO="@firebase/performance-compat",yO="@firebase/remote-config",vO="@firebase/remote-config-compat",wO="@firebase/storage",xO="@firebase/storage-compat",SO="@firebase/firestore",kO="@firebase/firestore-compat",bO="firebase",CO="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",EO={[ap]:"fire-core",[eO]:"fire-core-compat",[nO]:"fire-analytics",[tO]:"fire-analytics-compat",[rO]:"fire-app-check",[iO]:"fire-app-check-compat",[sO]:"fire-auth",[oO]:"fire-auth-compat",[lO]:"fire-rtdb",[aO]:"fire-rtdb-compat",[uO]:"fire-fn",[cO]:"fire-fn-compat",[hO]:"fire-iid",[fO]:"fire-iid-compat",[dO]:"fire-fcm",[pO]:"fire-fcm-compat",[mO]:"fire-perf",[gO]:"fire-perf-compat",[yO]:"fire-rc",[vO]:"fire-rc-compat",[wO]:"fire-gcs",[xO]:"fire-gcs-compat",[SO]:"fire-fst",[kO]:"fire-fst-compat","fire-js":"fire-js",[bO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,cp=new Map;function _O(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(cp.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,t);for(const n of wc.values())_O(n,t);return!0}function GS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},tr=new ra("app","Firebase",TO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=CO;function YS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:up,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw tr.create("bad-app-name",{appName:String(r)});if(n||(n=US()),!n)throw tr.create("no-options");const s=wc.get(r);if(s){if(vc(n,s.options)&&vc(i,s.config))return s;throw tr.create("duplicate-app",{appName:r})}const o=new LI(r);for(const a of cp.values())o.addComponent(a);const l=new AO(n,i,o);return wc.set(r,l),l}function IO(t=up){const e=wc.get(t);if(!e&&t===up&&US())return YS();if(!e)throw tr.create("no-app",{appName:t});return e}function js(t,e,n){var i;let r=(i=EO[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(l.join(" "));return}Dl(new no(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="firebase-heartbeat-database",PO=1,Rl="firebase-heartbeat-store";let Ef=null;function JS(){return Ef||(Ef=YI(OO,PO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rl)}}}).catch(t=>{throw tr.create("idb-open",{originalErrorMessage:t.message})})),Ef}async function DO(t){try{return await(await JS()).transaction(Rl).objectStore(Rl).get(QS(t))}catch(e){if(e instanceof vr)Yr.warn(e.message);else{const n=tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(n.message)}}}async function Ny(t,e){try{const i=(await JS()).transaction(Rl,"readwrite");await i.objectStore(Rl).put(e,QS(t)),await i.done}catch(n){if(n instanceof vr)Yr.warn(n.message);else{const i=tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(i.message)}}}function QS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=1024,MO=30*24*60*60*1e3;class NO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ly();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=MO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ly(),{heartbeatsToSend:i,unsentEntries:r}=LO(this._heartbeatsCache.heartbeats),s=VS(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ly(){return new Date().toISOString().substring(0,10)}function LO(t,e=RO){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),By(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),By(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class BO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CI()?EI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function By(t){return VS(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){Dl(new no("platform-logger",e=>new XI(e),"PRIVATE")),Dl(new no("heartbeat",e=>new NO(e),"PRIVATE")),js(ap,My,t),js(ap,My,"esm2017"),js("fire-js","")}FO("");function dg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $O=XS,ZS=new ra("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new WS("@firebase/auth");function jO(t,...e){xc.logLevel<=ge.WARN&&xc.warn(`Auth (${oa}): ${t}`,...e)}function Cu(t,...e){xc.logLevel<=ge.ERROR&&xc.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw pg(t,...e)}function zn(t,...e){return pg(t,...e)}function VO(t,e,n){const i=Object.assign(Object.assign({},$O()),{[e]:n});return new ra("auth","Firebase",i).create(e,{appName:t.name})}function pg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ZS.create(t,...e)}function ne(t,e,...n){if(!t)throw pg(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function hi(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zO(){return Fy()==="http:"||Fy()==="https:"}function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zO()||SI()||"connection"in navigator)?navigator.onLine:!0}function HO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=xI()||kI()}get(){return UO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new la(3e4,6e4);function wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vi(t,e,n,i,r={}){return tk(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const l=sa(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),ek.fetch()(nk(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function tk(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},WO),e);try{const r=new GO(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $a(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw $a(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw $a(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw $a(t,"user-disabled",o);const c=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VO(t,c,u);Sn(t,c)}}catch(r){if(r instanceof vr)throw r;Sn(t,"network-request-failed",{message:String(r)})}}async function aa(t,e,n,i,r={}){const s=await vi(t,e,n,i,r);return"mfaPendingCredential"in s&&Sn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nk(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?mg(t.config,r):`${t.config.apiScheme}://${r}`}function KO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(zn(this.auth,"network-request-failed")),qO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $a(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=zn(t,e,i);return r.customData._tokenResponse=n,r}function $y(t){return t!==void 0&&t.enterprise!==void 0}class YO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function JO(t,e){return vi(t,"GET","/v2/recaptchaConfig",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function XO(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZO(t,e=!1){const n=qn(t),i=await n.getIdToken(e),r=gg(i);ne(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ol(_f(r.auth_time)),issuedAtTime:ol(_f(r.iat)),expirationTime:ol(_f(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _f(t){return Number(t)*1e3}function gg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const r=zS(n);return r?JSON.parse(r):(Cu("Failed to decode base64 JWT payload"),null)}catch(r){return Cu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function eP(t){const e=gg(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vr&&tP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function tP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await io(t,XO(n,{idToken:i}));ne(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sP(s.providerUserInfo):[],l=rP(t.providerData,o),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),c=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ik(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function iP(t){const e=qn(t);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rP(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function sP(t){return t.map(e=>{var{providerId:n}=e,i=dg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,e){const n=await tk(t,{},async()=>{const i=sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=nk(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ek.fetch()(o,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lP(t,e){return vi(t,"POST","/v2/accounts:revokeToken",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await oP(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ml;return i&&(ne(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ne(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=dg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ik(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await io(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZO(this,e)}reload(){return iP(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await io(this,QO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,l,a,u,c;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:x,isAnonymous:S,providerData:E,stsTokenManager:C}=n;ne(w&&C,e,"internal-error");const T=Ml.fromJSON(this.name,C);ne(typeof w=="string",e,"internal-error"),bi(h,e.name),bi(f,e.name),ne(typeof x=="boolean",e,"internal-error"),ne(typeof S=="boolean",e,"internal-error"),bi(d,e.name),bi(p,e.name),bi(y,e.name),bi(v,e.name),bi(m,e.name),bi(g,e.name);const O=new Vr({uid:w,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:S,photoURL:p,phoneNumber:d,tenantId:y,stsTokenManager:T,createdAt:m,lastLoginAt:g});return E&&Array.isArray(E)&&(O.providerData=E.map(P=>Object.assign({},P))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ml;r.updateFromServerResponse(n);const s=new Vr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Sc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map;function si(t){hi(t instanceof Function,"Expected a class definition");let e=jy.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rk.type="NONE";const Vy=rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e,n){return`firebase:${t}:${e}:${n}`}class Vs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Eu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Eu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Vs(si(Vy),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||si(Vy);const o=Eu(i,e.config.apiKey,e.name);let l=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Vr._fromJSON(e,c);u!==s&&(l=h),s=u;break}}catch{}const a=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Vs(s,e,i):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Vs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uk(e))return"Blackberry";if(ck(e))return"Webos";if(yg(e))return"Safari";if((e.includes("chrome/")||ok(e))&&!e.includes("edge/"))return"Chrome";if(ak(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sk(t=dt()){return/firefox\//i.test(t)}function yg(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ok(t=dt()){return/crios\//i.test(t)}function lk(t=dt()){return/iemobile/i.test(t)}function ak(t=dt()){return/android/i.test(t)}function uk(t=dt()){return/blackberry/i.test(t)}function ck(t=dt()){return/webos/i.test(t)}function wh(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aP(t=dt()){var e;return wh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uP(){return bI()&&document.documentMode===10}function hk(t=dt()){return wh(t)||ak(t)||ck(t)||uk(t)||/windows phone/i.test(t)||lk(t)}function cP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e=[]){let n;switch(t){case"Browser":n=zy(dt());break;case"Worker":n=`${zy(dt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e={}){return vi(t,"GET","/v2/passwordPolicy",wr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=6;class pP{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:dP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(i=a.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(r=a.containsLowercaseLetter)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uy(this),this.idTokenSubscription=new Uy(this),this.beforeStateQueue=new hP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Vs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?qn(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fP(this),n=new pP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ra("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await lP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Vs.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,i,r);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function os(t){return qn(t)}class Uy{constructor(e){this.auth=e,this.observer=null,this.addObserver=OI(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function dk(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=zn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",gP().appendChild(i)})}function yP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const vP="https://www.google.com/recaptcha/enterprise.js?render=",wP="recaptcha-enterprise",xP="NO_RECAPTCHA";class SP{constructor(e){this.type=wP,this.auth=os(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{JO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new YO(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{l(a)})})}function r(s,o,l){const a=window.grecaptcha;$y(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(xP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(l=>{if(!n&&$y(window.grecaptcha))r(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}dk(vP+l).then(()=>{r(l,s,o)}).catch(a=>{o(a)})}}).catch(l=>{o(l)})})}}async function Hy(t,e,n,i=!1){const r=new SP(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function fp(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Hy(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Hy(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e){const n=GS(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(vc(s,e??{}))return r;Sn(r,"already-initialized")}return n.initialize({options:e})}function bP(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function CP(t,e,n){const i=os(t);ne(i._canInitEmulator,i,"emulator-config-failed"),ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=pk(e),{host:o,port:l}=EP(e),a=l===null?"":`:${l}`;i.config.emulator={url:`${s}//${o}${a}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||_P()}function pk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EP(t){const e=pk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Wy(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Wy(o)}}}function Wy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _P(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function TP(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(t,e){return aa(t,"POST","/v1/accounts:signInWithPassword",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e){return aa(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))}async function OP(t,e){return aa(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends vg{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Nl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Nl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,n,"signInWithPassword",AP);case"emailLink":return IP(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,i,"signUpPassword",TP);case"emailLink":return OP(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e){return aa(t,"POST","/v1/accounts:signInWithIdp",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="http://localhost";class Jr extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=dg(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Jr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zs(e,n)}buildRequest(){const e={requestUri:PP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RP(t){const e=zo(Uo(t)).link,n=e?zo(Uo(e)).deep_link_id:null,i=zo(Uo(t)).deep_link_id;return(i?zo(Uo(i)).link:null)||i||n||e||t}class wg{constructor(e){var n,i,r,s,o,l;const a=zo(Uo(e)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,c=(i=a.oobCode)!==null&&i!==void 0?i:null,h=DP((r=a.mode)!==null&&r!==void 0?r:null);ne(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=RP(e);try{return new wg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return Nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=wg.parseLink(n);return ne(i,"argument-error"),Nl._fromEmailAndCode(e,i.code,i.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends mk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ua{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jr._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Pi.credential(n,i)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends ua{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends ua{constructor(){super("twitter.com")}static credential(e,n){return Jr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ri.credential(n,i)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e){return aa(t,"POST","/v1/accounts:signUp",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Vr._fromIdTokenResponse(e,i,r),o=qy(i);return new Qr({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=qy(i);return new Qr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function qy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends vr{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new kc(e,n,i,r)}}function gk(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(t,s,e,i):s})}async function NP(t,e,n=!1){const i=await io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await io(t,gk(i,r,e,t),n);ne(s.idToken,i,"internal-error");const o=gg(s.idToken);ne(o,i,"internal-error");const{sub:l}=o;return ne(t.uid===l,i,"user-mismatch"),Qr._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(t,e,n=!1){const i="signIn",r=await gk(t,i,e),s=await Qr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function BP(t,e){return yk(os(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t){const e=os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FP(t,e,n){const i=os(t),o=await fp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MP).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&vk(t),a}),l=await Qr._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}function $P(t,e,n){return BP(qn(t),yo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vk(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e){return vi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=qn(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await io(i,jP(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const l=i.providerData.find(({providerId:a})=>a==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function zP(t,e,n,i){return qn(t).onIdTokenChanged(e,n,i)}function UP(t,e,n){return qn(t).beforeAuthStateChanged(e,n)}function xg(t,e,n,i){return qn(t).onAuthStateChanged(e,n,i)}function HP(t){return qn(t).signOut()}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){const t=dt();return yg(t)||wh(t)}const qP=1e3,KP=10;class xk extends wk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=WP()&&cP(),this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);uP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,KP):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},qP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xk.type="LOCAL";const GP=xk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk extends wk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sk.type="SESSION";const kk=Sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new xh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(o).map(async u=>u(n.origin,s)),a=await YP(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const u=Sg("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function QP(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function XP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eD(){return bk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="firebaseLocalStorageDb",tD=1,Cc="firebaseLocalStorage",Ek="fbase_key";class ca{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sh(t,e){return t.transaction([Cc],e?"readwrite":"readonly").objectStore(Cc)}function nD(){const t=indexedDB.deleteDatabase(Ck);return new ca(t).toPromise()}function dp(){const t=indexedDB.open(Ck,tD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Cc,{keyPath:Ek})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Cc)?e(i):(i.close(),await nD(),e(await dp()))})})}async function Ky(t,e,n){const i=Sh(t,!0).put({[Ek]:e,value:n});return new ca(i).toPromise()}async function iD(t,e){const n=Sh(t,!1).get(e),i=await new ca(n).toPromise();return i===void 0?null:i.value}function Gy(t,e){const n=Sh(t,!0).delete(e);return new ca(n).toPromise()}const rD=800,sD=3;class _k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>sD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(eD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XP(),!this.activeServiceWorker)return;this.sender=new JP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await Ky(e,bc,"1"),await Gy(e,bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ky(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>iD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Sh(r,!1).getAll();return new ca(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_k.type="LOCAL";const oD=_k;new la(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){return e?si(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aD(t){return yk(t.auth,new kg(t),t.bypassAuthState)}function uD(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),LP(n,new kg(t),t.bypassAuthState)}async function cD(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),NP(n,new kg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aD;case"linkViaPopup":case"linkViaRedirect":return cD;case"reauthViaPopup":case"reauthViaRedirect":return uD;default:Sn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new la(2e3,1e4);class Is extends Tk{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hD.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="pendingRedirect",_u=new Map;class dD extends Tk{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=_u.get(this.auth._key());if(!e){try{const i=await pD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_u.set(this.auth._key(),e)}return this.bypassAuthState||_u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pD(t,e){const n=yD(e),i=gD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function mD(t,e){_u.set(t._key(),e)}function gD(t){return si(t._redirectPersistence)}function yD(t){return Eu(fD,t.config.apiKey,t.name)}async function vD(t,e,n=!1){const i=os(t),r=lD(i,e),o=await new dD(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=10*60*1e3;class xD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Ak(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yy(e))}saveEventToCache(e){this.cachedEventUids.add(Yy(e)),this.lastProcessedEventTime=Date.now()}}function Yy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ak({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ak(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CD=/^https?/;async function ED(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kD(t);for(const n of e)try{if(_D(n))return}catch{}Sn(t,"unauthorized-domain")}function _D(t){const e=hp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!CD.test(n))return!1;if(bD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new la(3e4,6e4);function Jy(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AD(t){return new Promise((e,n)=>{var i,r,s;function o(){Jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jy(),n(zn(t,"network-request-failed"))},timeout:TD.get()})}if(!((r=(i=Un().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Un().gapi)===null||s===void 0)&&s.load)o();else{const l=yP("iframefcb");return Un()[l]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},dk(`https://apis.google.com/js/api.js?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw Tu=null,e})}let Tu=null;function ID(t){return Tu=Tu||AD(t),Tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new la(5e3,15e3),PD="__/auth/iframe",DD="emulator/auth/iframe",RD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ND(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mg(e,DD):`https://${t.config.authDomain}/${PD}`,i={apiKey:e.apiKey,appName:t.name,v:oa},r=MD.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${sa(i).slice(1)}`}async function LD(t){const e=await ID(t),n=Un().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:ND(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RD,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),l=Un().setTimeout(()=>{s(o)},OD.get());function a(){Un().clearTimeout(l),r(i)}i.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FD=500,$D=600,jD="_blank",VD="http://localhost";class Qy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zD(t,e,n,i=FD,r=$D){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const a=Object.assign(Object.assign({},BD),{width:i.toString(),height:r.toString(),top:s,left:o}),u=dt().toLowerCase();n&&(l=ok(u)?jD:n),sk(u)&&(e=e||VD,a.scrollbars="yes");const c=Object.entries(a).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(aP(u)&&l!=="_self")return UD(e||"",l),new Qy(null);const h=window.open(e||"",l,c);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new Qy(h)}function UD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="__/auth/handler",WD="emulator/auth/handler",qD=encodeURIComponent("fac");async function Xy(t,e,n,i,r,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:oa,eventId:r};if(e instanceof mk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",II(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof ua){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const c of Object.keys(l))l[c]===void 0&&delete l[c];const a=await t._getAppCheckToken(),u=a?`#${qD}=${encodeURIComponent(a)}`:"";return`${KD(t)}?${sa(l).slice(1)}${u}`}function KD({config:t}){return t.emulator?mg(t,WD):`https://${t.authDomain}/${HD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class GD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kk,this._completeRedirectFn=vD,this._overrideRedirectResult=mD}async _openPopup(e,n,i,r){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Xy(e,n,i,hp(),r);return zD(e,o,Sg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Xy(e,n,i,hp(),r);return QP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(hi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await LD(e),i=new xD(e);return n.register("authEvent",r=>(ne(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tf,{type:Tf},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Tf];o!==void 0&&n(!!o),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ED(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hk()||yg()||wh()}}const YD=GD;var Zy="@firebase/auth",ev="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function XD(t){Dl(new no("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fk(t)},u=new mP(i,r,s,a);return bP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Dl(new no("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(i=>new JD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(Zy,ev,QD(t)),js(Zy,ev,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=5*60,eR=HS("authIdTokenMaxAge")||ZD;let tv=null;const tR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>eR)return;const r=n==null?void 0:n.token;tv!==r&&(tv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function nR(t=IO()){const e=GS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kP(t,{popupRedirectResolver:YD,persistence:[oD,GP,kk]}),i=HS("authTokenSyncURL");if(i){const s=tR(i);UP(n,s,()=>s(n.currentUser)),zP(n,o=>s(o))}const r=vI("auth");return r&&CP(n,`http://${r}`),n}XD("Browser");var iR="firebase",rR="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(iR,rR,"app");const sR={apiKey:"AIzaSyAU_zcxzBSoX_TMthtVtRJ6RF6ozWrn-Wo",authDomain:"graphiql-app-24102.firebaseapp.com",projectId:"graphiql-app-24102",storageBucket:"graphiql-app-24102.appspot.com",messagingSenderId:"907793083036",appId:"1:907793083036:web:16705fbdbf9b52ad789b59",measurementId:"G-KJQS4PQ683"},oR=YS(sR),Xr=nR(oR);function Ik(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Ik(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function $i(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=Ik(t))&&(i&&(i+=" "),i+=e);return i}const ll=t=>typeof t=="number"&&!isNaN(t),Zr=t=>typeof t=="string",Pt=t=>typeof t=="function",Au=t=>Zr(t)||Pt(t)?t:null,Af=t=>_.isValidElement(t)||Zr(t)||Pt(t)||ll(t);function lR(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function kh(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=t;return function(o){let{children:l,position:a,preventExitTransition:u,done:c,nodeRef:h,isIn:f}=o;const d=i?`${e}--${a}`:e,p=i?`${n}--${a}`:n,y=_.useRef(0);return _.useLayoutEffect(()=>{const v=h.current,m=d.split(" "),g=w=>{w.target===h.current&&(v.dispatchEvent(new Event("d")),v.removeEventListener("animationend",g),v.removeEventListener("animationcancel",g),y.current===0&&w.type!=="animationcancel"&&v.classList.remove(...m))};v.classList.add(...m),v.addEventListener("animationend",g),v.addEventListener("animationcancel",g)},[]),_.useEffect(()=>{const v=h.current,m=()=>{v.removeEventListener("animationend",m),r?lR(v,c,s):c()};f||(u?m():(y.current=1,v.className+=` ${p}`,v.addEventListener("animationend",m)))},[f]),se.createElement(se.Fragment,null,l)}}function nv(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Yt={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(i=>i!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},ja=t=>{let{theme:e,type:n,...i}=t;return se.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},If={info:function(t){return se.createElement(ja,{...t},se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return se.createElement(ja,{...t},se.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return se.createElement(ja,{...t},se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return se.createElement(ja,{...t},se.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return se.createElement("div",{className:"Toastify__spinner"})}};function aR(t){const[,e]=_.useReducer(d=>d+1,0),[n,i]=_.useState([]),r=_.useRef(null),s=_.useRef(new Map).current,o=d=>n.indexOf(d)!==-1,l=_.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:d=>s.get(d)}).current;function a(d){let{containerId:p}=d;const{limit:y}=l.props;!y||p&&l.containerId!==p||(l.count-=l.queue.length,l.queue=[])}function u(d){i(p=>d==null?[]:p.filter(y=>y!==d))}function c(){const{toastContent:d,toastProps:p,staleId:y}=l.queue.shift();f(d,p,y)}function h(d,p){let{delay:y,staleId:v,...m}=p;if(!Af(d)||function(M){return!r.current||l.props.enableMultiContainer&&M.containerId!==l.props.containerId||s.has(M.toastId)&&M.updateId==null}(m))return;const{toastId:g,updateId:w,data:x}=m,{props:S}=l,E=()=>u(g),C=w==null;C&&l.count++;const T={...S,style:S.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(m).filter(M=>{let[F,j]=M;return j!=null})),toastId:g,updateId:w,data:x,closeToast:E,isIn:!1,className:Au(m.className||S.toastClassName),bodyClassName:Au(m.bodyClassName||S.bodyClassName),progressClassName:Au(m.progressClassName||S.progressClassName),autoClose:!m.isLoading&&(O=m.autoClose,P=S.autoClose,O===!1||ll(O)&&O>0?O:P),deleteToast(){const M=nv(s.get(g),"removed");s.delete(g),Yt.emit(4,M);const F=l.queue.length;if(l.count=g==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),F>0){const j=g==null?l.props.limit:1;if(F===1||j===1)l.displayedToast++,c();else{const K=j>F?F:j;l.displayedToast=K;for(let X=0;X<K;X++)c()}}else e()}};var O,P;T.iconOut=function(M){let{theme:F,type:j,isLoading:K,icon:X}=M,Z=null;const N={theme:F,type:j};return X===!1||(Pt(X)?Z=X(N):_.isValidElement(X)?Z=_.cloneElement(X,N):Zr(X)||ll(X)?Z=X:K?Z=If.spinner():(U=>U in If)(j)&&(Z=If[j](N))),Z}(T),Pt(m.onOpen)&&(T.onOpen=m.onOpen),Pt(m.onClose)&&(T.onClose=m.onClose),T.closeButton=S.closeButton,m.closeButton===!1||Af(m.closeButton)?T.closeButton=m.closeButton:m.closeButton===!0&&(T.closeButton=!Af(S.closeButton)||S.closeButton);let L=d;_.isValidElement(d)&&!Zr(d.type)?L=_.cloneElement(d,{closeToast:E,toastProps:T,data:x}):Pt(d)&&(L=d({closeToast:E,toastProps:T,data:x})),S.limit&&S.limit>0&&l.count>S.limit&&C?l.queue.push({toastContent:L,toastProps:T,staleId:v}):ll(y)?setTimeout(()=>{f(L,T,v)},y):f(L,T,v)}function f(d,p,y){const{toastId:v}=p;y&&s.delete(y);const m={content:d,props:p};s.set(v,m),i(g=>[...g,v].filter(w=>w!==y)),Yt.emit(4,nv(m,m.props.updateId==null?"added":"updated"))}return _.useEffect(()=>(l.containerId=t.containerId,Yt.cancelEmit(3).on(0,h).on(1,d=>r.current&&u(d)).on(5,a).emit(2,l),()=>{s.clear(),Yt.emit(3,l)}),[]),_.useEffect(()=>{l.props=t,l.isToastActive=o,l.displayedToast=n.length}),{getToastToRender:function(d){const p=new Map,y=Array.from(s.values());return t.newestOnTop&&y.reverse(),y.forEach(v=>{const{position:m}=v.props;p.has(m)||p.set(m,[]),p.get(m).push(v)}),Array.from(p,v=>d(v[0],v[1]))},containerRef:r,isToastActive:o}}function iv(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function rv(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function uR(t){const[e,n]=_.useState(!1),[i,r]=_.useState(!1),s=_.useRef(null),o=_.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=_.useRef(t),{autoClose:a,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:f}=t;function d(x){if(t.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",g),document.addEventListener("touchmove",m),document.addEventListener("touchend",g);const S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=iv(x.nativeEvent),o.y=rv(x.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function p(x){if(o.boundingRect){const{top:S,bottom:E,left:C,right:T}=o.boundingRect;x.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=C&&o.x<=T&&o.y>=S&&o.y<=E?v():y()}}function y(){n(!0)}function v(){n(!1)}function m(x){const S=s.current;o.canDrag&&S&&(o.didMove=!0,e&&v(),o.x=iv(x),o.y=rv(x),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function g(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",g);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return r(!0),void t.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${t.draggableDirection}(0)`,x.style.opacity="1"}}_.useEffect(()=>{l.current=t}),_.useEffect(()=>(s.current&&s.current.addEventListener("d",y,{once:!0}),Pt(t.onOpen)&&t.onOpen(_.isValidElement(t.children)&&t.children.props),()=>{const x=l.current;Pt(x.onClose)&&x.onClose(_.isValidElement(x.children)&&x.children.props)}),[]),_.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",y),window.addEventListener("blur",v)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",v))}),[t.pauseOnFocusLoss]);const w={onMouseDown:d,onTouchStart:d,onMouseUp:p,onTouchEnd:p};return a&&u&&(w.onMouseEnter=v,w.onMouseLeave=y),f&&(w.onClick=x=>{h&&h(x),o.canCloseOnClick&&c()}),{playToast:y,pauseToast:v,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:w}}function Ok(t){let{closeToast:e,theme:n,ariaLabel:i="close"}=t;return se.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:r=>{r.stopPropagation(),e(r)},"aria-label":i},se.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},se.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cR(t){let{delay:e,isRunning:n,closeToast:i,type:r="default",hide:s,className:o,style:l,controlledProgress:a,progress:u,rtl:c,isIn:h,theme:f}=t;const d=s||a&&u===0,p={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:d?0:1};a&&(p.transform=`scaleX(${u})`);const y=$i("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),v=Pt(o)?o({rtl:c,type:r,defaultClassName:y}):$i(y,o);return se.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:v,style:p,[a&&u>=1?"onTransitionEnd":"onAnimationEnd"]:a&&u<1?null:()=>{h&&i()}})}const hR=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r}=uR(t),{closeButton:s,children:o,autoClose:l,onClick:a,type:u,hideProgressBar:c,closeToast:h,transition:f,position:d,className:p,style:y,bodyClassName:v,bodyStyle:m,progressClassName:g,progressStyle:w,updateId:x,role:S,progress:E,rtl:C,toastId:T,deleteToast:O,isIn:P,isLoading:L,iconOut:M,closeOnClick:F,theme:j}=t,K=$i("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":F}),X=Pt(p)?p({rtl:C,position:d,type:u,defaultClassName:K}):$i(K,p),Z=!!E||!l,N={closeToast:h,type:u,theme:j};let U=null;return s===!1||(U=Pt(s)?s(N):_.isValidElement(s)?_.cloneElement(s,N):Ok(N)),se.createElement(f,{isIn:P,done:O,position:d,preventExitTransition:n,nodeRef:i},se.createElement("div",{id:T,onClick:a,className:X,...r,style:y,ref:i},se.createElement("div",{...P&&{role:S},className:Pt(v)?v({type:u}):$i("Toastify__toast-body",v),style:m},M!=null&&se.createElement("div",{className:$i("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},M),se.createElement("div",null,o)),U,se.createElement(cR,{...x&&!Z?{key:`pb-${x}`}:{},rtl:C,theme:j,delay:l,isRunning:e,isIn:P,closeToast:h,hide:c,type:u,style:w,className:g,controlledProgress:Z,progress:E||0})))},bh=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},fR=kh(bh("bounce",!0));kh(bh("slide",!0));kh(bh("zoom"));kh(bh("flip"));const ro=_.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:i,isToastActive:r}=aR(t),{className:s,style:o,rtl:l,containerId:a}=t;function u(c){const h=$i("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":l});return Pt(s)?s({position:c,rtl:l,defaultClassName:h}):$i(h,Au(s))}return _.useEffect(()=>{e&&(e.current=i.current)},[]),se.createElement("div",{ref:i,className:"Toastify",id:a},n((c,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return se.createElement("div",{className:u(c),style:f,key:`container-${c}`},h.map((d,p)=>{let{content:y,props:v}=d;return se.createElement(hR,{...v,isIn:r(v.toastId),style:{...v.style,"--nth":p+1,"--len":h.length},key:`toast-${v.key}`},y)}))}))});ro.displayName="ToastContainer",ro.defaultProps={position:"top-right",transition:fR,autoClose:5e3,closeButton:Ok,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Of,Ar=new Map,Ho=[],dR=1;function Pk(){return""+dR++}function pR(t){return t&&(Zr(t.toastId)||ll(t.toastId))?t.toastId:Pk()}function al(t,e){return Ar.size>0?Yt.emit(0,t,e):Ho.push({content:t,options:e}),e.toastId}function Ec(t,e){return{...e,type:e&&e.type||t,toastId:pR(e)}}function Va(t){return(e,n)=>al(e,Ec(t,n))}function he(t,e){return al(t,Ec("default",e))}he.loading=(t,e)=>al(t,Ec("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),he.promise=function(t,e,n){let i,{pending:r,error:s,success:o}=e;r&&(i=Zr(r)?he.loading(r,n):he.loading(r.render,{...n,...r}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,h,f)=>{if(h==null)return void he.dismiss(i);const d={type:c,...l,...n,data:f},p=Zr(h)?{render:h}:h;return i?he.update(i,{...d,...p}):he(p.render,{...d,...p}),f},u=Pt(t)?t():t;return u.then(c=>a("success",o,c)).catch(c=>a("error",s,c)),u},he.success=Va("success"),he.info=Va("info"),he.error=Va("error"),he.warning=Va("warning"),he.warn=he.warning,he.dark=(t,e)=>al(t,Ec("default",{theme:"dark",...e})),he.dismiss=t=>{Ar.size>0?Yt.emit(1,t):Ho=Ho.filter(e=>t!=null&&e.options.toastId!==t)},he.clearWaitingQueue=function(t){return t===void 0&&(t={}),Yt.emit(5,t)},he.isActive=t=>{let e=!1;return Ar.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},he.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(i,r){let{containerId:s}=r;const o=Ar.get(s||Of);return o&&o.getToast(i)}(t,e);if(n){const{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:Pk()};s.toastId!==t&&(s.staleId=t);const o=s.render||r;delete s.render,al(o,s)}},0)},he.done=t=>{he.update(t,{progress:1})},he.onChange=t=>(Yt.on(4,t),()=>{Yt.off(4,t)}),he.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},he.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Yt.on(2,t=>{Of=t.containerId||t,Ar.set(Of,t),Ho.forEach(e=>{Yt.emit(0,e.content,e.options)}),Ho=[]}).on(3,t=>{Ar.delete(t.containerId||t),Ar.size===0&&Yt.off(0).off(1).off(5)});function mR(){const t=_.useContext(cg),e=_.useContext(go),{lan:n,setLanguage:i}=yi(),[r,s]=_.useState(!1),o=()=>{window.scrollY>0?s(!0):s(!1)};window.addEventListener("scroll",o);const l=ia();_.useEffect(()=>{const f=xg(Xr,d=>{d&&(t.setUser(d),e.setLogin(!0))});return()=>f()},[t,e]);const a=()=>{e.login||l("/login")},u=async()=>{if(e.login)try{await HP(Xr),t.setUser(null),e.setLogin(!1),he.warning("User Logged Out Successfully"),l("/")}catch(f){he.error(`${f}`)}},c=()=>{i("en")},h=()=>{i("ru")};return k.jsx(k.Fragment,{children:k.jsxs("div",{children:[k.jsx(ro,{}),k.jsxs("header",{"data-testid":"header",className:`${yt.container} ${r?yt.scrolling:""}`,children:[k.jsx(Vo,{to:"/",className:yt.link,children:n==="en"?"Welcome":""}),k.jsx(Vo,{className:yt.link,onClick:a,to:e.login?"/graphiql":"/login",children:"GraphiQL"}),e.login?k.jsx(k.Fragment,{children:k.jsx("button",{onClick:u,className:`${yt.link} ${yt.btn}`,children:n==="en"?"Sign out":""})}):k.jsxs(k.Fragment,{children:[k.jsx(Vo,{to:"/login",className:`${yt.link} ${yt.btn}`,children:n==="en"?"Sign in":""}),k.jsx(Vo,{to:"/registration",className:`${yt.link} ${yt.btn}`,children:n==="en"?"Sign up":""})]}),k.jsxs("div",{className:yt.link,children:[k.jsx("button",{onClick:c,className:`${n==="en"?yt.active:""} ${yt.btn}`,children:"EN"}),k.jsx("button",{onClick:h,className:`${n==="ru"?yt.active:""} ${yt.btn}`,children:"RU"})]})]}),k.jsx("div",{children:k.jsx(o2,{})}),k.jsx(iI,{})]})})}var ha=t=>t.type==="checkbox",Os=t=>t instanceof Date,wt=t=>t==null;const Dk=t=>typeof t=="object";var He=t=>!wt(t)&&!Array.isArray(t)&&Dk(t)&&!Os(t),gR=t=>He(t)&&t.target?ha(t.target)?t.target.checked:t.target.value:t,yR=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,vR=(t,e)=>t.has(yR(e)),wR=t=>{const e=t.constructor&&t.constructor.prototype;return He(e)&&e.hasOwnProperty("isPrototypeOf")},bg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(bg&&(t instanceof Blob||t instanceof FileList))&&(n||He(t)))if(e=n?[]:{},!n&&!wR(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Zn(t[i]));else return t;return e}var fa=t=>Array.isArray(t)?t.filter(Boolean):[],Re=t=>t===void 0,Y=(t,e,n)=>{if(!e||!He(t))return n;const i=fa(e.split(/[,[\].]+?/)).reduce((r,s)=>wt(r)?r:r[s],t);return Re(i)||i===t?Re(t[e])?n:t[e]:i},Mi=t=>typeof t=="boolean";const sv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};se.createContext(null);var xR=(t,e,n,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(r,s,{get:()=>{const o=s;return e._proxyFormState[o]!==yn.all&&(e._proxyFormState[o]=!i||yn.all),n&&(n[o]=!0),t[o]}});return r},Gt=t=>He(t)&&!Object.keys(t).length,SR=(t,e,n,i)=>{n(t);const{name:r,...s}=t;return Gt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!i||yn.all))},Pf=t=>Array.isArray(t)?t:[t];function kR(t){const e=se.useRef(t);e.current=t,se.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Ln=t=>typeof t=="string",bR=(t,e,n,i,r)=>Ln(t)?(i&&e.watch.add(t),Y(n,t,r)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),Y(n,s))):(i&&(e.watchAll=!0),n),Cg=t=>/^\w*$/.test(t),Rk=t=>fa(t.replace(/["|']|\]/g,"").split(/\.|\[/));function me(t,e,n){let i=-1;const r=Cg(e)?[e]:Rk(e),s=r.length,o=s-1;for(;++i<s;){const l=r[i];let a=n;if(i!==o){const u=t[l];a=He(u)||Array.isArray(u)?u:isNaN(+r[i+1])?{}:[]}t[l]=a,t=t[l]}return t}var Mk=(t,e,n,i,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:r||!0}}:{},ov=t=>({isOnSubmit:!t||t===yn.onSubmit,isOnBlur:t===yn.onBlur,isOnChange:t===yn.onChange,isOnAll:t===yn.all,isOnTouch:t===yn.onTouched}),lv=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const Iu=(t,e,n,i)=>{for(const r of n||Object.keys(t)){const s=Y(t,r);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!i)break;if(o.ref&&e(o.ref,o.name)&&!i)break}else He(l)&&Iu(l,e)}}};var CR=(t,e,n)=>{const i=fa(Y(t,n));return me(i,"root",e[n]),me(t,n,i),t},Eg=t=>t.type==="file",ji=t=>typeof t=="function",_c=t=>{if(!bg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ou=t=>Ln(t),_g=t=>t.type==="radio",Tc=t=>t instanceof RegExp;const av={value:!1,isValid:!1},uv={value:!0,isValid:!0};var Nk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Re(t[0].attributes.value)?Re(t[0].value)||t[0].value===""?uv:{value:t[0].value,isValid:!0}:uv:av}return av};const cv={isValid:!1,value:null};var Lk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,cv):cv;function hv(t,e,n="validate"){if(Ou(t)||Array.isArray(t)&&t.every(Ou)||Mi(t)&&!t)return{type:n,message:Ou(t)?t:"",ref:e}}var fs=t=>He(t)&&!Tc(t)?t:{value:t,message:""},fv=async(t,e,n,i,r)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:c,max:h,pattern:f,validate:d,name:p,valueAsNumber:y,mount:v,disabled:m}=t._f,g=Y(e,p);if(!v||m)return{};const w=o?o[0]:s,x=M=>{i&&w.reportValidity&&(w.setCustomValidity(Mi(M)?"":M||""),w.reportValidity())},S={},E=_g(s),C=ha(s),T=E||C,O=(y||Eg(s))&&Re(s.value)&&Re(g)||_c(s)&&s.value===""||g===""||Array.isArray(g)&&!g.length,P=Mk.bind(null,p,n,S),L=(M,F,j,K=Qn.maxLength,X=Qn.minLength)=>{const Z=M?F:j;S[p]={type:M?K:X,message:Z,ref:s,...P(M?K:X,Z)}};if(r?!Array.isArray(g)||!g.length:l&&(!T&&(O||wt(g))||Mi(g)&&!g||C&&!Nk(o).isValid||E&&!Lk(o).isValid)){const{value:M,message:F}=Ou(l)?{value:!!l,message:l}:fs(l);if(M&&(S[p]={type:Qn.required,message:F,ref:w,...P(Qn.required,F)},!n))return x(F),S}if(!O&&(!wt(c)||!wt(h))){let M,F;const j=fs(h),K=fs(c);if(!wt(g)&&!isNaN(g)){const X=s.valueAsNumber||g&&+g;wt(j.value)||(M=X>j.value),wt(K.value)||(F=X<K.value)}else{const X=s.valueAsDate||new Date(g),Z=q=>new Date(new Date().toDateString()+" "+q),N=s.type=="time",U=s.type=="week";Ln(j.value)&&g&&(M=N?Z(g)>Z(j.value):U?g>j.value:X>new Date(j.value)),Ln(K.value)&&g&&(F=N?Z(g)<Z(K.value):U?g<K.value:X<new Date(K.value))}if((M||F)&&(L(!!M,j.message,K.message,Qn.max,Qn.min),!n))return x(S[p].message),S}if((a||u)&&!O&&(Ln(g)||r&&Array.isArray(g))){const M=fs(a),F=fs(u),j=!wt(M.value)&&g.length>+M.value,K=!wt(F.value)&&g.length<+F.value;if((j||K)&&(L(j,M.message,F.message),!n))return x(S[p].message),S}if(f&&!O&&Ln(g)){const{value:M,message:F}=fs(f);if(Tc(M)&&!g.match(M)&&(S[p]={type:Qn.pattern,message:F,ref:s,...P(Qn.pattern,F)},!n))return x(F),S}if(d){if(ji(d)){const M=await d(g,e),F=hv(M,w);if(F&&(S[p]={...F,...P(Qn.validate,F.message)},!n))return x(F.message),S}else if(He(d)){let M={};for(const F in d){if(!Gt(M)&&!n)break;const j=hv(await d[F](g,e),w,F);j&&(M={...j,...P(F,j.message)},x(j.message),n&&(S[p]=M))}if(!Gt(M)&&(S[p]={ref:w,...M},!n))return S}}return x(!0),S};function ER(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=Re(t)?i++:t[e[i++]];return t}function _R(t){for(const e in t)if(t.hasOwnProperty(e)&&!Re(t[e]))return!1;return!0}function Ge(t,e){const n=Array.isArray(e)?e:Cg(e)?[e]:Rk(e),i=n.length===1?t:ER(t,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(He(i)&&Gt(i)||Array.isArray(i)&&_R(i))&&Ge(t,n.slice(0,-1)),t}function Df(){let t=[];return{get observers(){return t},next:r=>{for(const s of t)s.next&&s.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(s=>s!==r)}}),unsubscribe:()=>{t=[]}}}var Ac=t=>wt(t)||!Dk(t);function Mr(t,e){if(Ac(t)||Ac(e))return t===e;if(Os(t)&&Os(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const r of n){const s=t[r];if(!i.includes(r))return!1;if(r!=="ref"){const o=e[r];if(Os(s)&&Os(o)||He(s)&&He(o)||Array.isArray(s)&&Array.isArray(o)?!Mr(s,o):s!==o)return!1}}return!0}var Bk=t=>t.type==="select-multiple",TR=t=>_g(t)||ha(t),Rf=t=>_c(t)&&t.isConnected,Fk=t=>{for(const e in t)if(ji(t[e]))return!0;return!1};function Ic(t,e={}){const n=Array.isArray(t);if(He(t)||n)for(const i in t)Array.isArray(t[i])||He(t[i])&&!Fk(t[i])?(e[i]=Array.isArray(t[i])?[]:{},Ic(t[i],e[i])):wt(t[i])||(e[i]=!0);return e}function $k(t,e,n){const i=Array.isArray(t);if(He(t)||i)for(const r in t)Array.isArray(t[r])||He(t[r])&&!Fk(t[r])?Re(e)||Ac(n[r])?n[r]=Array.isArray(t[r])?Ic(t[r],[]):{...Ic(t[r])}:$k(t[r],wt(e)?{}:e[r],n[r]):n[r]=!Mr(t[r],e[r]);return n}var Mf=(t,e)=>$k(t,e,Ic(e)),jk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>Re(t)?t:e?t===""?NaN:t&&+t:n&&Ln(t)?new Date(t):i?i(t):t;function Nf(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Eg(e)?e.files:_g(e)?Lk(t.refs).value:Bk(e)?[...e.selectedOptions].map(({value:n})=>n):ha(e)?Nk(t.refs).value:jk(Re(e.value)?t.ref.value:e.value,t)}var AR=(t,e,n,i)=>{const r={};for(const s of t){const o=Y(e,s);o&&me(r,s,o._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:i}},Oo=t=>Re(t)?t:Tc(t)?t.source:He(t)?Tc(t.value)?t.value.source:t.value:t,IR=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function dv(t,e,n){const i=Y(t,n);if(i||Cg(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),o=Y(e,s),l=Y(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};r.pop()}return{name:n}}var OR=(t,e,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?i.isOnBlur:r.isOnBlur)?!t:(n?i.isOnChange:r.isOnChange)?t:!0,PR=(t,e)=>!fa(Y(t,e)).length&&Ge(t,e);const DR={mode:yn.onSubmit,reValidateMode:yn.onChange,shouldFocusError:!0};function RR(t={},e){let n={...DR,...t},i={submitCount:0,isDirty:!1,isLoading:ji(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},r={},s=He(n.defaultValues)||He(n.values)?Zn(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Zn(s),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Df(),array:Df(),state:Df()},d=t.resetOptions&&t.resetOptions.keepDirtyValues,p=ov(n.mode),y=ov(n.reValidateMode),v=n.criteriaMode===yn.all,m=b=>A=>{clearTimeout(c),c=setTimeout(b,A)},g=async b=>{if(h.isValid||b){const A=n.resolver?Gt((await O()).errors):await L(r,!0);A!==i.isValid&&f.state.next({isValid:A})}},w=b=>h.isValidating&&f.state.next({isValidating:b}),x=(b,A=[],R,Q,z=!0,$=!0)=>{if(Q&&R){if(l.action=!0,$&&Array.isArray(Y(r,b))){const ee=R(Y(r,b),Q.argA,Q.argB);z&&me(r,b,ee)}if($&&Array.isArray(Y(i.errors,b))){const ee=R(Y(i.errors,b),Q.argA,Q.argB);z&&me(i.errors,b,ee),PR(i.errors,b)}if(h.touchedFields&&$&&Array.isArray(Y(i.touchedFields,b))){const ee=R(Y(i.touchedFields,b),Q.argA,Q.argB);z&&me(i.touchedFields,b,ee)}h.dirtyFields&&(i.dirtyFields=Mf(s,o)),f.state.next({name:b,isDirty:F(b,A),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else me(o,b,A)},S=(b,A)=>{me(i.errors,b,A),f.state.next({errors:i.errors})},E=(b,A,R,Q)=>{const z=Y(r,b);if(z){const $=Y(o,b,Re(R)?Y(s,b):R);Re($)||Q&&Q.defaultChecked||A?me(o,b,A?$:Nf(z._f)):X(b,$),l.mount&&g()}},C=(b,A,R,Q,z)=>{let $=!1,ee=!1;const ve={name:b};if(!R||Q){h.isDirty&&(ee=i.isDirty,i.isDirty=ve.isDirty=F(),$=ee!==ve.isDirty);const Be=Mr(Y(s,b),A);ee=Y(i.dirtyFields,b),Be?Ge(i.dirtyFields,b):me(i.dirtyFields,b,!0),ve.dirtyFields=i.dirtyFields,$=$||h.dirtyFields&&ee!==!Be}if(R){const Be=Y(i.touchedFields,b);Be||(me(i.touchedFields,b,R),ve.touchedFields=i.touchedFields,$=$||h.touchedFields&&Be!==R)}return $&&z&&f.state.next(ve),$?ve:{}},T=(b,A,R,Q)=>{const z=Y(i.errors,b),$=h.isValid&&Mi(A)&&i.isValid!==A;if(t.delayError&&R?(u=m(()=>S(b,R)),u(t.delayError)):(clearTimeout(c),u=null,R?me(i.errors,b,R):Ge(i.errors,b)),(R?!Mr(z,R):z)||!Gt(Q)||$){const ee={...Q,...$&&Mi(A)?{isValid:A}:{},errors:i.errors,name:b};i={...i,...ee},f.state.next(ee)}w(!1)},O=async b=>n.resolver(o,n.context,AR(b||a.mount,r,n.criteriaMode,n.shouldUseNativeValidation)),P=async b=>{const{errors:A}=await O(b);if(b)for(const R of b){const Q=Y(A,R);Q?me(i.errors,R,Q):Ge(i.errors,R)}else i.errors=A;return A},L=async(b,A,R={valid:!0})=>{for(const Q in b){const z=b[Q];if(z){const{_f:$,...ee}=z;if($){const ve=a.array.has($.name),Be=await fv(z,o,v,n.shouldUseNativeValidation&&!A,ve);if(Be[$.name]&&(R.valid=!1,A))break;!A&&(Y(Be,$.name)?ve?CR(i.errors,Be,$.name):me(i.errors,$.name,Be[$.name]):Ge(i.errors,$.name))}ee&&await L(ee,A,R)}}return R.valid},M=()=>{for(const b of a.unMount){const A=Y(r,b);A&&(A._f.refs?A._f.refs.every(R=>!Rf(R)):!Rf(A._f.ref))&&xi(b)}a.unMount=new Set},F=(b,A)=>(b&&A&&me(o,b,A),!Mr(ce(),s)),j=(b,A,R)=>bR(b,a,{...l.mount?o:Re(A)?s:Ln(b)?{[b]:A}:A},R,A),K=b=>fa(Y(l.mount?o:s,b,t.shouldUnregister?Y(s,b,[]):[])),X=(b,A,R={})=>{const Q=Y(r,b);let z=A;if(Q){const $=Q._f;$&&(!$.disabled&&me(o,b,jk(A,$)),z=_c($.ref)&&wt(A)?"":A,Bk($.ref)?[...$.ref.options].forEach(ee=>ee.selected=z.includes(ee.value)):$.refs?ha($.ref)?$.refs.length>1?$.refs.forEach(ee=>(!ee.defaultChecked||!ee.disabled)&&(ee.checked=Array.isArray(z)?!!z.find(ve=>ve===ee.value):z===ee.value)):$.refs[0]&&($.refs[0].checked=!!z):$.refs.forEach(ee=>ee.checked=ee.value===z):Eg($.ref)?$.ref.value="":($.ref.value=z,$.ref.type||f.values.next({name:b,values:{...o}})))}(R.shouldDirty||R.shouldTouch)&&C(b,z,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&re(b)},Z=(b,A,R)=>{for(const Q in A){const z=A[Q],$=`${b}.${Q}`,ee=Y(r,$);(a.array.has(b)||!Ac(z)||ee&&!ee._f)&&!Os(z)?Z($,z,R):X($,z,R)}},N=(b,A,R={})=>{const Q=Y(r,b),z=a.array.has(b),$=Zn(A);me(o,b,$),z?(f.array.next({name:b,values:{...o}}),(h.isDirty||h.dirtyFields)&&R.shouldDirty&&f.state.next({name:b,dirtyFields:Mf(s,o),isDirty:F(b,$)})):Q&&!Q._f&&!wt($)?Z(b,$,R):X(b,$,R),lv(b,a)&&f.state.next({...i}),f.values.next({name:b,values:{...o}}),!l.mount&&e()},U=async b=>{const A=b.target;let R=A.name,Q=!0;const z=Y(r,R),$=()=>A.type?Nf(z._f):gR(b),ee=ve=>{Q=Number.isNaN(ve)||ve===Y(o,R,ve)};if(z){let ve,Be;const xa=$(),as=b.type===sv.BLUR||b.type===sv.FOCUS_OUT,HE=!IR(z._f)&&!n.resolver&&!Y(i.errors,R)&&!z._f.deps||OR(as,Y(i.touchedFields,R),i.isSubmitted,y,p),Uh=lv(R,a,as);me(o,R,xa),as?(z._f.onBlur&&z._f.onBlur(b),u&&u(0)):z._f.onChange&&z._f.onChange(b);const Hh=C(R,xa,as,!1),WE=!Gt(Hh)||Uh;if(!as&&f.values.next({name:R,type:b.type,values:{...o}}),HE)return h.isValid&&g(),WE&&f.state.next({name:R,...Uh?{}:Hh});if(!as&&Uh&&f.state.next({...i}),w(!0),n.resolver){const{errors:h0}=await O([R]);if(ee(xa),Q){const qE=dv(i.errors,r,R),f0=dv(h0,r,qE.name||R);ve=f0.error,R=f0.name,Be=Gt(h0)}}else ve=(await fv(z,o,v,n.shouldUseNativeValidation))[R],ee(xa),Q&&(ve?Be=!1:h.isValid&&(Be=await L(r,!0)));Q&&(z._f.deps&&re(z._f.deps),T(R,Be,ve,Hh))}},q=(b,A)=>{if(Y(i.errors,A)&&b.focus)return b.focus(),1},re=async(b,A={})=>{let R,Q;const z=Pf(b);if(w(!0),n.resolver){const $=await P(Re(b)?b:z);R=Gt($),Q=b?!z.some(ee=>Y($,ee)):R}else b?(Q=(await Promise.all(z.map(async $=>{const ee=Y(r,$);return await L(ee&&ee._f?{[$]:ee}:ee)}))).every(Boolean),!(!Q&&!i.isValid)&&g()):Q=R=await L(r);return f.state.next({...!Ln(b)||h.isValid&&R!==i.isValid?{}:{name:b},...n.resolver||!b?{isValid:R}:{},errors:i.errors,isValidating:!1}),A.shouldFocus&&!Q&&Iu(r,q,b?z:a.mount),Q},ce=b=>{const A={...s,...l.mount?o:{}};return Re(b)?A:Ln(b)?Y(A,b):b.map(R=>Y(A,R))},gt=(b,A)=>({invalid:!!Y((A||i).errors,b),isDirty:!!Y((A||i).dirtyFields,b),isTouched:!!Y((A||i).touchedFields,b),error:Y((A||i).errors,b)}),rt=b=>{b&&Pf(b).forEach(A=>Ge(i.errors,A)),f.state.next({errors:b?i.errors:{}})},cn=(b,A,R)=>{const Q=(Y(r,b,{_f:{}})._f||{}).ref;me(i.errors,b,{...A,ref:Q}),f.state.next({name:b,errors:i.errors,isValid:!1}),R&&R.shouldFocus&&Q&&Q.focus&&Q.focus()},Kt=(b,A)=>ji(b)?f.values.subscribe({next:R=>b(j(void 0,A),R)}):j(b,A,!0),xi=(b,A={})=>{for(const R of b?Pf(b):a.mount)a.mount.delete(R),a.array.delete(R),A.keepValue||(Ge(r,R),Ge(o,R)),!A.keepError&&Ge(i.errors,R),!A.keepDirty&&Ge(i.dirtyFields,R),!A.keepTouched&&Ge(i.touchedFields,R),!n.shouldUnregister&&!A.keepDefaultValue&&Ge(s,R);f.values.next({values:{...o}}),f.state.next({...i,...A.keepDirty?{isDirty:F()}:{}}),!A.keepIsValid&&g()},o0=({disabled:b,name:A,field:R,fields:Q,value:z})=>{if(Mi(b)){const $=b?void 0:Re(z)?Nf(R?R._f:Y(Q,A)._f):z;me(o,A,$),C(A,$,!1,!1,!0)}},zh=(b,A={})=>{let R=Y(r,b);const Q=Mi(A.disabled);return me(r,b,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:b}},name:b,mount:!0,...A}}),a.mount.add(b),R?o0({field:R,disabled:A.disabled,name:b}):E(b,!0,A.value),{...Q?{disabled:A.disabled}:{},...n.progressive?{required:!!A.required,min:Oo(A.min),max:Oo(A.max),minLength:Oo(A.minLength),maxLength:Oo(A.maxLength),pattern:Oo(A.pattern)}:{},name:b,onChange:U,onBlur:U,ref:z=>{if(z){zh(b,A),R=Y(r,b);const $=Re(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,ee=TR($),ve=R._f.refs||[];if(ee?ve.find(Be=>Be===$):$===R._f.ref)return;me(r,b,{_f:{...R._f,...ee?{refs:[...ve.filter(Rf),$,...Array.isArray(Y(s,b))?[{}]:[]],ref:{type:$.type,name:b}}:{ref:$}}}),E(b,!1,void 0,$)}else R=Y(r,b,{}),R._f&&(R._f.mount=!1),(n.shouldUnregister||A.shouldUnregister)&&!(vR(a.array,b)&&l.action)&&a.unMount.add(b)}}},l0=()=>n.shouldFocusError&&Iu(r,q,a.mount),zE=b=>{Mi(b)&&(f.state.next({disabled:b}),Iu(r,A=>{A.disabled=b},0,!1))},a0=(b,A)=>async R=>{R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let Q=Zn(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:z,values:$}=await O();i.errors=z,Q=$}else await L(r);Ge(i.errors,"root"),Gt(i.errors)?(f.state.next({errors:{}}),await b(Q,R)):(A&&await A({...i.errors},R),l0(),setTimeout(l0)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gt(i.errors),submitCount:i.submitCount+1,errors:i.errors})},UE=(b,A={})=>{Y(r,b)&&(Re(A.defaultValue)?N(b,Y(s,b)):(N(b,A.defaultValue),me(s,b,A.defaultValue)),A.keepTouched||Ge(i.touchedFields,b),A.keepDirty||(Ge(i.dirtyFields,b),i.isDirty=A.defaultValue?F(b,Y(s,b)):F()),A.keepError||(Ge(i.errors,b),h.isValid&&g()),f.state.next({...i}))},u0=(b,A={})=>{const R=b?Zn(b):s,Q=Zn(R),z=b&&!Gt(b)?Q:s;if(A.keepDefaultValues||(s=R),!A.keepValues){if(A.keepDirtyValues||d)for(const $ of a.mount)Y(i.dirtyFields,$)?me(z,$,Y(o,$)):N($,Y(z,$));else{if(bg&&Re(b))for(const $ of a.mount){const ee=Y(r,$);if(ee&&ee._f){const ve=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(_c(ve)){const Be=ve.closest("form");if(Be){Be.reset();break}}}}r={}}o=t.shouldUnregister?A.keepDefaultValues?Zn(s):{}:Zn(z),f.array.next({values:{...z}}),f.values.next({values:{...z}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!h.isValid||!!A.keepIsValid,l.watch=!!t.shouldUnregister,f.state.next({submitCount:A.keepSubmitCount?i.submitCount:0,isDirty:A.keepDirty?i.isDirty:!!(A.keepDefaultValues&&!Mr(b,s)),isSubmitted:A.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:A.keepDirtyValues?i.dirtyFields:A.keepDefaultValues&&b?Mf(s,b):{},touchedFields:A.keepTouched?i.touchedFields:{},errors:A.keepErrors?i.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?i.isSubmitSuccessful:!1,isSubmitting:!1})},c0=(b,A)=>u0(ji(b)?b(o):b,A);return{control:{register:zh,unregister:xi,getFieldState:gt,handleSubmit:a0,setError:cn,_executeSchema:O,_getWatch:j,_getDirty:F,_updateValid:g,_removeUnmounted:M,_updateFieldArray:x,_updateDisabledField:o0,_getFieldArray:K,_reset:u0,_resetDefaultValues:()=>ji(n.defaultValues)&&n.defaultValues().then(b=>{c0(b,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:b=>{i={...i,...b}},_disableForm:zE,_subjects:f,_proxyFormState:h,get _fields(){return r},get _formValues(){return o},get _state(){return l},set _state(b){l=b},get _defaultValues(){return s},get _names(){return a},set _names(b){a=b},get _formState(){return i},set _formState(b){i=b},get _options(){return n},set _options(b){n={...n,...b}}},trigger:re,register:zh,handleSubmit:a0,watch:Kt,setValue:N,getValues:ce,reset:c0,resetField:UE,clearErrors:rt,unregister:xi,setError:cn,setFocus:(b,A={})=>{const R=Y(r,b),Q=R&&R._f;if(Q){const z=Q.refs?Q.refs[0]:Q.ref;z.focus&&(z.focus(),A.shouldSelect&&z.select())}},getFieldState:gt}}function Vk(t={}){const e=se.useRef(),n=se.useRef(),[i,r]=se.useState({isDirty:!1,isValidating:!1,isLoading:ji(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:ji(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...RR(t,()=>r(o=>({...o}))),formState:i});const s=e.current.control;return s._options=t,kR({subject:s._subjects.state,next:o=>{SR(o,s._proxyFormState,s._updateFormState,!0)&&r({...s._formState})}}),se.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),se.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),se.useEffect(()=>{t.values&&!Mr(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values):s._resetDefaultValues()},[t.values,s]),se.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=xR(i,s),e.current}var pv=function(t,e,n){if(t&&"reportValidity"in t){var i=Y(n,e);t.setCustomValidity(i&&i.message||""),t.reportValidity()}},zk=function(t,e){var n=function(r){var s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?pv(s.ref,r,t):s.refs&&s.refs.forEach(function(o){return pv(o,r,t)})};for(var i in e.fields)n(i)},MR=function(t,e){e.shouldUseNativeValidation&&zk(t,e);var n={};for(var i in t){var r=Y(e.fields,i),s=Object.assign(t[i]||{},{ref:r&&r.ref});if(LR(e.names||Object.keys(t),i)){var o=Object.assign({},NR(Y(n,i)));me(o,"root",s),me(n,i,o)}else me(n,i,s)}return n},NR=function(t){return Array.isArray(t)?t.filter(Boolean):[]},LR=function(t,e){return t.some(function(n){return n.startsWith(e+".")})};function Uk(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),function(i,r,s){try{return Promise.resolve(function(o,l){try{var a=(e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](i,Object.assign({abortEarly:!1},e,{context:r}))).then(function(u){return s.shouldUseNativeValidation&&zk({},s),{values:n.raw?i:u,errors:{}}}))}catch(u){return l(u)}return a&&a.then?a.then(void 0,l):a}(0,function(o){if(!o.inner)throw o;return{values:{},errors:MR((l=o,a=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(l.inner||[]).reduce(function(u,c){if(u[c.path]||(u[c.path]={message:c.message,type:c.type}),a){var h=u[c.path].types,f=h&&h[c.type];u[c.path]=Mk(c.path,a,u,c.type,f?[].concat(f,c.message):c.message)}return u},{})),s)};var l,a}))}catch(o){return Promise.reject(o)}}}function ls(t){this._maxSize=t,this.clear()}ls.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ls.prototype.get=function(t){return this._values[t]};ls.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var BR=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Hk=/^\d+$/,FR=/^\d/,$R=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,jR=/^\s*(['"]?)(.*?)(\1)\s*$/,Tg=512,mv=new ls(Tg),gv=new ls(Tg),yv=new ls(Tg),zr={Cache:ls,split:pp,normalizePath:Lf,setter:function(t){var e=Lf(t);return gv.get(t)||gv.set(t,function(i,r){for(var s=0,o=e.length,l=i;s<o-1;){var a=e[s];if(a==="__proto__"||a==="constructor"||a==="prototype")return i;l=l[e[s++]]}l[e[s]]=r})},getter:function(t,e){var n=Lf(t);return yv.get(t)||yv.set(t,function(r){for(var s=0,o=n.length;s<o;)if(r!=null||!e)r=r[n[s++]];else return;return r})},join:function(t){return t.reduce(function(e,n){return e+(Ag(n)||Hk.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){VR(Array.isArray(t)?t:pp(t),e,n)}};function Lf(t){return mv.get(t)||mv.set(t,pp(t).map(function(e){return e.replace(jR,"$2")}))}function pp(t){return t.match(BR)||[""]}function VR(t,e,n){var i=t.length,r,s,o,l;for(s=0;s<i;s++)r=t[s],r&&(HR(r)&&(r='"'+r+'"'),l=Ag(r),o=!l&&/^\d+$/.test(r),e.call(n,r,l,o,s,t))}function Ag(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function zR(t){return t.match(FR)&&!t.match(Hk)}function UR(t){return $R.test(t)}function HR(t){return!Ag(t)&&(zR(t)||UR(t))}const WR=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ch=t=>t.match(WR)||[],Eh=t=>t[0].toUpperCase()+t.slice(1),Ig=(t,e)=>Ch(t).join(e).toLowerCase(),Wk=t=>Ch(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),qR=t=>Eh(Wk(t)),KR=t=>Ig(t,"_"),GR=t=>Ig(t,"-"),YR=t=>Eh(Ig(t," ")),JR=t=>Ch(t).map(Eh).join(" ");var Bf={words:Ch,upperFirst:Eh,camelCase:Wk,pascalCase:qR,snakeCase:KR,kebabCase:GR,sentenceCase:YR,titleCase:JR},Og={exports:{}};Og.exports=function(t){return qk(QR(t),t)};Og.exports.array=qk;function qk(t,e){var n=t.length,i=new Array(n),r={},s=n,o=XR(e),l=ZR(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)r[s]||a(t[s],s,new Set);return i;function a(u,c,h){if(h.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!r[c]){r[c]=!0;var d=o.get(u)||new Set;if(d=Array.from(d),c=d.length){h.add(u);do{var p=d[--c];a(p,l.get(p),h)}while(c);h.delete(u)}i[--n]=u}}}function QR(t){for(var e=new Set,n=0,i=t.length;n<i;n++){var r=t[n];e.add(r[0]),e.add(r[1])}return Array.from(e)}function XR(t){for(var e=new Map,n=0,i=t.length;n<i;n++){var r=t[n];e.has(r[0])||e.set(r[0],new Set),e.has(r[1])||e.set(r[1],new Set),e.get(r[0]).add(r[1])}return e}function ZR(t){for(var e=new Map,n=0,i=t.length;n<i;n++)e.set(t[n],n);return e}var eM=Og.exports;const tM=fw(eM),nM=Object.prototype.toString,iM=Error.prototype.toString,rM=RegExp.prototype.toString,sM=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",oM=/^Symbol\((.*)\)(.*)$/;function lM(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function vv(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return lM(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return sM.call(t).replace(oM,"Symbol($1)");const i=nM.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+iM.call(t)+"]":i==="RegExp"?rM.call(t):null}function nr(t,e){let n=vv(t,e);return n!==null?n:JSON.stringify(t,function(i,r){let s=vv(this[i],e);return s!==null?s:r},2)}function Kk(t){return t==null?[]:[].concat(t)}let Gk,aM=/\$\{\s*(\w+)\s*\}/g;Gk=Symbol.toStringTag;class At extends Error{static formatError(e,n){const i=n.label||n.path||"this";return i!==n.path&&(n=Object.assign({},n,{path:i})),typeof e=="string"?e.replace(aM,(r,s)=>nr(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,r,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[Gk]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=r,this.errors=[],this.inner=[],Kk(e).forEach(o=>{if(At.isError(o)){this.errors.push(...o.errors);const l=o.inner.length?o.inner:[o];this.inner.push(...l)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,At)}}let Pn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const r=i!=null&&i!==n?` (cast from the value \`${nr(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${nr(n,!0)}\``+r:`${t} must match the configured type. The validated value was: \`${nr(n,!0)}\``+r}},dn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},uM={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},mp={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},cM={isValue:"${path} field must be ${value}"},gp={noUnknown:"${path} field has unspecified keys: ${unknown}"},hM={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},fM={notType:t=>{const{path:e,value:n,spec:i}=t,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${nr(n,!0)}\``;if(n.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${nr(n,!0)}\``}return At.formatError(Pn.notType,t)}};Object.assign(Object.create(null),{mixed:Pn,string:dn,number:uM,date:mp,object:gp,array:hM,boolean:cM,tuple:fM});const Pg=t=>t&&t.__isYupSchema__;class Oc{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=n,o=typeof i=="function"?i:(...l)=>l.every(a=>a===i);return new Oc(e,(l,a)=>{var u;let c=o(...l)?r:s;return(u=c==null?void 0:c(a))!=null?u:a})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),r=this.fn(i,e,n);if(r===void 0||r===e)return e;if(!Pg(r))throw new TypeError("conditions must return a schema object");return r.resolve(n)}}const za={context:"$",value:"."};function dM(t,e){return new xr(t,e)}class xr{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===za.context,this.isValue=this.key[0]===za.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?za.context:this.isValue?za.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&zr.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let r=this.isContext?i:this.isValue?e:n;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}xr.prototype.__isYupRef=!0;const Nr=t=>t==null;function ds(t){function e({value:n,path:i="",options:r,originalValue:s,schema:o},l,a){const{name:u,test:c,params:h,message:f,skipAbsent:d}=t;let{parent:p,context:y,abortEarly:v=o.spec.abortEarly,disableStackTrace:m=o.spec.disableStackTrace}=r;function g(L){return xr.isRef(L)?L.getValue(n,p,y):L}function w(L={}){var M;const F=Object.assign({value:n,originalValue:s,label:o.spec.label,path:L.path||i,spec:o.spec},h,L.params);for(const K of Object.keys(F))F[K]=g(F[K]);const j=new At(At.formatError(L.message||f,F),n,F.path,L.type||u,(M=L.disableStackTrace)!=null?M:m);return j.params=F,j}const x=v?l:a;let S={path:i,parent:p,type:u,from:r.from,createError:w,resolve:g,options:r,originalValue:s,schema:o};const E=L=>{At.isError(L)?x(L):L?a(null):x(w())},C=L=>{At.isError(L)?x(L):l(L)};if(d&&Nr(n))return E(!0);let O;try{var P;if(O=c.call(S,n,S),typeof((P=O)==null?void 0:P.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(E,C)}}catch(L){C(L);return}E(O)}return e.OPTIONS=t,e}function pM(t,e,n,i=n){let r,s,o;return e?(zr.forEach(e,(l,a,u)=>{let c=a?l.slice(1,l.length-1):l;t=t.resolve({context:i,parent:r,value:n});let h=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);r=n,n=n&&n[f],t=h?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);r=n,n=n&&n[c],t=t.fields[c]}s=c,o=a?"["+l+"]":"."+l}),{schema:t,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:t}}class Pc extends Set{describe(){const e=[];for(const n of this.values())e.push(xr.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new Pc(this.values())}merge(e,n){const i=this.clone();return e.forEach(r=>i.add(r)),n.forEach(r=>i.delete(r)),i}}function Ps(t,e=new Map){if(Pg(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=Ps(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,r]of t.entries())n.set(i,Ps(r,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(Ps(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,r]of Object.entries(t))n[i]=Ps(r,e)}else throw Error(`Unable to clone ${t}`);return n}class Wn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Pc,this._blacklist=new Pc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Pn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ps(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const r=Object.assign({},n.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((r,s)=>s.resolve(r,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({value:e},n)),r=n.assert==="ignore-optionality",s=i._cast(e,n);if(n.assert!==!1&&!i.isType(s)){if(r&&Nr(s))return s;let o=nr(e),l=nr(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return s}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,r){let{path:s,originalValue:o=e,strict:l=this.spec.strict}=n,a=e;l||(a=this._cast(a,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:a,originalValue:o,options:n,tests:u},i,c=>{if(c.length)return r(c,a);this.runTests({path:s,value:a,originalValue:o,options:n,tests:this.tests},i,r)})}runTests(e,n,i){let r=!1,{tests:s,value:o,originalValue:l,path:a,options:u}=e,c=y=>{r||(r=!0,n(y,o))},h=y=>{r||(r=!0,i(y,o))},f=s.length,d=[];if(!f)return h([]);let p={value:o,originalValue:l,path:a,options:u,schema:this};for(let y=0;y<s.length;y++){const v=s[y];v(p,c,function(g){g&&(Array.isArray(g)?d.push(...g):d.push(g)),--f<=0&&h(d)})}}asNestedTest({key:e,index:n,parent:i,parentPath:r,originalParent:s,options:o}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const a=typeof l=="number";let u=i[l];const c=Object.assign({},o,{strict:!0,parent:i,value:u,originalValue:s[l],key:void 0,[a?"index":"key"]:l,path:a||l.includes(".")?`${r||""}[${u?l:`"${l}"`}]`:(r?`${r}.`:"")+e});return(h,f,d)=>this.resolve(c)._validate(u,c,f,d)}validate(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s=(i=n==null?void 0:n.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((o,l)=>r._validate(e,n,(a,u)=>{At.isError(a)&&(a.value=u),l(a)},(a,u)=>{a.length?l(new At(a,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s,o=(i=n==null?void 0:n.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},n,{sync:!0}),(l,a)=>{throw At.isError(l)&&(l.value=a),l},(l,a)=>{if(l.length)throw new At(l,e,void 0,void 0,o);s=a}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(At.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(At.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ps(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=ds({message:n,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=ds({message:n,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Pn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Pn.notNull){return this.nullability(!1,e)}required(e=Pn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Pn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=ds(n),s=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),r=Kk(e).map(s=>new xr(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof n=="function"?new Oc(r,n):Oc.fromOptions(r,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=ds({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Pn.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=ds({message:n,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),i}notOneOf(e,n=Pn.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=ds({message:n,name:"notOneOf",test(r){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:o}=n.spec;return{meta:r,label:i,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(a=>({name:a.OPTIONS.name,params:a.OPTIONS.params})).filter((a,u,c)=>c.findIndex(h=>h.name===a.name)===u)}}}Wn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Wn.prototype[`${t}At`]=function(e,n,i={}){const{parent:r,parentPath:s,schema:o}=pM(this,e,n,i.context);return o[t](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const t of["equals","is"])Wn.prototype[t]=Wn.prototype.oneOf;for(const t of["not","nope"])Wn.prototype[t]=Wn.prototype.notOneOf;let mM=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gM=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,yM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,vM=t=>Nr(t)||t===t.trim(),wM={}.toString();function Lr(){return new Yk}class Yk extends Wn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===wM?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Pn.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=dn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=dn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=dn.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,r,s;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:s}=n:r=n),this.test({name:s||"matches",message:r||dn.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&i||o.search(e)!==-1})}email(e=dn.email){return this.matches(mM,{name:"email",message:e,excludeEmptyString:!0})}url(e=dn.url){return this.matches(gM,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=dn.uuid){return this.matches(yM,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=dn.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:vM})}lowercase(e=dn.lowercase){return this.transform(n=>Nr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Nr(n)||n===n.toLowerCase()})}uppercase(e=dn.uppercase){return this.transform(n=>Nr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Nr(n)||n===n.toUpperCase()})}}Lr.prototype=Yk.prototype;const xM=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Xn(t,e=0){return Number(t)||e}function SM(t){const e=xM.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:Xn(e[1]),month:Xn(e[2],1)-1,day:Xn(e[3],1),hour:Xn(e[4]),minute:Xn(e[5]),second:Xn(e[6]),millisecond:e[7]?Xn(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:Xn(e[10]),minuteOffset:Xn(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let i=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(i=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(i=0-i)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+i,n.second,n.millisecond)}let kM=new Date(""),bM=t=>Object.prototype.toString.call(t)==="[object Date]";class _h extends Wn{constructor(){super({type:"date",check(e){return bM(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=SM(e),isNaN(e)?_h.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(xr.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,n=mp.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,n=mp.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}_h.INVALID_DATE=kM;_h.prototype;function CM(t,e=[]){let n=[],i=new Set,r=new Set(e.map(([o,l])=>`${o}-${l}`));function s(o,l){let a=zr.split(o)[0];i.add(a),r.has(`${l}-${a}`)||n.push([l,a])}for(const o of Object.keys(t)){let l=t[o];i.add(o),xr.isRef(l)&&l.isSibling?s(l.path,o):Pg(l)&&"deps"in l&&l.deps.forEach(a=>s(a,o))}return tM.array(Array.from(i),n).reverse()}function wv(t,e){let n=1/0;return t.some((i,r)=>{var s;if((s=e.path)!=null&&s.includes(i))return n=r,!0}),n}function Jk(t){return(e,n)=>wv(t,e)-wv(t,n)}const EM=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function Pu(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=Pu(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Pu(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Pu)}):"optional"in t?t.optional():t}const _M=(t,e)=>{const n=[...zr.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),r=zr.getter(zr.join(n),!0)(t);return!!(r&&i in r)};let xv=t=>Object.prototype.toString.call(t)==="[object Object]";function TM(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const AM=Jk([]);function Dg(t){return new Qk(t)}class Qk extends Wn{constructor(e){super({type:"object",check(n){return xv(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=AM,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let r=super._cast(e,n);if(r===void 0)return this.getDefault(n);if(!this._typeCheck(r))return r;let s=this.fields,o=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(r).filter(h=>!this._nodes.includes(h))),a={},u=Object.assign({},n,{parent:a,__validating:n.__validating||!1}),c=!1;for(const h of l){let f=s[h],d=h in r;if(f){let p,y=r[h];u.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:y,context:n.context,parent:a});let v=f instanceof Wn?f.spec:void 0,m=v==null?void 0:v.strict;if(v!=null&&v.strip){c=c||h in r;continue}p=!n.__validating||!m?f.cast(r[h],u):r[h],p!==void 0&&(a[h]=p)}else d&&!o&&(a[h]=r[h]);(d!==h in a||a[h]!==r[h])&&(c=!0)}return c?a:r}_validate(e,n={},i,r){let{from:s=[],originalValue:o=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,i,(a,u)=>{if(!l||!xv(u)){r(a,u);return}o=o||u;let c=[];for(let h of this._nodes){let f=this.fields[h];!f||xr.isRef(f)||c.push(f.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},i,h=>{r(h.sort(this._sortErrors).concat(a),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[r,s]of Object.entries(this.fields)){const o=i[r];i[r]=o===void 0?s:o}return n.withMutation(r=>r.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let o=e;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n[i]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=CM(e,n),i._sortErrors=Jk(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),r=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),r)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Pu(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,r])=>e.includes(i)&&e.includes(r)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let r=zr.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return _M(s,e)&&(o=Object.assign({},s),i||delete o[e],o[n]=r(s)),o})}json(){return this.transform(EM)}noUnknown(e=!0,n=gp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(r){if(r==null)return!0;const s=TM(this.schema,r);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=gp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const r of Object.keys(n))i[e(r)]=n[r];return i})}camelCase(){return this.transformKeys(Bf.camelCase)}snakeCase(){return this.transformKeys(Bf.snakeCase)}constantCase(){return this.transformKeys(e=>Bf.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[s,o]of Object.entries(n.fields)){var r;let l=e;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),i.fields[s]=o.describe(l)}return i}}Dg.prototype=Qk.prototype;const IM=Dg().shape({email:Lr().required("Email is required").matches(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,"Invalid email format"),password:Lr().required("Password is required").matches(new RegExp("^(?=.*\\d)(?=.*\\p{Ll})(?=.*\\p{Lu})(?=.*[!@#$%^&*()_+]).*$","gu"),"must contain min 1 digit, 1 lowercase letter, 1 uppercase letter, and 1 special character").min(8,"Password must be more than 8 characters").max(20,"Password must be less than 20 characters")}),OM="_subContainer_law2o_1",PM="_loginHeader_law2o_9",DM="_loginForm_law2o_17",RM="_errorText_law2o_47",MM="_pre_law2o_57",NM="_textDanger_law2o_69",LM="_emailLogin_law2o_77",BM="_passwordLogin_law2o_79",FM="_loginBtn_law2o_87",fn={subContainer:OM,loginHeader:PM,loginForm:DM,errorText:RM,pre:MM,textDanger:NM,emailLogin:LM,passwordLogin:BM,loginBtn:FM};function $M(){const{lan:t}=yi(),{register:e,handleSubmit:n,formState:{errors:i}}=Vk({resolver:Uk(IM),mode:"onChange"}),r=_.useContext(cg),s=_.useContext(go),o=ia();_.useEffect(()=>{const a=xg(Xr,u=>{u&&(r.setUser(u),o("/graphiql"),he.success(t==="en"?"You have logged in successfully":"    "))});return()=>a()},[r,o,t]);const l=async a=>{try{await $P(Xr,a.email,a.password),s.setLogin(!0)}catch(u){s.setLogin(!1),he.error(t==="en"?`${u}`:"     ")}};return k.jsxs("div",{className:fn.subContainer,children:[k.jsx(ro,{}),k.jsx("h1",{className:fn.loginHeader,children:t==="en"?"Please Sign In":" "}),k.jsxs("form",{onSubmit:n(l),className:fn.loginForm,children:[k.jsxs("div",{className:fn.emailLogin,children:[k.jsx("input",{id:"emailLog",type:"email",...e("email"),placeholder:"Email"}),k.jsx("p",{className:fn.errorText,children:i.email&&k.jsx("small",{className:fn.textDanger,children:t==="en"?i.email.message:" "})})]}),k.jsxs("div",{className:fn.passwordLogin,children:[k.jsx("input",{id:"passwordLog",type:"password",...e("password"),placeholder:"Password"}),k.jsx("div",{className:fn.errorText,children:i.password&&k.jsx("p",{className:fn.pre,children:k.jsx("small",{className:fn.textDanger,children:t==="en"?i.password.message:" "})})})]}),k.jsx("button",{type:"submit",className:`${fn.loginBtn}`,children:t==="en"?"Sign in":""})]})]})}const jM="_container_1xg57_1",VM={container:jM};function zM(){return k.jsx(k.Fragment,{children:k.jsx("div",{"data-testid":"login",className:VM.container,children:k.jsx($M,{})})})}const UM=Dg().shape({name:Lr().required("Name is required").matches(/^[A-Z]/,"Name must start with capital letter"),email:Lr().required("Email is required").matches(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,"Invalid email format"),password:Lr().required("Password is required").matches(new RegExp("^(?=.*\\d)(?=.*\\p{Ll})(?=.*\\p{Lu})(?=.*[!@#$%^&*()_+]).*$","gu"),"must contain min 1 digit, 1 lowercase letter, 1 uppercase letter, and 1 special character").min(8,"Password must be more than 8 characters").max(20,"Password must be less than 20 characters"),confirmPassword:Lr().required("Password is required").oneOf([dM("password")],"Passwords must match")}),HM="_subContainer_sphl7_1",WM="_registerHeader_sphl7_9",qM="_registerForm_sphl7_17",KM="_errorText_sphl7_47",GM="_pre_sphl7_57",YM="_textDanger_sphl7_69",JM="_nameReg_sphl7_77",QM="_emailReg_sphl7_79",XM="_passwordReg_sphl7_81",ZM="_confirmPasswordReg_sphl7_83",eN="_regBtn_sphl7_91",Ke={subContainer:HM,registerHeader:WM,registerForm:qM,errorText:KM,pre:GM,textDanger:YM,nameReg:JM,emailReg:QM,passwordReg:XM,confirmPasswordReg:ZM,regBtn:eN},tN=()=>{var l;const t=_.useContext(go),{lan:e}=yi(),{handleSubmit:n,formState:{errors:i},register:r}=Vk({resolver:Uk(UM),mode:"onChange"}),s=ia();async function o(a){try{await FP(Xr,a.email,a.password).then(()=>{VP(Xr.currentUser,{displayName:a.name})}),t.setLogin(!0),s("/graphiql"),he.success(e==="en"?"User created successfully":"  "),he.success(e==="en"?"You have logged in successfully":"    ")}catch{he.error(e==="en"?"User creation failed":"   ")}}return k.jsxs("div",{className:Ke.subContainer,children:[k.jsx(ro,{}),k.jsx("h1",{className:Ke.registerHeader,children:e==="en"?"Create an account":" "}),k.jsx("form",{"data-testid":"form__registr",onSubmit:n(o),className:Ke.registerForm,children:k.jsxs("div",{children:[k.jsxs("div",{className:Ke.nameReg,children:[k.jsx("input",{id:"nameReg",type:"name",defaultValue:"",placeholder:"Name",...r("name")}),k.jsx("p",{className:Ke.errorText,children:i.name&&k.jsx("small",{className:Ke.textDanger,children:e==="en"?i.name.message:" "})})]}),k.jsxs("div",{className:Ke.emailReg,children:[k.jsx("input",{id:"emailReg",type:"email",placeholder:"Email",...r("email")}),k.jsx("p",{className:Ke.errorText,children:i.email&&k.jsx("small",{className:Ke.textDanger,children:e==="en"?i.email.message:" "})})]}),k.jsxs("div",{className:Ke.passwordReg,children:[k.jsx("input",{id:"passwordReg",type:"password",placeholder:"Password",...r("password")}),k.jsx("div",{className:Ke.errorText,children:i.password&&k.jsx("p",{className:Ke.pre,children:k.jsx("small",{className:Ke.textDanger,children:e==="en"?i.password.message:" "})})})]}),k.jsxs("div",{className:Ke.confirmPasswordReg,children:[k.jsx("input",{id:"confirmPasswordReg",type:"password",placeholder:"Confirm password",...r("confirmPassword"),onPaste:a=>(a.preventDefault(),!1)}),k.jsx("p",{className:Ke.errorText,children:i.confirmPassword&&k.jsx("small",{className:Ke.textDanger,children:e==="en"?(l=i.confirmPassword)==null?void 0:l.message:"  "})})]}),k.jsx("button",{type:"submit",className:`${Ke.regBtn}`,children:e==="en"?"Sign-up":""})]})})]})},nN="_container_1xg57_1",iN={container:nN};function rN(){return k.jsx(k.Fragment,{children:k.jsx("div",{"data-testid":"registration",className:iN.container,children:k.jsx(tN,{})})})}const sN="_title_hcq1i_1",Ua={title:sN};function oN(){return k.jsx(k.Fragment,{children:k.jsx("div",{className:Ua.title,children:k.jsxs("div",{className:Ua.container,children:[k.jsx("h3",{className:Ua.text,children:"404 Error"}),k.jsx("h2",{className:Ua.text,children:"Page not found"})]})})})}const lN="_container_1tay4_1",aN="_editorPanel_1tay4_11",Sv={container:lN,editorPanel:aN},uN="modulepreload",cN=function(t){return"/samsa/"+t},kv={},hN=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");r=Promise.all(n.map(o=>{if(o=cN(o),o in kv)return;kv[o]=!0;const l=o.endsWith(".css"),a=l?'[rel="stylesheet"]':"";if(!!i)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":uN,l||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),l)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yp.apply(this,arguments)}function fN(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}class fe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){[e,n]=so(this,e,n);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(n,this.length,r,1),Mn.from(r,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=so(this,e,n);let i=[];return this.decompose(e,n,i,0),Mn.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new ul(this),s=new ul(e);for(let o=n,l=n;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(l+=r.value.length,r.done||l>=i)return!0}}iter(e=1){return new ul(this,e)}iterRange(e,n=this.length){return new Xk(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Zk(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?fe.empty:e.length<=32?new Me(e):Mn.from(Me.split(e,[]))}}class Me extends fe{constructor(e,n=dN(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.text[s],l=r+o.length;if((n?i:l)>=e)return new pN(r,l,i,o);r=l+1,i++}}decompose(e,n,i,r){let s=e<=0&&n>=this.length?this:new Me(bv(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),l=Du(s.text,o.text.slice(),0,s.length);if(l.length<=32)i.push(new Me(l,o.length+s.length));else{let a=l.length>>1;i.push(new Me(l.slice(0,a)),new Me(l.slice(a)))}}else i.push(s)}replace(e,n,i){if(!(i instanceof Me))return super.replace(e,n,i);[e,n]=so(this,e,n);let r=Du(this.text,Du(i.text,bv(this.text,0,e)),n),s=this.length+i.length-(n-e);return r.length<=32?new Me(r,s):Mn.from(Me.split(r,[]),s)}sliceString(e,n=this.length,i=`
`){[e,n]=so(this,e,n);let r="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let l=this.text[o],a=s+l.length;s>e&&o&&(r+=i),e<a&&n>s&&(r+=l.slice(Math.max(0,e-s),n-s)),s=a+1}return r}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(n.push(new Me(i,r)),i=[],r=-1);return r>-1&&n.push(new Me(i,r)),n}}class Mn extends fe{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.children[s],l=r+o.length,a=i+o.lines-1;if((n?a:l)>=e)return o.lineInner(e,n,i,r);r=l+1,i=a+1}}decompose(e,n,i,r){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let l=this.children[s],a=o+l.length;if(e<=a&&n>=o){let u=r&((o<=e?1:0)|(a>=n?2:0));o>=e&&a<=n&&!u?i.push(l):l.decompose(e-o,n-o,i,u)}o=a+1}}replace(e,n,i){if([e,n]=so(this,e,n),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(e>=s&&n<=l){let a=o.replace(e-s,n-s,i),u=this.lines-o.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let c=this.children.slice();return c[r]=a,new Mn(c,this.length-(n-e)+i.length)}return super.replace(s,l,a)}s=l+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){[e,n]=so(this,e,n);let r="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let l=this.children[s],a=o+l.length;o>e&&s&&(r+=i),e<a&&n>o&&(r+=l.sliceString(e-o,n-o,i)),o=a+1}return r}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Mn))return 0;let i=0,[r,s,o,l]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=n,s+=n){if(r==o||s==l)return i;let a=this.children[r],u=e.children[s];if(a!=u)return i+a.scanIdentical(u,n);i+=a.length+1}}static from(e,n=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let p of e)p.flatten(d);return new Me(d,n)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,l=[],a=0,u=-1,c=[];function h(d){let p;if(d.lines>s&&d instanceof Mn)for(let y of d.children)h(y);else d.lines>o&&(a>o||!a)?(f(),l.push(d)):d instanceof Me&&a&&(p=c[c.length-1])instanceof Me&&d.lines+p.lines<=32?(a+=d.lines,u+=d.length+1,c[c.length-1]=new Me(p.text.concat(d.text),p.length+1+d.length)):(a+d.lines>r&&f(),a+=d.lines,u+=d.length+1,c.push(d))}function f(){a!=0&&(l.push(c.length==1?c[0]:Mn.from(c,u)),u=-1,a=c.length=0)}for(let d of e)h(d);return f(),l.length==1?l[0]:new Mn(l,n)}}fe.empty=new Me([""],0);function dN(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Du(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let l=t[s],a=r+l.length;a>=n&&(a>i&&(l=l.slice(0,i-r)),r<n&&(l=l.slice(n-r)),o?(e[e.length-1]+=l,o=!1):e.push(l)),r=a+1}return e}function bv(t,e,n){return Du(t,[""],e,n)}class ul{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Me?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,l=r instanceof Me?r.text.length:r.children.length;if(o==(n>0?l:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Me){let a=r.text[o+(n<0?-1:0)];if(this.offsets[i]+=n,a.length>Math.max(0,e))return this.value=e==0?a:n>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=r.children[o+(n<0?-1:0)];e>a.length?(e-=a.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(n>0?1:(a instanceof Me?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Xk{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new ul(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*n,this.value=r.length<=i?r:n<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Zk{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:r}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(fe.prototype[Symbol.iterator]=function(){return this.iter()},ul.prototype[Symbol.iterator]=Xk.prototype[Symbol.iterator]=Zk.prototype[Symbol.iterator]=function(){return this});class pN{constructor(e,n,i,r){this.from=e,this.to=n,this.number=i,this.text=r}get length(){return this.to-this.from}}function so(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let Us="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Us.length;t++)Us[t]+=Us[t-1];function mN(t){for(let e=1;e<Us.length;e+=2)if(Us[e]>t)return Us[e-1]<=t;return!1}function Cv(t){return t>=127462&&t<=127487}const Ev=8205;function et(t,e,n=!0,i=!0){return(n?eb:gN)(t,e,i)}function eb(t,e,n){if(e==t.length)return e;e&&tb(t.charCodeAt(e))&&nb(t.charCodeAt(e-1))&&e--;let i=Qe(t,e);for(e+=Xt(i);e<t.length;){let r=Qe(t,e);if(i==Ev||r==Ev||n&&mN(r))e+=Xt(r),i=r;else if(Cv(r)){let s=0,o=e-2;for(;o>=0&&Cv(Qe(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function gN(t,e,n){for(;e>0;){let i=eb(t,e-2,n);if(i<e)return i;e--}return 0}function tb(t){return t>=56320&&t<57344}function nb(t){return t>=55296&&t<56320}function Qe(t,e){let n=t.charCodeAt(e);if(!nb(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return tb(i)?(n-55296<<10)+(i-56320)+65536:n}function Rg(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Xt(t){return t<65536?1:2}const vp=/\r\n?|\n/;var xt=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(xt||(xt={}));class Hn{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,r=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,n=!1){wp(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];r<0?e.push(i,r):e.push(r,i)}return new Hn(e)}composeDesc(e){return this.empty?e:e.empty?this:ib(this,e)}mapDesc(e,n=!1){return e.empty?this:xp(this,e,n)}mapPos(e,n=-1,i=xt.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],a=this.sections[o++],u=r+l;if(a<0){if(u>e)return s+(e-r);s+=l}else{if(i!=xt.Simple&&u>=e&&(i==xt.TrackDel&&r<e&&u>e||i==xt.TrackBefore&&r<e||i==xt.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!l)return e==r||n<0?s:s+a;s+=a}r=u}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,n=e){for(let i=0,r=0;i<this.sections.length&&r<=n;){let s=this.sections[i++],o=this.sections[i++],l=r+s;if(o>=0&&r<=n&&l>=e)return r<e&&l>n?"cover":!0;r=l}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Hn(e)}static create(e){return new Hn(e)}}class Ve extends Hn{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return wp(this,(n,i,r,s,o)=>e=e.replace(r,r+(i-n),o),!1),e}mapDesc(e,n=!1){return xp(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let r=0,s=0;r<n.length;r+=2){let o=n[r],l=n[r+1];if(l>=0){n[r]=l,n[r+1]=o;let a=r>>1;for(;i.length<a;)i.push(fe.empty);i.push(o?e.slice(s,s+o):fe.empty)}s+=o}return new Ve(n,i)}compose(e){return this.empty?e:e.empty?this:ib(this,e,!0)}map(e,n=!1){return e.empty?this:xp(this,e,n,!0)}iterChanges(e,n=!1){wp(this,e,n)}get desc(){return Hn.create(this.sections)}filter(e){let n=[],i=[],r=[],s=new Ll(this);e:for(let o=0,l=0;;){let a=o==e.length?1e9:e[o++];for(;l<a||l==a&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,a-l);lt(r,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;lt(n,c,h),h>0&&Vi(i,n,s.text),s.forward(c),l+=c}let u=e[o++];for(;l<u;){if(s.done)break e;let c=Math.min(s.len,u-l);lt(n,c,-1),lt(r,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),l+=c}}return{changes:new Ve(n,i),filtered:Hn.create(r)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],r=this.sections[n+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let r=[],s=[],o=0,l=null;function a(c=!1){if(!c&&!r.length)return;o<n&&lt(r,n-o,-1);let h=new Ve(r,s);l=l?l.compose(h.map(l)):h,r=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof Ve){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);a(),l=l?l.compose(c.map(l)):c}else{let{from:h,to:f=h,insert:d}=c;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let p=d?typeof d=="string"?fe.of(d.split(i||vp)):d:fe.empty,y=p.length;if(h==f&&y==0)return;h<o&&a(),h>o&&lt(r,h-o,-1),lt(r,f-h,y),Vi(s,r,p),o=f}}return u(e),a(!l),l}static empty(e){return new Ve(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;i.length<r;)i.push(fe.empty);i[r]=fe.of(s.slice(1)),n.push(s[0],i[r].length)}}}return new Ve(n,i)}static createSet(e,n){return new Ve(e,n)}}function lt(t,e,n,i=!1){if(e==0&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:e==0&&t[r]==0?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function Vi(t,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(fe.empty);t.push(n)}}function wp(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let l=t.sections[o++],a=t.sections[o++];if(a<0)r+=l,s+=l;else{let u=r,c=s,h=fe.empty;for(;u+=l,c+=a,a&&i&&(h=h.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)l=t.sections[o++],a=t.sections[o++];e(r,u,s,c,h),r=u,s=c}}}function xp(t,e,n,i=!1){let r=[],s=i?[]:null,o=new Ll(t),l=new Ll(e);for(let a=-1;;)if(o.ins==-1&&l.ins==-1){let u=Math.min(o.len,l.len);lt(r,u,-1),o.forward(u),l.forward(u)}else if(l.ins>=0&&(o.ins<0||a==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!n))){let u=l.len;for(lt(r,l.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&a<o.i&&o.len<=c&&(lt(r,0,o.ins),s&&Vi(s,r,o.text),a=o.i),o.forward(c),u-=c}l.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(l.ins==-1){let h=Math.min(c,l.len);u+=h,c-=h,l.forward(h)}else if(l.ins==0&&l.len<c)c-=l.len,l.next();else break;lt(r,u,a<o.i?o.ins:0),s&&a<o.i&&Vi(s,r,o.text),a=o.i,o.forward(o.len-c)}else{if(o.done&&l.done)return s?Ve.createSet(r,s):Hn.create(r);throw new Error("Mismatched change set lengths")}}function ib(t,e,n=!1){let i=[],r=n?[]:null,s=new Ll(t),o=new Ll(e);for(let l=!1;;){if(s.done&&o.done)return r?Ve.createSet(i,r):Hn.create(i);if(s.ins==0)lt(i,s.len,0,l),s.next();else if(o.len==0&&!o.done)lt(i,0,o.ins,l),r&&Vi(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,o.len),u=i.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;lt(i,a,c,l),r&&c&&Vi(r,i,o.text)}else o.ins==-1?(lt(i,s.off?0:s.len,a,l),r&&Vi(r,i,s.textBit(a))):(lt(i,s.off?0:s.len,o.off?0:o.ins,l),r&&!o.off&&Vi(r,i,o.text));l=(s.ins>a||o.ins>=0&&o.len>a)&&(l||i.length>u),s.forward2(a),o.forward(a)}}}}class Ll{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?fe.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?fe.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Br{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Br(i,r,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return D.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return D.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return D.range(e.anchor,e.head)}static create(e,n,i){return new Br(e,n,i)}}class D{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:D.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new D([this.main],0)}addRange(e,n=!0){return D.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,D.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new D(e.ranges.map(n=>Br.fromJSON(n)),e.main)}static single(e,n=e){return new D([D.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return D.normalized(e.slice(),n);i=s.to}return new D(e,n)}static cursor(e,n=0,i,r){return Br.create(e,e,(n==0?0:n<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,n,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return n<e?Br.create(n,e,48|s):Br.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let i=e[n];e.sort((r,s)=>r.from-s.from),n=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,a=Math.max(s.to,o.to);r<=n&&n--,e.splice(--r,2,s.anchor>s.head?D.range(a,l):D.range(l,a))}}return new D(e,n)}}function rb(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Mg=0;class G{constructor(e,n,i,r,s){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=r,this.id=Mg++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new G(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:Ng),!!e.static,e.enables)}of(e){return new Ru([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ru(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ru(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}}function Ng(t,e){return t==e||t.length==e.length&&t.every((n,i)=>n===e[i])}class Ru{constructor(e,n,i,r){this.dependencies=e,this.facet=n,this.type=i,this.value=r,this.id=Mg++}dynamicSlot(e){var n;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,a=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?a=!0:h=="selection"?u=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||c.push(e[h.id]);return{create(h){return h.values[o]=i(h),1},update(h,f){if(a&&f.docChanged||u&&(f.docChanged||f.selection)||Sp(h,c)){let d=i(h);if(l?!_v(d,h.values[o],r):!r(d,h.values[o]))return h.values[o]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[s];if(p!=null){let y=Rc(f,p);if(this.dependencies.every(v=>v instanceof G?f.facet(v)===h.facet(v):v instanceof it?f.field(v,!1)==h.field(v,!1):!0)||(l?_v(d=i(h),y,r):r(d=i(h),y)))return h.values[o]=y,0}else d=i(h);return h.values[o]=d,1}}}}function _v(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function Sp(t,e){let n=!1;for(let i of e)cl(t,i)&1&&(n=!0);return n}function yN(t,e,n){let i=n.map(a=>t[a.id]),r=n.map(a=>a.type),s=i.filter(a=>!(a&1)),o=t[e.id]>>1;function l(a){let u=[];for(let c=0;c<i.length;c++){let h=Rc(a,i[c]);if(r[c]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(a){for(let u of i)cl(a,u);return a.values[o]=l(a),1},update(a,u){if(!Sp(a,s))return 0;let c=l(a);return e.compare(c,a.values[o])?0:(a.values[o]=c,1)},reconfigure(a,u){let c=Sp(a,i),h=u.config.facets[e.id],f=u.facet(e);if(h&&!c&&Ng(n,h))return a.values[o]=f,0;let d=l(a);return e.compare(d,f)?(a.values[o]=f,0):(a.values[o]=d,1)}}}const Tv=G.define({static:!0});class it{constructor(e,n,i,r,s){this.id=e,this.createF=n,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let n=new it(Mg++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Tv).find(i=>i.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,r)=>{let s=i.values[n],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[n]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[n]=r.field(this),0):(i.values[n]=this.create(i),1)}}init(e){return[this,Tv.of({field:this,create:e})]}get extension(){return this}}const Ir={lowest:4,low:3,default:2,high:1,highest:0};function Po(t){return e=>new sb(e,t)}const vo={highest:Po(Ir.highest),high:Po(Ir.high),default:Po(Ir.default),low:Po(Ir.low),lowest:Po(Ir.lowest)};class sb{constructor(e,n){this.inner=e,this.prec=n}}class Th{of(e){return new kp(this,e)}reconfigure(e){return Th.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class kp{constructor(e,n){this.compartment=e,this.inner=n}}class Dc{constructor(e,n,i,r,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let r=[],s=Object.create(null),o=new Map;for(let f of vN(e,n,o))f instanceof it?r.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let l=Object.create(null),a=[],u=[];for(let f of r)l[f.id]=u.length<<1,u.push(d=>f.slot(d));let c=i==null?void 0:i.config.facets;for(let f in s){let d=s[f],p=d[0].facet,y=c&&c[f]||[];if(d.every(v=>v.type==0))if(l[p.id]=a.length<<1|1,Ng(y,d))a.push(i.facet(p));else{let v=p.combine(d.map(m=>m.value));a.push(i&&p.compare(v,i.facet(p))?i.facet(p):v)}else{for(let v of d)v.type==0?(l[v.id]=a.length<<1|1,a.push(v.value)):(l[v.id]=u.length<<1,u.push(m=>v.dynamicSlot(m)));l[p.id]=u.length<<1,u.push(v=>yN(v,p,d))}}let h=u.map(f=>f(l));return new Dc(e,o,h,l,a,s)}}function vN(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(o,l){let a=r.get(o);if(a!=null){if(a<=l)return;let u=i[a].indexOf(o);u>-1&&i[a].splice(u,1),o instanceof kp&&n.delete(o.compartment)}if(r.set(o,l),Array.isArray(o))for(let u of o)s(u,l);else if(o instanceof kp){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,l)}else if(o instanceof sb)s(o.inner,o.prec);else if(o instanceof it)i[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof Ru)i[l].push(o),o.facet.extensions&&s(o.facet.extensions,Ir.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,l)}}return s(t,Ir.default),i.reduce((o,l)=>o.concat(l))}function cl(t,e){if(e&1)return 2;let n=e>>1,i=t.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function Rc(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const ob=G.define(),bp=G.define({combine:t=>t.some(e=>e),static:!0}),lb=G.define({combine:t=>t.length?t[0]:void 0,static:!0}),ab=G.define(),ub=G.define(),cb=G.define(),hb=G.define({combine:t=>t.length?t[0]:!1});class Kn{constructor(e,n){this.type=e,this.value=n}static define(){return new wN}}class wN{of(e){return new Kn(this,e)}}class xN{constructor(e){this.map=e}of(e){return new ie(this,e)}}class ie{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new ie(this.type,n)}is(e){return this.type==e}static define(e={}){return new xN(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(n);s&&i.push(s)}return i}}ie.reconfigure=ie.define();ie.appendConfig=ie.define();class Ue{constructor(e,n,i,r,s,o){this.startState=e,this.changes=n,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&rb(i,n.newLength),s.some(l=>l.type==Ue.time)||(this.annotations=s.concat(Ue.time.of(Date.now())))}static create(e,n,i,r,s,o){return new Ue(e,n,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Ue.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Ue.time=Kn.define();Ue.userEvent=Kn.define();Ue.addToHistory=Kn.define();Ue.remote=Kn.define();function SN(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else if(r<e.length)s=e[r++],o=e[r++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function fb(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=Ve.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=t.selection)===null||i===void 0?void 0:i.map(r),effects:ie.mapEffects(t.effects,r).concat(ie.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Cp(t,e,n){let i=e.selection,r=Hs(e.annotations);return e.userEvent&&(r=r.concat(Ue.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ve?e.changes:Ve.of(e.changes||[],n,t.facet(lb)),selection:i&&(i instanceof D?i:D.single(i.anchor,i.head)),effects:Hs(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function db(t,e,n){let i=Cp(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;i=fb(i,Cp(t,e[s],o?i.changes.newLength:t.doc.length),o)}let r=Ue.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return bN(n?kN(r):r)}function kN(t){let e=t.startState,n=!0;for(let r of e.facet(ab)){let s=r(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:SN(n,s))}if(n!==!0){let r,s;if(n===!1)s=t.changes.invertedDesc,r=Ve.empty(e.doc.length);else{let o=t.changes.filter(n);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Ue.create(e,r,t.selection&&t.selection.map(s),ie.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let i=e.facet(ub);for(let r=i.length-1;r>=0;r--){let s=i[r](t);s instanceof Ue?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ue?t=s[0]:t=db(e,Hs(s),!1)}return t}function bN(t){let e=t.startState,n=e.facet(cb),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=fb(i,Cp(e,s,t.changes.newLength),!0))}return i==t?t:Ue.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}const CN=[];function Hs(t){return t==null?CN:Array.isArray(t)?t:[t]}var _e=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(_e||(_e={}));const EN=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ep;try{Ep=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function _N(t){if(Ep)return Ep.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||EN.test(n)))return!0}return!1}function TN(t){return e=>{if(!/\S/.test(e))return _e.Space;if(_N(e))return _e.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return _e.Word;return _e.Other}}class le{constructor(e,n,i,r,s,o){this.config=e,this.doc=n,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)cl(this,l<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return cl(this,i),Rc(this,i)}update(...e){return db(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:r}=n;for(let l of e.effects)l.is(Th.reconfigure)?(n&&(r=new Map,n.compartments.forEach((a,u)=>r.set(u,a)),n=null),r.set(l.value.compartment,l.value.extension)):l.is(ie.reconfigure)?(n=null,i=l.value):l.is(ie.appendConfig)&&(n=null,i=Hs(i).concat(l.value));let s;n?s=e.startState.values.slice():(n=Dc.resolve(i,r,this),s=new le(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(a,u)=>u.reconfigure(a,this),null).values);let o=e.startState.facet(bp)?e.newSelection:e.newSelection.asSingle();new le(n,e.newDoc,o,s,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:D.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),r=this.changes(i.changes),s=[i.range],o=Hs(i.effects);for(let l=1;l<n.ranges.length;l++){let a=e(n.ranges[l]),u=this.changes(a.changes),c=u.map(r);for(let f=0;f<l;f++)s[f]=s[f].map(c);let h=r.mapDesc(u,!0);s.push(a.range.map(h)),r=r.compose(c),o=ie.mapEffects(o,c).concat(ie.mapEffects(Hs(a.effects),h))}return{changes:r,selection:D.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Ve?e:Ve.of(e,this.doc.length,this.facet(le.lineSeparator))}toText(e){return fe.of(e.split(this.facet(le.lineSeparator)||vp))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(cl(this,n),Rc(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof it&&this.config.address[r.id]!=null&&(n[i]=r.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],l=e[s];r.push(o.init(a=>o.spec.fromJSON(l,a)))}}return le.create({doc:e.doc,selection:D.fromJSON(e.selection),extensions:n.extensions?r.concat([n.extensions]):r})}static create(e={}){let n=Dc.resolve(e.extensions||[],new Map),i=e.doc instanceof fe?e.doc:fe.of((e.doc||"").split(n.staticFacet(le.lineSeparator)||vp)),r=e.selection?e.selection instanceof D?e.selection:D.single(e.selection.anchor,e.selection.head):D.single(0);return rb(r,i.length),n.staticFacet(bp)||(r=r.asSingle()),new le(n,i,r,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(le.tabSize)}get lineBreak(){return this.facet(le.lineSeparator)||`
`}get readOnly(){return this.facet(hb)}phrase(e,...n){for(let i of this.facet(le.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>n.length?i:n[s-1]})),e}languageDataAt(e,n,i=-1){let r=[];for(let s of this.facet(ob))for(let o of s(this,n,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return TN(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,l=e-i;for(;o>0;){let a=et(n,o,!1);if(s(n.slice(a,o))!=_e.Word)break;o=a}for(;l<r;){let a=et(n,l);if(s(n.slice(l,a))!=_e.Word)break;l=a}return o==l?null:D.range(o+i,l+i)}}le.allowMultipleSelections=bp;le.tabSize=G.define({combine:t=>t.length?t[0]:4});le.lineSeparator=lb;le.readOnly=hb;le.phrases=G.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every(r=>t[r]==e[r])}});le.languageData=ob;le.changeFilter=ab;le.transactionFilter=ub;le.transactionExtender=cb;Th.reconfigure=ie.define();function Gn(t,e,n={}){let i={};for(let r of t)for(let s of Object.keys(r)){let o=r[s],l=i[s];if(l===void 0)i[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(n,s))i[s]=n[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class es{eq(e){return this==e}range(e,n=e){return _p.create(e,n,this)}}es.prototype.startSide=es.prototype.endSide=0;es.prototype.point=!1;es.prototype.mapMode=xt.TrackDel;let _p=class pb{constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new pb(e,n,i)}};function Tp(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Lg{constructor(e,n,i,r){this.from=e,this.to=n,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,r=0){let s=i?this.to:this.from;for(let o=r,l=s.length;;){if(o==l)return o;let a=o+l>>1,u=s[a]-e||(i?this.value[a].endSide:this.value[a].startSide)-n;if(a==o)return u>=0?o:l;u>=0?l=a:o=a+1}}between(e,n,i,r){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let i=[],r=[],s=[],o=-1,l=-1;for(let a=0;a<this.value.length;a++){let u=this.value[a],c=this.from[a]+e,h=this.to[a]+e,f,d;if(c==h){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(f=d=p,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide),d<f)))continue}else if(f=n.mapPos(c,u.startSide),d=n.mapPos(h,u.endSide),f>d||f==d&&u.startSide>0&&u.endSide<=0)continue;(d-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(l=Math.max(l,d-f)),i.push(u),r.push(f-o),s.push(d-o))}return{mapped:i.length?new Lg(r,s,i,l):null,pos:o}}}class de{constructor(e,n,i,r){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=r}static create(e,n,i,r){return new de(e,n,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(i&&(n=n.slice().sort(Tp)),this.isEmpty)return n.length?de.of(n):this;let l=new mb(this,null,-1).goto(0),a=0,u=[],c=new ar;for(;l.value||a<n.length;)if(a<n.length&&(l.from-n[a].from||l.startSide-n[a].value.startSide)>=0){let h=n[a++];c.addInner(h.from,h.to,h.value)||u.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==n.length||this.chunkEnd(l.chunkIndex)<n[a].from)&&(!o||r>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&c.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||r>l.to||s<l.from||o(l.from,l.to,l.value))&&(c.addInner(l.from,l.to,l.value)||u.push(_p.create(l.from,l.to,l.value))),l.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?de.empty:this.nextLayer.update({add:u,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],a=this.chunk[o],u=e.touchesRange(l,l+a.length);if(u===!1)r=Math.max(r,a.maxPoint),n.push(a),i.push(e.mapPos(l));else if(u===!0){let{mapped:c,pos:h}=a.map(l,e);c&&(r=Math.max(r,c.maxPoint),n.push(c),i.push(h))}}let s=this.nextLayer.map(e);return n.length==0?s:new de(i,n,s||de.empty,r)}between(e,n,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return Bl.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Bl.from(e).goto(n)}static compare(e,n,i,r,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=Av(o,l,i),u=new Do(o,a,s),c=new Do(l,a,s);i.iterGaps((h,f,d)=>Iv(u,h,c,f,d,r)),i.empty&&i.length==0&&Iv(u,0,c,0,0,r)}static eq(e,n,i=0,r){r==null&&(r=999999999);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=Av(s,o),a=new Do(s,l,0).goto(i),u=new Do(o,l,0).goto(i);for(;;){if(a.to!=u.to||!Ap(a.active,u.active)||a.point&&(!u.point||!a.point.eq(u.point)))return!1;if(a.to>r)return!0;a.next(),u.next()}}static spans(e,n,i,r,s=-1){let o=new Do(e,null,s).goto(n),l=n,a=o.openStart;for(;;){let u=Math.min(o.to,i);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<n?c.length+1:Math.min(c.length,a);r.point(l,u,o.point,c,h,o.pointRank),a=Math.min(o.openEnd(u),c.length)}else u>l&&(r.span(l,u,o.active,a),a=o.openEnd(u));if(o.to>i)return a+(o.point&&o.to>i?1:0);l=o.to,o.next()}}static of(e,n=!1){let i=new ar;for(let r of e instanceof _p?[e]:n?AN(e):e)i.add(r.from,r.to,r.value);return i.finish()}}de.empty=new de([],[],null,-1);function AN(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Tp(e,i)>0)return t.slice().sort(Tp);e=i}return t}de.empty.nextLayer=de.empty;class ar{finishChunk(e){this.chunks.push(new Lg(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new ar)).add(e,n,i)}addInner(e,n,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner(de.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=de.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Av(t,e,n){let i=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=i.get(s.chunk[o]);l!=null&&(n?n.mapPos(l):l)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(l,l+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class mb{constructor(e,n,i,r=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Bl{constructor(e){this.heap=e}static from(e,n=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new mb(o,n,i,s));return r.length==1?r[0]:new Bl(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)Ff(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)Ff(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ff(this.heap,0)}}}function Ff(t,e){for(let n=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class Do{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Bl.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Ha(this.active,e),Ha(this.activeTo,e),Ha(this.activeRank,e),this.minActive=Ov(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:r,rank:s}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;Wa(this.active,n,i),Wa(this.activeTo,n,r),Wa(this.activeRank,n,s),e&&Wa(e,n,this.cursor.from),this.minActive=Ov(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Ha(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}}function Iv(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,l=i,a=i-e;for(;;){let u=t.to+a-n.to||t.endSide-n.endSide,c=u<0?t.to+a:n.to,h=Math.min(c,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Ap(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(l,h,t.point,n.point):h>l&&!Ap(t.active,n.active)&&s.compareRange(l,h,t.active,n.active),c>o)break;l=c,u<=0&&t.next(),u>=0&&n.next()}}function Ap(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Ha(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Wa(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function Ov(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function wo(t,e,n=t.length){let i=0;for(let r=0;r<n;)t.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=et(t,r));return i}function Ip(t,e,n,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=t.charCodeAt(r)==9?n-s%n:1,r=et(t,r)}return i===!0?-1:t.length}const Op="",Pv=typeof Symbol>"u"?"__"+Op:Symbol.for(Op),Pp=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ur{constructor(e,n){this.rules=[];let{finish:i}=n||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,a,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&l==null)return a.push(o[0]+";");for(let d in l){let p=l[d];if(/&/.test(d))s(d.split(/,\s*/).map(y=>o.map(v=>y.replace(/&/,v))).reduce((y,v)=>y.concat(v)),p,a);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(r(d),p,c,f)}else p!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+p+";")}(c.length||f)&&a.push((i&&!h&&!u?o.map(i):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Dv[Pv]||1;return Dv[Pv]=e+1,Op+e.toString(36)}static mount(e,n,i){let r=e[Pp],s=i&&i.nonce;r?s&&r.setNonce(s):r=new IN(e,s),r.mount(Array.isArray(n)?n:[n])}}let Rv=new Map;class IN{constructor(e,n){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=Rv.get(i);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[Pp]=s;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Rv.set(i,this)}else{this.styleTag=i.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[Pp]=this}mount(e){let n=this.sheet,i=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],l=this.modules.indexOf(o);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,o),n)for(let a=0;a<o.rules.length;a++)n.insertRule(o.rules[a],i++)}else{for(;r<l;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(!n){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var cr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Fl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ON=typeof navigator<"u"&&/Mac/.test(navigator.platform),PN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xe=0;Xe<10;Xe++)cr[48+Xe]=cr[96+Xe]=String(Xe);for(var Xe=1;Xe<=24;Xe++)cr[Xe+111]="F"+Xe;for(var Xe=65;Xe<=90;Xe++)cr[Xe]=String.fromCharCode(Xe+32),Fl[Xe]=String.fromCharCode(Xe);for(var $f in cr)Fl.hasOwnProperty($f)||(Fl[$f]=cr[$f]);function DN(t){var e=ON&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||PN&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Fl:cr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Mc(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Dp(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function RN(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Mu(t,e){if(!e.anchorNode)return!1;try{return Dp(t,e.anchorNode)}catch{return!1}}function oo(t){return t.nodeType==3?ts(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Nc(t,e,n,i){return n?Mv(t,e,n,i,-1)||Mv(t,e,n,i,1):!1}function $l(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Mv(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:fi(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=$l(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=r<0?fi(t):0}else return!1}}function fi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ah(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function MN(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function NN(t,e,n,i,r,s,o,l){let a=t.ownerDocument,u=a.defaultView||window;for(let c=t,h=!1;c&&!h;)if(c.nodeType==1){let f,d=c==a.body,p=1,y=1;if(d)f=MN(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let g=c.getBoundingClientRect();p=g.width/c.offsetWidth,y=g.height/c.offsetHeight,f={left:g.left,right:g.left+c.clientWidth*p,top:g.top,bottom:g.top+c.clientHeight*y}}let v=0,m=0;if(r=="nearest")e.top<f.top?(m=-(f.top-e.top+o),n>0&&e.bottom>f.bottom+m&&(m=e.bottom-f.bottom+m+o)):e.bottom>f.bottom&&(m=e.bottom-f.bottom+o,n<0&&e.top-m<f.top&&(m=-(f.top+m-e.top+o)));else{let g=e.bottom-e.top,w=f.bottom-f.top;m=(r=="center"&&g<=w?e.top+g/2-w/2:r=="start"||r=="center"&&n<0?e.top-o:e.bottom-w+o)-f.top}if(i=="nearest"?e.left<f.left?(v=-(f.left-e.left+s),n>0&&e.right>f.right+v&&(v=e.right-f.right+v+s)):e.right>f.right&&(v=e.right-f.right+s,n<0&&e.left<f.left+v&&(v=-(f.left+v-e.left+s))):v=(i=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:i=="start"==l?e.left-s:e.right-(f.right-f.left)+s)-f.left,v||m)if(d)u.scrollBy(v,m);else{let g=0,w=0;if(m){let x=c.scrollTop;c.scrollTop+=m/y,w=(c.scrollTop-x)*y}if(v){let x=c.scrollLeft;c.scrollLeft+=v/p,g=(c.scrollLeft-x)*p}e={left:e.left-g,top:e.top-w,right:e.right-g,bottom:e.bottom-w},g&&Math.abs(g-v)<1&&(i="nearest"),w&&Math.abs(w-m)<1&&(r="nearest")}if(d)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function LN(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class BN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:i}=e;this.set(n,Math.min(e.anchorOffset,n?fi(n):0),i,Math.min(e.focusOffset,i?fi(i):0))}set(e,n,i,r){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=r}}let ps=null;function gb(t){if(t.setActive)return t.setActive();if(ps)return t.focus(ps);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(ps==null?{get preventScroll(){return ps={preventScroll:!0},!0}}:void 0),!ps){ps=!1;for(let n=0;n<e.length;){let i=e[n++],r=e[n++],s=e[n++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Nv;function ts(t,e,n=e){let i=Nv||(Nv=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function Ws(t,e,n){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,t.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function FN(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function yb(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function $N(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,fi(n));;)if(i){if(n.nodeType!=1)return!1;let r=n.childNodes[i-1];r.contentEditable=="false"?i--:(n=r,i=fi(n))}else{if(n==t)return!0;i=$l(n),n=n.parentNode}}function vb(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class ut{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new ut(e.parentNode,$l(e),n)}static after(e,n){return new ut(e.parentNode,$l(e)+1,n)}}const Bg=[];class be{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let l=be.get(s);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&s!=o.dom&&(n.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Lv(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&n&&n.node==i&&(n.written=!0);s;)s=Lv(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,n),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let r=fi(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!be.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,i=0){let r=-1,s=-1,o=-1,l=-1;for(let a=0,u=i,c=i;a<this.children.length;a++){let h=this.children[a],f=u+h.length;if(u<e&&f>n)return h.domBoundsAround(e,n,u);if(f>=e&&r==-1&&(r=a,s=u),u>n&&h.dom.parentNode==this.dom){o=a,l=c;break}c=f,u=f+h.breakAfter}return{from:s,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=Bg){this.markDirty();for(let r=e;r<n;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}this.children.splice(e,n-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new wb(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.destroy();this.parent=null}}be.prototype.breakAfter=0;function Lv(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class wb{constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function xb(t,e,n,i,r,s,o,l,a){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==i&&c&&!o&&!f&&s.length<2&&c.merge(n,r,s.length?h:null,n==0,l,a))){if(i<u.length){let d=u[i];d&&(r<d.length||d.breakAfter&&(h!=null&&h.breakAfter))?(e==i&&(d=d.split(r),r=0),!f&&h&&d.merge(0,r,h,!0,0,a)?s[s.length-1]=d:((r||d.children.length&&!d.children[0].length)&&d.merge(0,r,null,!1,0,a),s.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,l,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,l,0),e++));e<i&&s.length;)if(u[i-1].become(s[s.length-1]))i--,s.pop(),a=s.length?0:l;else if(u[e].become(s[0]))e++,s.shift(),l=s.length?0:a;else break;!s.length&&e&&i<u.length&&!u[e-1].breakAfter&&u[i].merge(0,0,u[e-1],!1,l,a)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function Sb(t,e,n,i,r,s){let o=t.childCursor(),{i:l,off:a}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let f of i)h+=f.length;t.length+=h,xb(t,u,c,l,a,i,0,r,s)}let jt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Rp=typeof document<"u"?document:{documentElement:{style:{}}};const Mp=/Edge\/(\d+)/.exec(jt.userAgent),kb=/MSIE \d/.test(jt.userAgent),Np=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jt.userAgent),Ih=!!(kb||Np||Mp),Bv=!Ih&&/gecko\/(\d+)/i.test(jt.userAgent),jf=!Ih&&/Chrome\/(\d+)/.exec(jt.userAgent),Fv="webkitFontSmoothing"in Rp.documentElement.style,bb=!Ih&&/Apple Computer/.test(jt.vendor),$v=bb&&(/Mobile\/\w+/.test(jt.userAgent)||jt.maxTouchPoints>2);var J={mac:$v||/Mac/.test(jt.platform),windows:/Win/.test(jt.platform),linux:/Linux|X11/.test(jt.platform),ie:Ih,ie_version:kb?Rp.documentMode||6:Np?+Np[1]:Mp?+Mp[1]:0,gecko:Bv,gecko_version:Bv?+(/Firefox\/(\d+)/.exec(jt.userAgent)||[0,0])[1]:0,chrome:!!jf,chrome_version:jf?+jf[1]:0,ios:$v,android:/Android\b/.test(jt.userAgent),webkit:Fv,safari:bb,webkit_version:Fv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Rp.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const jN=256;class di extends be{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return this.flags&8||i&&(!(i instanceof di)||this.length-(n-e)+i.length>jN||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new di(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new ut(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return VN(this.dom,e,n)}}class pi extends be{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let r of n)r.setParent(this)}setAttrs(e){if(yb(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,r,s,o){return i&&(!(i instanceof pi&&i.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(Sb(this,e,n,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],i=0,r=-1,s=0;for(let l of this.children){let a=i+l.length;a>e&&n.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=s),i=a,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new pi(this.mark,n,o)}domAtPos(e){return Cb(this,e)}coordsAt(e,n){return _b(this,e,n)}}function VN(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&n<0||e==i&&n>=0?J.chrome||J.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let l=ts(t,r,s).getClientRects();if(!l.length)return null;let a=l[(o?o<0:n>=0)?0:l.length-1];return J.safari&&!o&&a.width==0&&(a=Array.prototype.find.call(l,u=>u.width)||a),o?Ah(a,o<0):a||null}class zi extends be{static create(e,n,i){return new zi(e,n,i)}constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}split(e){let n=zi.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,i,r,s,o){return i&&(!(i instanceof zi)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e instanceof zi&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return fe.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):fe.empty}domAtPos(e){return(this.length?e==0:this.side>0)?ut.before(this.dom):ut.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?r.length-1:0;s=r[l],!(e>0?l==0:l==r.length-1||s.top<s.bottom);l+=o?-1:1);return Ah(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class lo extends be{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof lo&&e.side==this.side}split(){return new lo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ut.before(this.dom):ut.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return fe.empty}get isHidden(){return!0}}di.prototype.children=zi.prototype.children=lo.prototype.children=Bg;function Cb(t,e){let n=t.dom,{children:i}=t,r=0;for(let s=0;r<i.length;r++){let o=i[r],l=s+o.length;if(!(l==s&&o.getSide()<=0)){if(e>s&&e<l&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=l}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new ut(n,0)}function Eb(t,e,n){let i,{children:r}=t;n>0&&e instanceof pi&&r.length&&(i=r[r.length-1])instanceof pi&&i.mark.eq(e.mark)?Eb(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function _b(t,e,n){let i=null,r=-1,s=null,o=-1;function l(u,c){for(let h=0,f=0;h<u.children.length&&f<=c;h++){let d=u.children[h],p=f+d.length;p>=c&&(d.children.length?l(d,c-f):(!s||s.isHidden&&n>0)&&(p>c||f==p&&d.getSide()>0)?(s=d,o=c-f):(f<c||f==p&&d.getSide()<0&&!d.isHidden)&&(i=d,r=c-f)),f=p}}l(t,e);let a=(n<0?i:s)||i||s;return a?a.coordsAt(Math.max(0,a==i?r:o),n):zN(t)}function zN(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=oo(e);return n[n.length-1]||null}function Lp(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const jv=Object.create(null);function Fg(t,e,n){if(t==e)return!0;t||(t=jv),e||(e=jv);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let s of i)if(s!=n&&(r.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function Bp(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,r=="style"?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,r=="style"?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function UN(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class $e extends be{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,r,s,o){if(i){if(!(i instanceof $e))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),Sb(this,e,n,i?i.children:[],s,o),!0}split(e){let n=new $e;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:r}=this.childPos(e);r&&(n.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)n.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Fg(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){Eb(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=Lp(n,this.attrs||{})),i&&(this.attrs=Lp({class:i},this.attrs||{}))}domAtPos(e){return Cb(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var i;this.dom?this.flags&4&&(yb(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Bp(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let r=this.dom.lastChild;for(;r&&be.get(r)instanceof pi;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=be.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!J.ios||!this.children.some(s=>s instanceof di))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let i of this.children){if(!(i instanceof di)||/[^ -~]/.test(i.text))return null;let r=oo(i.dom);if(r.length!=1)return null;e+=r[0].width,n=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let i=_b(this,e,n);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,n){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=n){if(s instanceof $e)return s;if(o>n)break}r=o+s.breakAfter}return null}}class ir extends be{constructor(e,n,i){super(),this.widget=e,this.length=n,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,r,s,o){return i&&(!(i instanceof ir)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?ut.before(this.dom):ut.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new ir(this.widget,n,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Bg}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):fe.empty}domBoundsAround(){return null}become(e){return e instanceof ir&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:i}=this.deco;return n==i?!1:e<0?n<0:i>0}}class wi{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,i){return null}get isHidden(){return!1}destroy(e){}}var kt=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(kt||(kt={}));class te extends es{constructor(e,n,i,r){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new da(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return n+=i&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new hr(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=Tb(e,n);i=(s?n?-3e8:-1:5e8)-1,r=(o?n?2e8:1:-6e8)+1}return new hr(e,i,r,n,e.widget||null,!0)}static line(e){return new pa(e)}static set(e,n=!1){return de.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}te.none=de.empty;class da extends te{constructor(e){let{start:n,end:i}=Tb(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,i;return this==e||e instanceof da&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Fg(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}da.prototype.point=!1;class pa extends te{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof pa&&this.spec.class==e.spec.class&&Fg(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}pa.prototype.mapMode=xt.TrackBefore;pa.prototype.point=!0;class hr extends te{constructor(e,n,i,r,s,o){super(n,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?n<=0?xt.TrackBefore:xt.TrackAfter:xt.TrackDel}get type(){return this.startSide!=this.endSide?kt.WidgetRange:this.startSide<=0?kt.WidgetBefore:kt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof hr&&HN(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}hr.prototype.point=!0;function Tb(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return n==null&&(n=t.inclusive),i==null&&(i=t.inclusive),{start:n??e,end:i??e}}function HN(t,e){return t==e||!!(t&&e&&t.compare(e))}function Fp(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}class hl{constructor(e,n,i,r){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ir&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new $e),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(qa(new lo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ir)&&this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(qa(new di(this.text.slice(this.textOff,this.textOff+r)),n),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,n,i,r){this.buildText(n-e,i,r),this.pos=n,this.openStart<0&&(this.openStart=r)}point(e,n,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof hr){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=n-e;if(i instanceof hr)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ir(i.widget||new Vv("div"),l,i));else{let a=zi.create(i.widget||new Vv("span"),l,l?0:i.startSide),u=this.atCursorPos&&!a.isEditable&&s<=r.length&&(e<n||i.startSide>0),c=!a.isEditable&&(e<n||s>r.length||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),u&&(h.append(qa(new lo(1),r),s),s=r.length+Math.max(0,s-r.length)),h.append(qa(a,r),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,i,r,s){let o=new hl(e,n,i,s);return o.openEnd=de.spans(r,n,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function qa(t,e){for(let n of e)t=new pi(n,[t],t.length);return t}class Vv extends wi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Ab=G.define(),Ib=G.define(),Ob=G.define(),Pb=G.define(),$p=G.define(),Db=G.define(),Rb=G.define(),Mb=G.define({combine:t=>t.some(e=>e)}),Nb=G.define({combine:t=>t.some(e=>e)});class qs{constructor(e,n="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=n,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new qs(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new qs(D.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ka=ie.define({map:(t,e)=>t.map(e)});function nn(t,e,n){let i=t.facet(Pb);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Oh=G.define({combine:t=>t.length?t[0]:!0});let WN=0;const Wo=G.define();class Le{constructor(e,n,i,r,s){this.id=e,this.create=n,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,n){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=n||{};return new Le(WN++,e,i,r,l=>{let a=[Wo.of(l)];return o&&a.push(jl.of(u=>{let c=u.plugin(l);return c?o(c):te.none})),s&&a.push(s(l)),a})}static fromClass(e,n){return Le.define(i=>new e(i),n)}}class Vf{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if(nn(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){nn(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){nn(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Lb=G.define(),$g=G.define(),jl=G.define(),jg=G.define(),Bb=G.define();function zv(t,e,n){let i=t.state.facet(Bb);if(!i.length)return i;let r=i.map(o=>o instanceof Function?o(t):o),s=[];return de.spans(r,e,n,{point(){},span(o,l,a,u){let c=s;for(let h=a.length-1;h>=0;h--,u--){let f=a[h].spec.bidiIsolate,d;if(f!=null)if(u>0&&c.length&&(d=c[c.length-1]).to==o&&d.direction==f)d.to=l,c=d.inner;else{let p={from:o,to:l,direction:f,inner:[]};c.push(p),c=p.inner}}}}),s}const Fb=G.define();function $b(t){let e=0,n=0,i=0,r=0;for(let s of t.state.facet(Fb)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:n,top:i,bottom:r}}const qo=G.define();class rn{constructor(e,n,i,r){this.fromA=e,this.toA=n,this.fromB=i,this.toB=r}join(e){return new rn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let r=e[n-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let r=0,s=0,o=0,l=0;;r++){let a=r==e.length?null:e[r],u=o-l,c=a?a.fromB:1e9;for(;s<n.length&&n[s]<c;){let h=n[s],f=n[s+1],d=Math.max(l,h),p=Math.min(c,f);if(d<=p&&new rn(d+u,p+u,d,p).addToSet(i),f>c)break;s+=2}if(!a)return i;new rn(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),o=a.toA,l=a.toB}}}class Lc{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ve.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,l,a)=>r.push(new rn(s,o,l,a))),this.changedRanges=r}static create(e,n,i){return new Lc(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Ae=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Ae||(Ae={}));const Vl=Ae.LTR,jb=Ae.RTL;function Vb(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const qN=Vb("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),KN=Vb("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),jp=Object.create(null),_n=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);jp[e]=n,jp[n]=-e}function GN(t){return t<=247?qN[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?KN[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const YN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ui{get dir(){return this.level%2?jb:Vl}constructor(e,n,i){this.from=e,this.to=n,this.level=i}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,i,r){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=n&&l.to>=n){if(l.level==i)return o;(s<0||(r!=0?r<0?l.from<n:l.to>n:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function zb(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!zb(i.inner,r.inner))return!1}return!0}const ye=[];function JN(t,e,n,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,l=s<i.length?i[s].from:n,a=s?256:r;for(let u=o,c=a,h=a;u<l;u++){let f=GN(t.charCodeAt(u));f==512?f=c:f==8&&h==4&&(f=16),ye[u]=f==4?2:f,f&7&&(h=f),c=f}for(let u=o,c=a,h=a;u<l;u++){let f=ye[u];if(f==128)u<l-1&&c==ye[u+1]&&c&24?f=ye[u]=c:ye[u]=256;else if(f==64){let d=u+1;for(;d<l&&ye[d]==64;)d++;let p=u&&c==8||d<n&&ye[d]==8?h==1?1:8:256;for(let y=u;y<d;y++)ye[y]=p;u=d-1}else f==8&&h==1&&(ye[u]=1);c=f,f&7&&(h=f)}}}function QN(t,e,n,i,r){let s=r==1?2:1;for(let o=0,l=0,a=0;o<=i.length;o++){let u=o?i[o-1].to:e,c=o<i.length?i[o].from:n;for(let h=u,f,d,p;h<c;h++)if(d=jp[f=t.charCodeAt(h)])if(d<0){for(let y=l-3;y>=0;y-=3)if(_n[y+1]==-d){let v=_n[y+2],m=v&2?r:v&4?v&1?s:r:0;m&&(ye[h]=ye[_n[y]]=m),l=y;break}}else{if(_n.length==189)break;_n[l++]=h,_n[l++]=f,_n[l++]=a}else if((p=ye[h])==2||p==1){let y=p==r;a=y?0:1;for(let v=l-3;v>=0;v-=3){let m=_n[v+2];if(m&2)break;if(y)_n[v+2]|=2;else{if(m&4)break;_n[v+2]|=4}}}}}function XN(t,e,n,i){for(let r=0,s=i;r<=n.length;r++){let o=r?n[r-1].to:t,l=r<n.length?n[r].from:e;for(let a=o;a<l;){let u=ye[a];if(u==256){let c=a+1;for(;;)if(c==l){if(r==n.length)break;c=n[r++].to,l=r<n.length?n[r].from:e}else if(ye[c]==256)c++;else break;let h=s==1,f=(c<e?ye[c]:i)==1,d=h==f?h?1:2:i;for(let p=c,y=r,v=y?n[y-1].to:t;p>a;)p==v&&(p=n[--y].from,v=y?n[y-1].to:t),ye[--p]=d;a=c}else s=u,a++}}}function Vp(t,e,n,i,r,s,o){let l=i%2?2:1;if(i%2==r%2)for(let a=e,u=0;a<n;){let c=!0,h=!1;if(u==s.length||a<s[u].from){let y=ye[a];y!=l&&(c=!1,h=y==16)}let f=!c&&l==1?[]:null,d=c?i:i+1,p=a;e:for(;;)if(u<s.length&&p==s[u].from){if(h)break e;let y=s[u];if(!c)for(let v=y.to,m=u+1;;){if(v==n)break e;if(m<s.length&&s[m].from==v)v=s[m++].to;else{if(ye[v]==l)break e;break}}if(u++,f)f.push(y);else{y.from>a&&o.push(new Ui(a,y.from,d));let v=y.direction==Vl!=!(d%2);zp(t,v?i+1:i,r,y.inner,y.from,y.to,o),a=y.to}p=y.to}else{if(p==n||(c?ye[p]!=l:ye[p]==l))break;p++}f?Vp(t,a,p,i+1,r,f,o):a<p&&o.push(new Ui(a,p,d)),a=p}else for(let a=n,u=s.length;a>e;){let c=!0,h=!1;if(!u||a>s[u-1].to){let y=ye[a-1];y!=l&&(c=!1,h=y==16)}let f=!c&&l==1?[]:null,d=c?i:i+1,p=a;e:for(;;)if(u&&p==s[u-1].to){if(h)break e;let y=s[--u];if(!c)for(let v=y.from,m=u;;){if(v==e)break e;if(m&&s[m-1].to==v)v=s[--m].from;else{if(ye[v-1]==l)break e;break}}if(f)f.push(y);else{y.to<a&&o.push(new Ui(y.to,a,d));let v=y.direction==Vl!=!(d%2);zp(t,v?i+1:i,r,y.inner,y.from,y.to,o),a=y.from}p=y.from}else{if(p==e||(c?ye[p-1]!=l:ye[p-1]==l))break;p--}f?Vp(t,p,a,i+1,r,f,o):p<a&&o.push(new Ui(p,a,d)),a=p}}function zp(t,e,n,i,r,s,o){let l=e%2?2:1;JN(t,r,s,i,l),QN(t,r,s,i,l),XN(r,s,i,l),Vp(t,r,s,e,n,i,o)}function ZN(t,e,n){if(!t)return[new Ui(0,0,e==jb?1:0)];if(e==Vl&&!n.length&&!YN.test(t))return Ub(t.length);if(n.length)for(;t.length>ye.length;)ye[ye.length]=256;let i=[],r=e==Vl?0:1;return zp(t,r,r,n,0,t.length,i),i}function Ub(t){return[new Ui(0,t,0)]}let Hb="";function eL(t,e,n,i,r){var s;let o=i.head-t.from,l=-1;if(o==0){if(!r||!t.length)return null;e[0].level!=n&&(o=e[0].side(!1,n),l=0)}else if(o==t.length){if(r)return null;let f=e[e.length-1];f.level!=n&&(o=f.side(!0,n),l=e.length-1)}l<0&&(l=Ui.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let a=e[l];o==a.side(r,n)&&(a=e[l+=r?1:-1],o=a.side(!r,n));let u=r==(a.dir==n),c=et(t.text,o,u);if(Hb=t.text.slice(Math.min(o,c),Math.max(o,c)),c!=a.side(r,n))return D.cursor(c+t.from,u?-1:1,a.level);let h=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!h&&a.level!=n?D.cursor(r?t.to:t.from,r?-1:1,n):h&&h.level<a.level?D.cursor(h.side(!r,n)+t.from,r?1:-1,h.level):D.cursor(c+t.from,r?-1:1,a.level)}class Uv extends be{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new $e],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new rn(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?r=this.domChanged.newSel.head:!lL(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?nL(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;i=new rn(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(J.ie||J.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),a=sL(o,l,e.changes);return i=rn.extendWithRanges(i,a),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=J.chrome||J.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof ir&&o.widget instanceof Hv&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,n,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=r.length-1;;o--){let l=o>=0?r[o]:null;if(!l)break;let{fromA:a,toA:u,fromB:c,toB:h}=l,f,d,p,y;if(i&&i.range.fromB<h&&i.range.toB>c){let x=hl.build(this.view.state.doc,c,i.range.fromB,this.decorations,this.dynamicDecorationMap),S=hl.build(this.view.state.doc,i.range.toB,h,this.decorations,this.dynamicDecorationMap);d=x.breakAtStart,p=x.openStart,y=S.openEnd;let E=this.compositionView(i);S.breakAtStart?E.breakAfter=1:S.content.length&&E.merge(E.length,E.length,S.content[0],!1,S.openStart,0)&&(E.breakAfter=S.content[0].breakAfter,S.content.shift()),x.content.length&&E.merge(0,0,x.content[x.content.length-1],!0,0,x.openEnd)&&x.content.pop(),f=x.content.concat(E).concat(S.content)}else({content:f,breakAtStart:d,openStart:p,openEnd:y}=hl.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:v,off:m}=s.findPos(u,1),{i:g,off:w}=s.findPos(a,-1);xb(this,g,w,v,m,f,d,p,y)}i&&this.fixCompositionDOM(i)}compositionView(e){let n=new di(e.text.nodeValue);n.flags|=8;for(let{deco:r}of e.marks)n=new pi(r,[n],n.length);let i=new $e;return i.append(n,0),i}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(a=>a.flags&7)?1:0),this.markedForComposition.add(o);let l=be.get(s);l&&l!=o&&(l.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];n(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],n(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&Mu(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(l.anchor)),u=l.empty?a:this.moveToLine(this.domAtPos(l.head));if(J.gecko&&l.empty&&!this.hasComposition&&tL(a)){let h=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(h,a.node.childNodes[a.offset]||null)),a=u=new ut(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||!Nc(a.node,a.offset,c.anchorNode,c.anchorOffset)||!Nc(u.node,u.offset,c.focusNode,c.focusOffset))&&(this.view.observer.ignore(()=>{J.android&&J.chrome&&this.dom.contains(c.focusNode)&&oL(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=Mc(this.view.root);if(h)if(l.empty){if(J.gecko){let f=iL(a.node,a.offset);if(f&&f!=3){let d=qb(a.node,a.offset,f==1?1:-1);d&&(a=new ut(d.node,d.offset))}}h.collapse(a.node,a.offset),l.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=l.bidiLevel)}else if(h.extend){h.collapse(a.node,a.offset);try{h.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();l.anchor>l.head&&([a,u]=[u,a]),f.setEnd(u.node,u.offset),f.setStart(a.node,a.offset),h.removeAllRanges(),h.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(a,u)),this.impreciseAnchor=a.precise?null:new ut(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new ut(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,i=Mc(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let o=$e.find(this,n.head);if(!o)return;let l=o.posAtStart;if(n.head==l||n.head==l+o.length)return;let a=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!a||!u||a.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);i.collapse(c.node,c.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&i.collapse(r,s)}moveToLine(e){let n=this.dom,i;if(e.node!=n)return e;for(let r=e.offset;!i&&r<n.childNodes.length;r++){let s=be.get(n.childNodes[r]);s instanceof $e&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=be.get(n.childNodes[r]);s instanceof $e&&(i=s.domAtPos(s.length))}return i?new ut(i.node,i.offset,!0):e}nearest(e){for(let n=e;n;){let i=be.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let r=this.children[n];if(i<r.length||r instanceof $e)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],a=s-l.breakAfter,u=a-l.length;if(a<e)break;u<=e&&(u<e||l.covers(-1))&&(a>e||l.covers(1))&&(!i||l instanceof $e&&!(i instanceof $e&&n>=0))&&(i=l,r=u),s=u}return i?i.coordsAt(e-r,n):null}coordsForChar(e){let{i:n,off:i}=this.childPos(e,1),r=this.children[n];if(!(r instanceof $e))return null;for(;r.children.length;){let{i:l,off:a}=r.childPos(i,1);for(;;l++){if(l==r.children.length)return null;if((r=r.children[l]).length)break}i=a}if(!(r instanceof di))return null;let s=et(r.text,i);if(s==i)return null;let o=ts(r.dom,i,s).getClientRects();for(let l=0;l<o.length;l++){let a=o[l];if(l==o.length-1||a.top<a.bottom&&a.left<a.right)return a}return null}measureVisibleLineHeights(e){let n=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==Ae.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(f>r)break;if(u>=i){let d=h.dom.getBoundingClientRect();if(n.push(d.height),o){let p=h.dom.lastChild,y=p?oo(p):[];if(y.length){let v=y[y.length-1],m=a?v.right-d.left:d.right-v.left;m>l&&(l=m,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Ae.RTL:Ae.LTR}measureTextSize(){for(let s of this.children)if(s instanceof $e){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=oo(e.firstChild)[0];n=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:i,textHeight:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new wb(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,r=0;;r++){let s=r==n.viewports.length?null:n.viewports[r],o=s?s.from-1:this.length;if(o>i){let l=(n.lineBlockAt(o).bottom-n.lineBlockAt(i).top)/this.view.scaleY;e.push(te.replace({widget:new Hv(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return te.set(e)}updateDeco(){let e=this.view.state.facet(jl).map((n,i)=>(this.dynamicDecorationMap[i]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),r;if(!i)return;!n.empty&&(r=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=$b(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;NN(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Ae.LTR)}}function tL(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class Hv extends wi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Wb(t,e){let n=t.observer.selectionRange,i=n.focusNode&&qb(n.focusNode,n.focusOffset,0);if(!i)return null;let r=e-i.offset;return{from:r,to:r+i.node.nodeValue.length,node:i.node}}function nL(t,e,n){let i=Wb(t,n);if(!i)return null;let{node:r,from:s,to:o}=i,l=r.nodeValue;if(/[\n\r]/.test(l)||t.state.doc.sliceString(i.from,i.to)!=l)return null;let a=e.invertedDesc,u=new rn(a.mapPos(s),a.mapPos(o),s,o),c=[];for(let h=r.parentNode;;h=h.parentNode){let f=be.get(h);if(f instanceof pi)c.push({node:h,deco:f.mark});else{if(f instanceof $e||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:u,text:r,marks:c,line:h};if(h!=t.contentDOM)c.push({node:h,deco:new da({inclusive:!0,attributes:UN(h),tagName:h.tagName.toLowerCase()})});else return null}}}function qb(t,e,n){if(n<=0)for(let i=t,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r>0)i=i.childNodes[r-1],r=fi(i);else break}if(n>=0)for(let i=t,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r<i.childNodes.length&&n>=0)i=i.childNodes[r],r=0;else break}return null}function iL(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let rL=class{constructor(){this.changes=[]}compareRange(e,n){Fp(e,n,this.changes)}comparePoint(e,n){Fp(e,n,this.changes)}};function sL(t,e,n){let i=new rL;return de.compare(t,e,n,i),i.changes}function oL(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function lL(t,e){let n=!1;return e&&t.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(n=!0)}),n}function aL(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(r.length==0)return D.cursor(e);s==0?n=1:s==r.length&&(n=-1);let o=s,l=s;n<0?o=et(r.text,s,!1):l=et(r.text,s);let a=i(r.text.slice(o,l));for(;o>0;){let u=et(r.text,o,!1);if(i(r.text.slice(u,o))!=a)break;o=u}for(;l<r.length;){let u=et(r.text,l);if(i(r.text.slice(l,u))!=a)break;l=u}return D.range(o+r.from,l+r.from)}function uL(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function cL(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function zf(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Wv(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function qv(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Up(t,e,n){let i,r,s,o,l=!1,a,u,c,h;for(let p=t.firstChild;p;p=p.nextSibling){let y=oo(p);for(let v=0;v<y.length;v++){let m=y[v];r&&zf(r,m)&&(m=Wv(qv(m,r.bottom),r.top));let g=uL(e,m),w=cL(n,m);if(g==0&&w==0)return p.nodeType==3?Kv(p,e,n):Up(p,e,n);if(!i||o>w||o==w&&s>g){i=p,r=m,s=g,o=w;let x=w?n<m.top?-1:1:g?e<m.left?-1:1:0;l=!x||(x>0?v<y.length-1:v>0)}g==0?n>m.bottom&&(!c||c.bottom<m.bottom)?(a=p,c=m):n<m.top&&(!h||h.top>m.top)&&(u=p,h=m):c&&zf(c,m)?c=qv(c,m.bottom):h&&zf(h,m)&&(h=Wv(h,m.top))}}if(c&&c.bottom>=n?(i=a,r=c):h&&h.top<=n&&(i=u,r=h),!i)return{node:t,offset:0};let f=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return Kv(i,f,n);if(l&&i.contentEditable!="false")return Up(i,f,n);let d=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:d}}function Kv(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let l=0;l<i;l++){let a=ts(t,l,l+1).getClientRects();for(let u=0;u<a.length;u++){let c=a[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let f=e>=(c.left+c.right)/2,d=f;if((J.chrome||J.gecko)&&ts(t,l).getBoundingClientRect().left==c.right&&(d=!f),h<=0)return{node:t,offset:l+(d?1:0)};r=l+(d?1:0),s=h}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function Kb(t,e,n,i=-1){var r,s;let o=t.contentDOM.getBoundingClientRect(),l=o.top+t.viewState.paddingTop,a,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-l;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let x=t.viewState.heightOracle.textHeight/2,S=!1;a=t.elementAtHeight(f),a.type!=kt.Text;)for(;f=i>0?a.bottom+x:a.top-x,!(f>=0&&f<=u);){if(S)return n?null:0;S=!0,i=-i}h=l+f;let d=a.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:Gv(t,o,a,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Gv(t,o,a,c,h);let p=t.dom.ownerDocument,y=t.root.elementFromPoint?t.root:p,v=y.elementFromPoint(c,h);v&&!t.contentDOM.contains(v)&&(v=null),v||(c=Math.max(o.left+1,Math.min(o.right-1,c)),v=y.elementFromPoint(c,h),v&&!t.contentDOM.contains(v)&&(v=null));let m,g=-1;if(v&&((r=t.docView.nearest(v))===null||r===void 0?void 0:r.isEditable)!=!1){if(p.caretPositionFromPoint){let x=p.caretPositionFromPoint(c,h);x&&({offsetNode:m,offset:g}=x)}else if(p.caretRangeFromPoint){let x=p.caretRangeFromPoint(c,h);x&&({startContainer:m,startOffset:g}=x,(!t.contentDOM.contains(m)||J.safari&&hL(m,g,c)||J.chrome&&fL(m,g,c))&&(m=void 0))}}if(!m||!t.docView.dom.contains(m)){let x=$e.find(t.docView,d);if(!x)return f>a.top+a.height/2?a.to:a.from;({node:m,offset:g}=Up(x.dom,c,h))}let w=t.docView.nearest(m);if(!w)return null;if(w.isWidget&&((s=w.dom)===null||s===void 0?void 0:s.nodeType)==1){let x=w.dom.getBoundingClientRect();return e.y<x.top||e.y<=x.bottom&&e.x<=(x.left+x.right)/2?w.posAtStart:w.posAtEnd}else return w.localPosFromDOM(m,g)+w.posAtStart}function Gv(t,e,n,i,r){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let l=t.viewState.heightOracle.textHeight,a=Math.floor((r-n.top-(t.defaultLineHeight-l)*.5)/l);s+=a*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Ip(o,s,t.state.tabSize)}function hL(t,e,n){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return ts(t,i-1,i).getBoundingClientRect().left>n}function fL(t,e,n){if(e!=0)return!1;for(let r=t;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=t.nodeType==1?t.getBoundingClientRect():ts(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function Hp(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==kt.Text))return i}return n}function dL(t,e,n,i){let r=Hp(t,e.head),s=!i||r.type!=kt.Text||!(t.lineWrapping||r.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),l=t.textDirectionAt(r.from),a=t.posAtCoords({x:n==(l==Ae.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(a!=null)return D.cursor(a,n?-1:1)}return D.cursor(n?r.to:r.from,n?-1:1)}function Yv(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let l=e,a=null;;){let u=eL(r,s,o,l,n),c=Hb;if(!u){if(r.number==(n?t.state.doc.lines:1))return l;c=`
`,r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),u=D.cursor(n?r.from:r.to)}if(a){if(!a(c))return l}else{if(!i)return u;a=i(c)}l=u}}function pL(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return s=>{let o=i(s);return r==_e.Space&&(r=o),r==o}}function mL(t,e,n,i){let r=e.head,s=n?1:-1;if(r==(n?t.state.doc.length:0))return D.cursor(r,e.assoc);let o=e.goalColumn,l,a=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(r,e.assoc||-1),c=t.documentTop;if(u)o==null&&(o=u.left-a.left),l=s<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(r);o==null&&(o=Math.min(a.right-a.left,t.defaultCharacterWidth*(r-d.from))),l=(s<0?d.top:d.bottom)+c}let h=a.left+o,f=i??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=l+(f+d)*s,y=Kb(t,{x:h,y:p},!1,s);if(p<a.top||p>a.bottom||(s<0?y<r:y>r)){let v=t.docView.coordsForChar(y),m=!v||p<v.top?-1:1;return D.cursor(y,m,void 0,o)}}}function Nu(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,(s,o,l)=>{if(e>s&&e<o){let a=i||n||(e-s<o-e?-1:1);e=a<0?s:o,i=a}});if(!i)return e}}function Uf(t,e,n){let i=Nu(t.state.facet(jg).map(r=>r(t)),n.from,e.head>n.from?-1:1);return i==n.from?n:D.cursor(i,i<n.from?1:-1)}class gL{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,J.safari&&e.contentDOM.addEventListener("input",()=>null),J.gecko&&DL(e.contentDOM.ownerDocument)}handleEvent(e){!CL(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,n);for(let r of i.handlers){if(n.defaultPrevented)break;if(r(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=yL(e),i=this.handlers,r=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,l=i[s];l&&o!=!l.handlers.length&&(r.removeEventListener(s,this.handleEvent),l=null),l||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!n[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&Yb.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),J.android&&J.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return J.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=Gb.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||vL.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Ws(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:J.safari&&!J.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Jv(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(r){nn(n.state,r)}}}function yL(t){let e=Object.create(null);function n(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of t){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&n(s).handlers.push(Jv(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&n(s).observers.push(Jv(i.value,o))}}for(let i in kn)n(i).handlers.push(kn[i]);for(let i in bn)n(i).observers.push(bn[i]);return e}const Gb=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],vL="dthko",Yb=[16,17,18,20,91,92,224,225],Ga=6;function Ya(t){return Math.max(0,t)*.7+8}function wL(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class xL{constructor(e,n,i,r){this.view=e,this.startEvent=n,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=LN(e.contentDOM),this.atoms=e.state.facet(jg).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(le.allowMultipleSelections)&&SL(e,n),this.dragging=bL(e,n)&&Zb(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&wL(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,r=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=$b(this.view);e.clientX-o.left<=s.left+Ga?i=-Ya(s.left-e.clientX):e.clientX+o.right>=s.right-Ga&&(i=Ya(e.clientX-s.right)),e.clientY-o.top<=s.top+Ga?r=-Ya(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-Ga&&(r=Ya(e.clientY-s.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=Nu(this.atoms,r.from,0);o!=r.from&&(s=D.cursor(o,-1))}else{let o=Nu(this.atoms,r.from,-1),l=Nu(this.atoms,r.to,1);(o!=r.from||l!=r.to)&&(s=D.range(r.from==r.anchor?o:l,r.from==r.head?o:l))}s&&(n||(n=e.ranges.slice()),n[i]=s)}return n?D.create(n,e.mainIndex):e}select(e){let{view:n}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(n.state.selection)||i.main.assoc!=n.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function SL(t,e){let n=t.state.facet(Ab);return n.length?n[0](e):J.mac?e.metaKey:e.ctrlKey}function kL(t,e){let n=t.state.facet(Ib);return n.length?n[0](e):J.mac?!e.altKey:!e.ctrlKey}function bL(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=Mc(t.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function CL(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=be.get(n))&&i.ignoreEvent(e))return!1;return!0}const kn=Object.create(null),bn=Object.create(null),Jb=J.ie&&J.ie_version<15||J.ios&&J.webkit_version<604;function EL(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),Qb(t,n.value)},50)}function Qb(t,e){let{state:n}=t,i,r=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(Wp!=null&&n.selection.ranges.every(a=>a.empty)&&Wp==s.toString()){let a=-1;i=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==a)return{range:u};a=c.from;let h=n.toText((o?s.line(r++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:h},range:D.cursor(u.from+h.length)}})}else o?i=n.changeByRange(a=>{let u=s.line(r++);return{changes:{from:a.from,to:a.to,insert:u.text},range:D.cursor(a.from+u.length)}}):i=n.replaceSelection(s);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}bn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};kn.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1);bn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};bn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};kn.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(Ob))if(n=i(t,e),n)break;if(!n&&e.button==0&&(n=AL(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new xL(t,e,n,i)),i&&t.observer.ignore(()=>gb(t.contentDOM));let r=t.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function Qv(t,e,n,i){if(i==1)return D.cursor(e,n);if(i==2)return aL(t.state,e,n);{let r=$e.find(t.docView,e),s=t.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,l=r?r.posAtEnd:s.to;return l<t.state.doc.length&&l==s.to&&l++,D.range(o,l)}}let Xb=(t,e)=>t>=e.top&&t<=e.bottom,Xv=(t,e,n)=>Xb(e,n)&&t>=n.left&&t<=n.right;function _L(t,e,n,i){let r=$e.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&Xv(n,i,o))return-1;let l=r.coordsAt(s,1);return l&&Xv(n,i,l)?1:o&&Xb(i,o)?-1:1}function Zv(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:_L(t,n,e.clientX,e.clientY)}}const TL=J.ie&&J.ie_version<=11;let e1=null,t1=0,n1=0;function Zb(t){if(!TL)return t.detail;let e=e1,n=n1;return e1=t,n1=Date.now(),t1=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(t1+1)%3:1}function AL(t,e){let n=Zv(t,e),i=Zb(e),r=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),r=r.map(s.changes))},get(s,o,l){let a=Zv(t,s),u,c=Qv(t,a.pos,a.bias,i);if(n.pos!=a.pos&&!o){let h=Qv(t,n.pos,n.bias,i),f=Math.min(h.from,c.from),d=Math.max(h.to,c.to);c=f<c.from?D.range(f,d):D.range(d,f)}return o?r.replaceRange(r.main.extend(c.from,c.to)):l&&i==1&&r.ranges.length>1&&(u=IL(r,a.pos))?u:l?r.addRange(c):D.create([c])}}}function IL(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:r}=t.ranges[n];if(i<=e&&r>=e)return D.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}kn.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=n.to||o<=n.from)&&(n=D.range(s,o))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1};kn.dragend=t=>(t.inputState.draggedContent=null,!1);function i1(t,e,n,i){if(!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=i&&s&&kL(t,e)?{from:s.from,to:s.to}:null,l={from:r,insert:n},a=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}kn.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,s=()=>{++r==n.length&&i1(t,e,i.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[o]=l.result),s()},l.readAsText(n[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return i1(t,e,i,!0),!0}return!1};kn.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Jb?null:e.clipboardData;return n?(Qb(t,n.getData("text/plain")||n.getData("text/uri-text")),!0):(EL(t),!1)};function OL(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function PL(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>r&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}let Wp=null;kn.copy=kn.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=PL(t.state);if(!n&&!r)return!1;Wp=r?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=Jb?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(OL(t,n),!1)};const eC=Kn.define();function tC(t,e){let n=[];for(let i of t.facet(Rb)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:eC.of(!0)}):null}function nC(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=tC(t.state,e);n?t.dispatch(n):t.update([])}},10)}bn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),nC(t)};bn.blur=t=>{t.observer.clearSelectionRange(),nC(t)};bn.compositionstart=bn.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};bn.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,J.chrome&&J.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};bn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};kn.beforeinput=(t,e)=>{var n;let i;if(J.chrome&&J.android&&(i=Gb.find(r=>r.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return!1};const r1=new Set;function DL(t){r1.has(t)||(r1.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const s1=["pre-wrap","normal","pre-line","break-spaces"];class RL{constructor(e){this.lineWrapping=e,this.doc=fe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return s1.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(n=!0,this.heightSamples[Math.floor(r*10)]=!0)}return n}refresh(e,n,i,r,s,o){let l=s1.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=i,this.textHeight=r,this.lineLength=s,a){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return a}}class ML{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Nn{constructor(e,n,i,r,s){this.from=e,this.length=n,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?kt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof hr?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Nn(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var ke=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(ke||(ke={}));const Lu=.001;class bt{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>Lu&&(e.heightChanged=!0),this.height=n)}replace(e,n,i){return bt.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,r){let s=this,o=i.doc;for(let l=r.length-1;l>=0;l--){let{fromA:a,toA:u,fromB:c,toB:h}=r[l],f=s.lineAt(a,ke.ByPosNoHeight,i.setDoc(n),0,0),d=f.to>=u?f:s.lineAt(u,ke.ByPosNoHeight,i,0,0);for(h+=d.to-u,u=d.to;l>0&&f.from<=r[l-1].toA;)a=r[l-1].fromA,c=r[l-1].fromB,l--,a<f.from&&(f=s.lineAt(a,ke.ByPosNoHeight,i,0,0));c+=f.from-a,a=f.from;let p=Vg.build(i.setDoc(o),e,c,h);s=s.replace(a,u,p)}return s.updateHeight(i,0)}static empty(){return new Ft(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,r=0,s=0;for(;;)if(n==i)if(r>s*2){let l=e[n-1];l.break?e.splice(--n,1,l.left,null,l.right):e.splice(--n,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(s>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,s-=l.size}else break;else if(r<s){let l=e[n++];l&&(r+=l.size)}else{let l=e[--i];l&&(s+=l.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,i++),new NL(bt.of(e.slice(0,n)),o,bt.of(e.slice(i)))}}bt.prototype.size=1;class iC extends bt{constructor(e,n,i){super(e,n),this.deco=i}blockAt(e,n,i,r){return new Nn(r,this.length,i,this.height,this.deco||0)}lineAt(e,n,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,n,i,r,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ft extends iC{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,i,r){return new Nn(r,this.length,i,this.height,this.breaks)}replace(e,n,i){let r=i[0];return i.length==1&&(r instanceof Ft||r instanceof Je&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Je?r=new Ft(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):bt.of(i)}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Je extends bt{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,r=e.doc.lineAt(n+this.length).number,s=r-i+1,o,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*s);o=a/s,this.length>s+1&&(l=(this.height-a)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:l}}blockAt(e,n,i,r){let{firstLine:s,lastLine:o,perLine:l,perChar:a}=this.heightMetrics(n,r);if(n.lineWrapping){let u=r+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),c=n.doc.lineAt(u),h=l+c.length*a,f=Math.max(i,e-h/2);return new Nn(c.from,c.length,f,h,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-i)/l))),{from:c,length:h}=n.doc.line(s+u);return new Nn(c,h,i+l*u,l,0)}}lineAt(e,n,i,r,s){if(n==ke.ByHeight)return this.blockAt(e,i,r,s);if(n==ke.ByPosNoHeight){let{from:d,to:p}=i.doc.lineAt(e);return new Nn(d,p-d,0,0,0)}let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(i,s),u=i.doc.lineAt(e),c=l+u.length*a,h=u.number-o,f=r+l*h+a*(u.from-s-h);return new Nn(u.from,u.length,Math.max(r,Math.min(f,r+this.height-c)),c,0)}forEachLine(e,n,i,r,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:l,perLine:a,perChar:u}=this.heightMetrics(i,s);for(let c=e,h=r;c<=n;){let f=i.doc.lineAt(c);if(c==e){let p=f.number-l;h+=a*p+u*(e-s-p)}let d=a+u*f.length;o(new Nn(f.from,f.length,h,d,0)),h+=d,c=f.to+1}}replace(e,n,i){let r=this.length-n;if(r>0){let s=i[i.length-1];s instanceof Je?i[i.length-1]=new Je(s.length+r):i.push(null,new Je(r-1))}if(e>0){let s=i[0];s instanceof Je?i[0]=new Je(e+s.length):i.unshift(new Je(e-1),null)}return bt.of(i)}decomposeLeft(e,n){n.push(new Je(e-1),null)}decomposeRight(e,n){n.push(null,new Je(this.length-e-1))}updateHeight(e,n=0,i=!1,r){let s=n+this.length;if(r&&r.from<=n+this.length&&r.more){let o=[],l=Math.max(n,r.from),a=-1;for(r.from>n&&o.push(new Je(r.from-n-1).updateHeight(e,n));l<=s&&r.more;){let c=e.doc.lineAt(l).length;o.length&&o.push(null);let h=r.heights[r.index++];a==-1?a=h:Math.abs(h-a)>=Lu&&(a=-2);let f=new Ft(c,h);f.outdated=!1,o.push(f),l+=c+1}l<=s&&o.push(null,new Je(s-l).updateHeight(e,l));let u=bt.of(o);return(a<0||Math.abs(u.height-this.height)>=Lu||Math.abs(a-this.heightMetrics(e,n).perLine)>=Lu)&&(e.heightChanged=!0),u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class NL extends bt{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,n,i,r):this.right.blockAt(e,n,s,r+this.left.length+this.break)}lineAt(e,n,i,r,s){let o=r+this.left.height,l=s+this.left.length+this.break,a=n==ke.ByHeight?e<o:e<l,u=a?this.left.lineAt(e,n,i,r,s):this.right.lineAt(e,n,i,o,l);if(this.break||(a?u.to<l:u.from>l))return u;let c=n==ke.ByPosNoHeight?ke.ByPosNoHeight:ke.ByPos;return a?u.join(this.right.lineAt(l,c,i,o,l)):this.left.lineAt(l,c,i,r,s).join(u)}forEachLine(e,n,i,r,s,o){let l=r+this.left.height,a=s+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,n,i,r,s,o),n>=a&&this.right.forEachLine(e,n,i,l,a,o);else{let u=this.lineAt(a,ke.ByPos,i,r,s);e<u.from&&this.left.forEachLine(e,u.from-1,i,r,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,i,l,a,o)}}replace(e,n,i){let r=this.left.length+this.break;if(n<r)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,n-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of i)s.push(l);if(e>0&&o1(s,o-1),n<this.length){let l=s.length;this.decomposeRight(n,s),o1(s,l)}return bt.of(s)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<r&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?bt.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,r){let{left:s,right:o}=this,l=n+s.length+this.break,a=null;return r&&r.from<=n+s.length&&r.more?a=s=s.updateHeight(e,n,i,r):s.updateHeight(e,n,i),r&&r.from<=l+o.length&&r.more?a=o=o.updateHeight(e,l,i,r):o.updateHeight(e,l,i),a?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function o1(t,e){let n,i;t[e]==null&&(n=t[e-1])instanceof Je&&(i=t[e+1])instanceof Je&&t.splice(e-1,3,new Je(n.length+1+i.length))}const LL=5;class Vg{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ft?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Ft(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=n-e;i.block?this.addBlock(new iC(o,r,i)):(o||s||r>=LL)&&this.addLineDeco(r,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ft(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new Je(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ft)return e;let n=new Ft(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=n,this.writtenTo=this.pos=this.pos+i}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Ft)&&!this.isCovered?this.nodes.push(new Ft(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Ft&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,n,i,r){let s=new Vg(i,e);return de.spans(n,i,r,s,0),s.finish(i)}}function BL(t,e,n){let i=new FL;return de.compare(t,e,n,i,0),i.changes}class FL{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,r){(e<n||i&&i.heightRelevant||r&&r.heightRelevant)&&Fp(e,n,this.changes,5)}}function $L(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,s=Math.max(0,n.left),o=Math.min(r.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(r.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=i.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let f=c.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),l=Math.max(l,f.top),a=u==t.parentNode?f.bottom:Math.min(a,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function jL(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Hf{constructor(e,n,i){this.from=e,this.to=n,this.size=i}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,n){return te.replace({widget:new VL(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class VL extends wi{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class l1{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=a1,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ae.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet($g).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new RL(n),this.stateDeco=e.facet(jl).filter(i=>typeof i!="function"),this.heightMap=bt.empty().applyChanges(this.stateDeco,fe.empty,this.heightOracle.setDoc(e.doc),[new rn(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=te.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let r=i?n.head:n.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new Ja(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?a1:new HL(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Ko(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(jl).filter(c=>typeof c!="function");let r=e.changedRanges,s=rn.extendWithRanges(r,BL(i,this.stateDeco,e?e.changes:Ve.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<a.from||n.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,n));let u=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Nb)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Ae.RTL:Ae.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=n.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,c=0;if(l.width&&l.height){let x=l.width/n.offsetWidth,S=l.height/n.offsetHeight;(x>.995&&x<1.005||!isFinite(x)||Math.abs(l.width-n.offsetWidth)<1)&&(x=1),(S>.995&&S<1.005||!isFinite(S)||Math.abs(l.height-n.offsetHeight)<1)&&(S=1),(this.scaleX!=x||this.scaleY!=S)&&(this.scaleX=x,this.scaleY=S,u|=8,o=a=!0)}let h=(parseInt(i.paddingTop)||0)*this.scaleY,f=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=vb(e.scrollDOM);let p=(this.printing?jL:$L)(n,this.paddingTop),y=p.top-this.pixelViewport.top,v=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let g=l.width;if((this.contentDOMWidth!=g||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),a){let x=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(x)&&(o=!0),o||r.lineWrapping&&Math.abs(g-this.contentDOMWidth)>r.charWidth){let{lineHeight:S,charWidth:E,textHeight:C}=e.docView.measureTextSize();o=S>0&&r.refresh(s,S,E,C,g/E,x),o&&(e.docView.minWidth=0,u|=8)}y>0&&v>0?c=Math.max(y,v):y<0&&v<0&&(c=Math.min(y,v)),r.heightChanged=!1;for(let S of this.viewports){let E=S.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(S);this.heightMap=(o?bt.empty().applyChanges(this.stateDeco,fe.empty,this.heightOracle,[new rn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new ML(S.from,E))}r.heightChanged&&(u|=2)}let w=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,a=new Ja(r.lineAt(o-i*1e3,ke.ByHeight,s,0,0).from,r.lineAt(l+(1-i)*1e3,ke.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<a.from||u>a.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(u,ke.ByPos,s,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<a.from?f=h.top:f=h.bottom-c,a=new Ja(r.lineAt(f-1e3/2,ke.ByHeight,s,0,0).from,r.lineAt(f+c+1e3/2,ke.ByHeight,s,0,0).to)}}return a}mapViewport(e,n){let i=n.mapPos(e.from,-1),r=n.mapPos(e.to,1);return new Ja(this.heightMap.lineAt(i,ke.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,ke.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,ke.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,ke.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||s>=l+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let r of e)n.touchesRange(r.from,r.to)||i.push(new Hf(n.mapPos(r.from),n.mapPos(r.to),r.size));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=Ae.LTR&&!i)return[];let l=[],a=(u,c,h,f)=>{if(c-u<s)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let v of p)if(v>u&&v<c){a(u,v-10,h,f),a(v+10,c,h,f);return}let y=UL(e,v=>v.from>=h.from&&v.to<=h.to&&Math.abs(v.from-u)<s&&Math.abs(v.to-c)<s&&!p.some(m=>v.from<m&&v.to>m));if(!y){if(c<h.to&&n&&i&&n.visibleRanges.some(v=>v.from<=c&&v.to>=c)){let v=n.moveToLineBoundary(D.cursor(c),!1,!0).head;v>u&&(c=v)}y=new Hf(u,c,this.gapSize(h,u,c,f))}l.push(y)};for(let u of this.viewportLines){if(u.length<o)continue;let c=zL(u.from,u.to,this.stateDeco);if(c.total<o)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(i){let p=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,v;if(h!=null){let m=Xa(c,h),g=((this.visibleBottom-this.visibleTop)/2+p)/u.height;y=m-g,v=m+g}else y=(this.visibleTop-u.top-p)/u.height,v=(this.visibleBottom-u.top+p)/u.height;f=Qa(c,y),d=Qa(c,v)}else{let p=c.total*this.heightOracle.charWidth,y=r*this.heightOracle.charWidth,v,m;if(h!=null){let g=Xa(c,h),w=((this.pixelViewport.right-this.pixelViewport.left)/2+y)/p;v=g-w,m=g+w}else v=(this.pixelViewport.left-y)/p,m=(this.pixelViewport.right+y)/p;f=Qa(c,v),d=Qa(c,m)}f>u.from&&a(u.from,f,u,c),d<u.to&&a(d,u.to,u,c)}return l}gapSize(e,n,i,r){let s=Xa(r,i)-Xa(r,n);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){Hf.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=te.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];de.spans(e,this.viewport.from,this.viewport.to,{span(r,s){n.push({from:r,to:s})},point(){}},20);let i=n.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=n[s].from||r.to!=n[s].to);return this.visibleRanges=n,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Ko(this.heightMap.lineAt(e,ke.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Ko(this.heightMap.lineAt(this.scaler.fromDOM(e),ke.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Ko(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ja{constructor(e,n){this.from=e,this.to=n}}function zL(t,e,n){let i=[],r=t,s=0;return de.spans(n,t,e,{span(){},point(o,l){o>r&&(i.push({from:r,to:o}),s+=o-r),r=l}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function Qa({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let r=0;;r++){let{from:s,to:o}=e[r],l=o-s;if(i<=l)return s+i;i-=l}}function Xa(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function UL(t,e){for(let n of t)if(e(n))return n}const a1={toDOM(t){return t},fromDOM(t){return t},scale:1};class HL{constructor(e,n,i){let r=0,s=0,o=0;this.viewports=i.map(({from:l,to:a})=>{let u=n.lineAt(l,ke.ByPos,e,0,0).top,c=n.lineAt(a,ke.ByPos,e,0,0).bottom;return r+=c-u,{from:l,to:a,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(n.height-r);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function Ko(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Nn(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map(r=>Ko(r,e)):t._content)}const Za=G.define({combine:t=>t.join(" ")}),qp=G.define({combine:t=>t.indexOf(!0)>-1}),Kp=ur.newName(),rC=ur.newName(),sC=ur.newName(),oC={"&light":"."+rC,"&dark":"."+sC};function Gp(t,e,n){return new ur(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return t;if(!n||!n[r])throw new RangeError(`Unsupported selector: ${r}`);return n[r]}):t+" "+i}})}const WL=Gp("."+Kp,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},oC),Go="";class qL{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(le.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Go}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==n)break;let l=be.get(r),a=be.get(o);(l&&a?l.breakAfter:(l?l.breakAfter:u1(r))||u1(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(l=r.exec(n))&&(s=l.index,o=l[0].length),this.append(n.slice(i,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let n=be.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(KL(e,i.node,i.offset)?n:0))}}function KL(t,e,n){for(;;){if(!e||n<fi(e))return!1;if(e==t)return!0;n=$l(e)+1,e=e.parentNode}}function u1(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class c1{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class GL{constructor(e,n,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let l=s||o?[]:QL(e),a=new qL(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=XL(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!Dp(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),u=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!Dp(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset);this.newSel=D.single(u,a)}}}function lC(t,e){let n,{newSel:i}=e,r=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,a=r.from,u=null;(s===8||J.android&&e.text.length<l-o)&&(a=r.to,u="end");let c=JL(t.state.doc.sliceString(o,l,Go),e.text,a-o,u);c&&(J.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Go+Go&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:fe.of(e.text.slice(c.from,c.toB).split(Go))})}else i&&(!t.hasFocus&&t.state.facet(Oh)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:(J.mac||J.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=D.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:fe.of([" "])}):J.chrome&&n&&n.from==n.to&&n.from==r.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=D.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:fe.of([" "])}),n){if(J.ios&&t.inputState.flushIOSKey()||J.android&&(n.from==r.from&&n.to==r.to&&n.insert.length==1&&n.insert.lines==2&&Ws(t.contentDOM,"Enter",13)||(n.from==r.from-1&&n.to==r.to&&n.insert.length==0||s==8&&n.insert.length<n.to-n.from&&n.to>r.head)&&Ws(t.contentDOM,"Backspace",8)||n.from==r.from&&n.to==r.to+1&&n.insert.length==0&&Ws(t.contentDOM,"Delete",46)))return!0;let o=n.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,a=()=>l||(l=YL(t,n,i));return t.state.facet(Db).some(u=>u(t,n.from,n.to,o,a))||t.dispatch(a()),!0}else if(i&&!i.main.eq(r)){let o=!1,l="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),l=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:o,userEvent:l}),!0}else return!1}function YL(t,e,n){let i,r=t.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=s.from<e.from?r.sliceDoc(s.from,e.from):"",a=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+a))}else{let l=r.changes(e),a=n&&n.main.to<=l.newLength?n.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=t.state.sliceDoc(e.from,e.to),c,h=n&&Wb(t,n.main.head);if(h){let p=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-p}}else c=t.state.doc.lineAt(s.head);let f=s.to-e.to,d=s.to-s.from;i=r.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:l,range:a||p.map(l)};let y=p.to-f,v=y-u.length;if(p.to-p.from!=d||t.state.sliceDoc(v,y)!=u||p.to>=c.from&&p.from<=c.to)return{range:p};let m=r.changes({from:v,to:y,insert:e.insert}),g=p.to-s.to;return{changes:m,range:a?D.range(Math.max(0,a.anchor+g),Math.max(0,a.head+g)):p.map(m)}})}else i={changes:l,selection:a&&r.selection.replaceRange(a)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function JL(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,l=e.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(i=="end"){let a=Math.max(0,s-Math.min(o,l));n-=o+a-s}if(o<s&&t.length<e.length){let a=n<=s&&n>=o?s-n:0;s-=a,l=s+(l-o),o=s}else if(l<s){let a=n<=s&&n>=l?s-n:0;s-=a,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function QL(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new c1(n,i)),(r!=n||s!=i)&&e.push(new c1(r,s))),e}function XL(t,e){if(t.length==0)return null;let n=t[0].pos,i=t.length==2?t[1].pos:n;return n>-1&&i>-1?D.single(n+e,i+e):null}const ZL={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Wf=J.ie&&J.ie_version<=11;class eB{constructor(e){this.view=e,this.active=!1,this.selectionRange=new BN,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(J.ie&&J.ie_version<=11||J.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Wf&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Oh)?i.root.activeElement!=this.dom:!Mu(i.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(J.ie&&J.ie_version<=11||J.android&&J.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Nc(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=J.safari&&e.root.nodeType==11&&RN(this.dom.ownerDocument)==this.dom&&tB(this.view)||Mc(e.root);if(!n||this.selectionRange.eq(n))return!1;let i=Mu(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&$N(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ZL),Wf&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Wf&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ws(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),n==-1?{from:n,to:i}=o:(n=Math.min(o.from,n),i=Math.max(o.to,i)))}return{from:n,to:i,typeOver:r}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Mu(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new GL(this.view,e,n,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let i=this.view.state,r=lC(this.view,n);return this.view.state==i&&this.view.update([]),r}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let i=h1(n,e.previousSibling||e.target.previousSibling,-1),r=h1(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:r?n.posBefore(r):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function h1(t,e,n){for(;e;){let i=be.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function tB(t){let e=null;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return Nc(l.node,l.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}class H{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(r=>n(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||FN(e.parent)||document,this.viewState=new l1(e.state||le.create(e)),e.scrollTo&&e.scrollTo.is(Ka)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Wo).map(i=>new Vf(i));for(let i of this.plugins)i.update(this);this.observer=new eB(this),this.inputState=new gL(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Uv(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let n=e.length==1&&e[0]instanceof Ue?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,r,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,l=0,a=null;e.some(f=>f.annotation(eC))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=tC(s,o),a||(l=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(le.phrases)!=this.state.facet(le.phrases))return this.setState(s);r=Lc.create(this,s,e),r.flags|=l;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new qs(d.empty?d:D.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(Ka)&&(h=d.value.clip(this.state))}this.viewState.update(r,h),this.bidiCache=Bc.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),n=this.docView.update(r),this.state.facet(qo)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Za)!=r.state.facet(Za)&&(this.viewState.mustMeasureContent=!0),(n||i||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let f of this.state.facet($p))try{f(r)}catch(d){nn(this.state,d,"update listener")}(a||c)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),c&&!lC(this,c)&&u.force&&Ws(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new l1(e),this.plugins=e.facet(Wo).map(i=>new Vf(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Uv(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Wo),i=e.state.facet(Wo);if(n!=i){let r=[];for(let s of i){let o=n.indexOf(s);if(o<0)r.push(new Vf(s));else{let l=this.plugins[o];l.mustUpdate=e,r.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);n!=i&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(vb(i))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(r);s=d.from,o=d.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];a&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(d=>{try{return d.read(this)}catch(p){return nn(this.state,p),f1}}),h=Lc.create(this,this.state,[]),f=!1;h.flags|=a,n?n.flags|=a:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h));for(let d=0;d<u.length;d++)if(c[d]!=f1)try{let p=u[d];p.write&&p.write(c[d],this)}catch(p){nn(this.state,p)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){r=r+p,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet($p))l(n)}get themeClasses(){return Kp+" "+(this.state.facet(qp)?sC:rC)+" "+this.state.facet(Za)}updateAttrs(){let e=d1(this,Lb,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Oh)?"true":"false",class:"cm-content",style:`${J.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),d1(this,$g,n);let i=this.observer.ignore(()=>{let r=Bp(this.contentDOM,this.contentAttrs,n),s=Bp(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let r of i.effects)if(r.is(H.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(qo);let e=this.state.facet(H.cspNonce);ur.mount(this.root,this.styleModules.concat(WL).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return Uf(this,e,Yv(this,e,n,i))}moveByGroup(e,n){return Uf(this,e,Yv(this,e,n,i=>pL(this,e.head,i)))}moveToLineBoundary(e,n,i=!0){return dL(this,e,n,i)}moveVertically(e,n,i){return Uf(this,e,mL(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),Kb(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[Ui.find(s,e-r.from,-1,n)];return Ah(i,o.dir==Ae.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Mb)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>nB)return Ub(e.length);let n=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||zb(s.isolates,i=zv(this,e.from,e.to))))return s.order;i||(i=zv(this,e.from,e.to));let r=ZN(e.text,n,i);return this.bidiCache.push(new Bc(e.from,e.to,n,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||J.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{gb(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Ka.of(new qs(typeof e=="number"?D.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Ka.of(new qs(D.cursor(i.from),"start","start",i.top-e,n,!0))}static domEventHandlers(e){return Le.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Le.define(()=>({}),{eventObservers:e})}static theme(e,n){let i=ur.newName(),r=[Za.of(i),qo.of(Gp(`.${i}`,e))];return n&&n.dark&&r.push(qp.of(!0)),r}static baseTheme(e){return vo.lowest(qo.of(Gp("."+Kp,e,oC)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),r=i&&be.get(i)||be.get(e);return((n=r==null?void 0:r.rootView)===null||n===void 0?void 0:n.view)||null}}H.styleModule=qo;H.inputHandler=Db;H.focusChangeEffect=Rb;H.perLineTextDirection=Mb;H.exceptionSink=Pb;H.updateListener=$p;H.editable=Oh;H.mouseSelectionStyle=Ob;H.dragMovesSelection=Ib;H.clickAddsSelectionRange=Ab;H.decorations=jl;H.atomicRanges=jg;H.bidiIsolatedRanges=Bb;H.scrollMargins=Fb;H.darkTheme=qp;H.cspNonce=G.define({combine:t=>t.length?t[0]:""});H.contentAttributes=$g;H.editorAttributes=Lb;H.lineWrapping=H.contentAttributes.of({class:"cm-lineWrapping"});H.announce=ie.define();const nB=4096,f1={};class Bc{constructor(e,n,i,r,s,o){this.from=e,this.to=n,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:Ae.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!n.touchesRange(o.from,o.to)&&i.push(new Bc(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function d1(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(t):s;o&&Lp(o,n)}return n}const iB=J.mac?"mac":J.windows?"win":J.linux?"linux":"key";function rB(t,e){const n=t.split(/-(?!$)/);let i=n[n.length-1];i=="Space"&&(i=" ");let r,s,o,l;for(let a=0;a<n.length-1;++a){const u=n[a];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),l&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function eu(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const sB=vo.default(H.domEventHandlers({keydown(t,e){return uC(aC(e.state),t,e,"editor")}})),Ph=G.define({enables:sB}),p1=new WeakMap;function aC(t){let e=t.facet(Ph),n=p1.get(e);return n||p1.set(e,n=aB(e.reduce((i,r)=>i.concat(r),[]))),n}function oB(t,e,n){return uC(aC(t.state),e,t,n)}let Ni=null;const lB=4e3;function aB(t,e=iB){let n=Object.create(null),i=Object.create(null),r=(o,l)=>{let a=i[o];if(a==null)i[o]=l;else if(a!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,a,u,c)=>{var h,f;let d=n[o]||(n[o]=Object.create(null)),p=l.split(/ (?!$)/).map(m=>rB(m,e));for(let m=1;m<p.length;m++){let g=p.slice(0,m).join(" ");r(g,!0),d[g]||(d[g]={preventDefault:!0,stopPropagation:!1,run:[w=>{let x=Ni={view:w,prefix:g,scope:o};return setTimeout(()=>{Ni==x&&(Ni=null)},lB),!0}]})}let y=p.join(" ");r(y,!1);let v=d[y]||(d[y]={preventDefault:!1,stopPropagation:!1,run:((f=(h=d._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});a&&v.run.push(a),u&&(v.preventDefault=!0),c&&(v.stopPropagation=!0)};for(let o of t){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of l){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let h in c)c[h].run.push(o.any)}let a=o[e]||o.key;if(a)for(let u of l)s(u,a,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+a,o.shift,o.preventDefault,o.stopPropagation)}return n}function uC(t,e,n,i){let r=DN(e),s=Qe(r,0),o=Xt(s)==r.length&&r!=" ",l="",a=!1,u=!1,c=!1;Ni&&Ni.view==n&&Ni.scope==i&&(l=Ni.prefix+" ",Yb.indexOf(e.keyCode)<0&&(u=!0,Ni=null));let h=new Set,f=v=>{if(v){for(let m of v.run)if(!h.has(m)&&(h.add(m),m(n,e)))return v.stopPropagation&&(c=!0),!0;v.preventDefault&&(v.stopPropagation&&(c=!0),u=!0)}return!1},d=t[i],p,y;return d&&(f(d[l+eu(r,e,!o)])?a=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(J.windows&&e.ctrlKey&&e.altKey)&&(p=cr[e.keyCode])&&p!=r?(f(d[l+eu(p,e,!0)])||e.shiftKey&&(y=Fl[e.keyCode])!=r&&y!=p&&f(d[l+eu(y,e,!1)]))&&(a=!0):o&&e.shiftKey&&f(d[l+eu(r,e,!0)])&&(a=!0),!a&&f(d._any)&&(a=!0)),u&&(a=!0),a&&c&&e.stopPropagation(),a}class ma{constructor(e,n,i,r,s){this.className=e,this.left=n,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=cC(e);return[new ma(n,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return uB(e,n,i)}}function cC(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Ae.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function m1(t,e,n){let i=D.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(i,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(i,!0,!0).from),type:kt.Text}}function uB(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let i=Math.max(n.from,t.viewport.from),r=Math.min(n.to,t.viewport.to),s=t.textDirection==Ae.LTR,o=t.contentDOM,l=o.getBoundingClientRect(),a=cC(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=l.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=l.right-(c?parseInt(c.paddingRight):0),d=Hp(t,i),p=Hp(t,r),y=d.type==kt.Text?d:null,v=p.type==kt.Text?p:null;if(y&&(t.lineWrapping||d.widgetLineBreaks)&&(y=m1(t,i,y)),v&&(t.lineWrapping||p.widgetLineBreaks)&&(v=m1(t,r,v)),y&&v&&y.from==v.from)return g(w(n.from,n.to,y));{let S=y?w(n.from,null,y):x(d,!1),E=v?w(null,n.to,v):x(p,!0),C=[];return(y||d).to<(v||p).from-(y&&v?1:0)||d.widgetLineBreaks>1&&S.bottom+t.defaultLineHeight/2<E.top?C.push(m(h,S.bottom,f,E.top)):S.bottom<E.top&&t.elementAtHeight((S.bottom+E.top)/2).type==kt.Text&&(S.bottom=E.top=(S.bottom+E.top)/2),g(S).concat(C).concat(g(E))}function m(S,E,C,T){return new ma(e,S-a.left,E-a.top-.01,C-S,T-E+.01)}function g({top:S,bottom:E,horizontal:C}){let T=[];for(let O=0;O<C.length;O+=2)T.push(m(C[O],S,C[O+1],E));return T}function w(S,E,C){let T=1e9,O=-1e9,P=[];function L(j,K,X,Z,N){let U=t.coordsAtPos(j,j==C.to?-2:2),q=t.coordsAtPos(X,X==C.from?2:-2);!U||!q||(T=Math.min(U.top,q.top,T),O=Math.max(U.bottom,q.bottom,O),N==Ae.LTR?P.push(s&&K?h:U.left,s&&Z?f:q.right):P.push(!s&&Z?h:q.left,!s&&K?f:U.right))}let M=S??C.from,F=E??C.to;for(let j of t.visibleRanges)if(j.to>M&&j.from<F)for(let K=Math.max(j.from,M),X=Math.min(j.to,F);;){let Z=t.state.doc.lineAt(K);for(let N of t.bidiSpans(Z)){let U=N.from+Z.from,q=N.to+Z.from;if(U>=X)break;q>K&&L(Math.max(U,K),S==null&&U<=M,Math.min(q,X),E==null&&q>=F,N.dir)}if(K=Z.to+1,K>=X)break}return P.length==0&&L(M,S==null,F,E==null,t.textDirection),{top:T,bottom:O,horizontal:P}}function x(S,E){let C=l.top+(E?S.top:S.bottom);return{top:C,bottom:C,horizontal:[]}}}function cB(t,e){return t.constructor==e.constructor&&t.eq(e)}class hB{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Bu)!=e.state.facet(Bu)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let n=0,i=e.facet(Bu);for(;n<i.length&&i[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,i)=>!cB(n,this.drawn[i]))){let n=this.dom.firstChild,i=0;for(let r of e)r.update&&n&&r.constructor&&this.drawn[i].constructor&&r.update(n,this.drawn[i])?(n=n.nextSibling,i++):this.dom.insertBefore(r.draw(),n);for(;n;){let r=n.nextSibling;n.remove(),n=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Bu=G.define();function hC(t){return[Le.define(e=>new hB(e,t)),Bu.of(t)]}const fC=!J.ios,zl=G.define({combine(t){return Gn(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function fB(t={}){return[zl.of(t),dB,pB,mB,Nb.of(!0)]}function dC(t){return t.startState.facet(zl)!=t.state.facet(zl)}const dB=hC({above:!0,markers(t){let{state:e}=t,n=e.facet(zl),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||fC:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=r.empty?r:D.cursor(r.head,r.head>r.anchor?-1:1);for(let a of ma.forRange(t,o,l))i.push(a)}}return i},update(t,e){t.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=dC(t);return n&&g1(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){g1(e.state,t)},class:"cm-cursorLayer"});function g1(t,e){e.style.animationDuration=t.facet(zl).cursorBlinkRate+"ms"}const pB=hC({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:ma.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||dC(t)},class:"cm-selectionLayer"}),Yp={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};fC&&(Yp[".cm-line"].caretColor="transparent !important",Yp[".cm-content"]={caretColor:"transparent !important"});const mB=vo.highest(H.theme(Yp)),pC=ie.define({map(t,e){return t==null?null:e.mapPos(t)}}),Yo=it.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,i)=>i.is(pC)?i.value:n,t)}}),gB=Le.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Yo);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Yo)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Yo),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let i=t.scrollDOM.getBoundingClientRect();return{left:n.left-i.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-i.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Yo)!=t&&this.view.dispatch({effects:pC.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function yB(){return[Yo,gB]}function y1(t,e,n,i,r){e.lastIndex=0;for(let s=t.iterRange(n,i),o=n,l;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)r(o+l.index,l)}function vB(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let i=[];for(let{from:r,to:s}of n)r=Math.max(t.state.doc.lineAt(r).from,r-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class wB{constructor(e){const{regexp:n,decoration:i,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,r)this.addMatch=(l,a,u,c)=>r(c,u,u+l[0].length,l,a);else if(typeof i=="function")this.addMatch=(l,a,u,c)=>{let h=i(l,a,u);h&&c(u,u+l[0].length,h)};else if(i)this.addMatch=(l,a,u,c)=>c(u,u+l[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new ar,i=n.add.bind(n);for(let{from:r,to:s}of vB(e,this.maxLength))y1(e.state.doc,this.regexp,r,s,(o,l)=>this.addMatch(l,e,o,i));return n.finish()}updateDeco(e,n){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,l,a)=>{a>e.view.viewport.from&&l<e.view.viewport.to&&(i=Math.min(l,i),r=Math.max(a,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,n.map(e.changes),i,r):n}updateRange(e,n,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),l=Math.min(s.to,r);if(l>o){let a=e.state.doc.lineAt(o),u=a.to<l?e.state.doc.lineAt(l):a,c=Math.max(s.from,a.from),h=Math.min(s.to,u.to);if(this.boundary){for(;o>a.from;o--)if(this.boundary.test(a.text[o-1-a.from])){c=o;break}for(;l<u.to;l++)if(this.boundary.test(u.text[l-u.from])){h=l;break}}let f=[],d,p=(y,v,m)=>f.push(m.range(y,v));if(a==u)for(this.regexp.lastIndex=c-a.from;(d=this.regexp.exec(a.text))&&d.index<h-a.from;)this.addMatch(d,e,d.index+a.from,p);else y1(e.state.doc,this.regexp,c,h,(y,v)=>this.addMatch(v,e,y,p));n=n.update({filterFrom:c,filterTo:h,filter:(y,v)=>y<c||v>h,add:f})}}return n}}const Jp=/x/.unicode!=null?"gu":"g",xB=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Jp),SB={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let qf=null;function kB(){var t;if(qf==null&&typeof document<"u"&&document.body){let e=document.body.style;qf=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return qf||!1}const Fu=G.define({combine(t){let e=Gn(t,{render:null,specialChars:xB,addSpecialChars:null});return(e.replaceTabs=!kB())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Jp)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Jp)),e}});function bB(t={}){return[Fu.of(t),CB()]}let v1=null;function CB(){return v1||(v1=Le.fromClass(class{constructor(t){this.view=t,this.decorations=te.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Fu)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new wB({regexp:t.specialChars,decoration:(e,n,i)=>{let{doc:r}=n.state,s=Qe(e[0],0);if(s==9){let o=r.lineAt(i),l=n.state.tabSize,a=wo(o.text,l,i-o.from);return te.replace({widget:new AB((l-a%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=te.replace({widget:new TB(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Fu);t.startState.facet(Fu)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const EB="";function _B(t){return t>=32?EB:t==10?"":String.fromCharCode(9216+t)}class TB extends wi{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=_B(this.code),i=e.state.phrase("Control character")+" "+(SB[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,n);if(r)return r;let s=document.createElement("span");return s.textContent=n,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class AB extends wi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function IB(){return PB}const OB=te.line({class:"cm-activeLine"}),PB=Le.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){let r=t.lineBlockAt(i.head);r.from>e&&(n.push(OB.range(r.from)),e=r.from)}return te.set(n)}},{decorations:t=>t.decorations});class DB extends wi{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?oo(e.firstChild):[];if(!n.length)return null;let i=window.getComputedStyle(e.parentNode),r=Ah(n[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function RB(t){return Le.fromClass(class{constructor(e){this.view=e,this.placeholder=t?te.set([te.widget({widget:new DB(t),side:1}).range(0)]):te.none}get decorations(){return this.view.state.doc.length?te.none:this.placeholder}},{decorations:e=>e.decorations})}const Qp=2e3;function MB(t,e,n){let i=Math.min(e.line,n.line),r=Math.max(e.line,n.line),s=[];if(e.off>Qp||n.off>Qp||e.col<0||n.col<0){let o=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let a=i;a<=r;a++){let u=t.doc.line(a);u.length<=l&&s.push(D.range(u.from+o,u.to+l))}}else{let o=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let a=i;a<=r;a++){let u=t.doc.line(a),c=Ip(u.text,o,t.tabSize,!0);if(c<0)s.push(D.cursor(u.to));else{let h=Ip(u.text,l,t.tabSize);s.push(D.range(u.from+c,u.from+h))}}}return s}function NB(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function w1(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(n),r=n-i.from,s=r>Qp?-1:r==i.length?NB(t,e.clientX):wo(i.text,t.state.tabSize,n-i.from);return{line:i.number,col:s,off:r}}function LB(t,e){let n=w1(t,e),i=t.state.selection;return n?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(n.line).from),o=r.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let l=w1(t,r);if(!l)return i;let a=MB(t.state,n,l);return a.length?o?D.create(a.concat(i.ranges)):D.create(a):i}}:null}function BB(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return H.mouseSelectionStyle.of((n,i)=>e(i)?LB(n,i):null)}const FB={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},$B={style:"cursor: crosshair"};function jB(t={}){let[e,n]=FB[t.key||"Alt"],i=Le.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||n(r))},keyup(r){(r.keyCode==e||!n(r))&&this.set(!1)},mousemove(r){this.set(n(r))}}});return[i,H.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?$B:null})]}const Ro="-10000px";class mC{constructor(e,n,i){this.facet=n,this.createTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e,n){var i;let r=e.state.facet(this.facet),s=r.filter(a=>a);if(r===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let o=[],l=n?[]:null;for(let a=0;a<s.length;a++){let u=s[a],c=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==u.create&&(c=h)}if(c<0)o[a]=this.createTooltipView(u),l&&(l[a]=!!u.above);else{let h=o[a]=this.tooltipViews[c];l&&(l[a]=n[c]),h.update&&h.update(e)}}}for(let a of this.tooltipViews)o.indexOf(a)<0&&(a.dom.remove(),(i=a.destroy)===null||i===void 0||i.call(a));return n&&(l.forEach((a,u)=>n[u]=a),n.length=l.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function VB(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Kf=G.define({combine:t=>{var e,n,i;return{position:J.ios?"absolute":((e=t.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(r=>r.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=t.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||VB}}}),x1=new WeakMap,zg=Le.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Kf);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new mC(t,Ug,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(Kf);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=Ro,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(J.gecko)i=r.offsetParent!=this.container.ownerDocument.body;else if(this.view.scaleX!=1||this.view.scaleY!=1)i=!0;else if(r.style.top==Ro&&r.style.left=="0px"){let s=r.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,n=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((r,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(Kf).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:i}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{editor:n,space:i,scaleX:r,scaleY:s}=t,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:c}=u,h=t.pos[l],f=t.size[l];if(!h||h.bottom<=Math.max(n.top,i.top)||h.top>=Math.min(n.bottom,i.bottom)||h.right<Math.max(n.left,i.left)-.1||h.left>Math.min(n.right,i.right)+.1){c.style.top=Ro;continue}let d=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,y=f.right-f.left,v=(e=x1.get(u))!==null&&e!==void 0?e:f.bottom-f.top,m=u.offset||UB,g=this.view.textDirection==Ae.LTR,w=f.width>i.right-i.left?g?i.left:i.right-f.width:g?Math.min(h.left-(d?14:0)+m.x,i.right-y):Math.max(i.left,h.left-y+(d?14:0)-m.x),x=this.above[l];!a.strictSide&&(x?h.top-(f.bottom-f.top)-m.y<i.top:h.bottom+(f.bottom-f.top)+m.y>i.bottom)&&x==i.bottom-h.bottom>h.top-i.top&&(x=this.above[l]=!x);let S=(x?h.top-i.top:i.bottom-h.bottom)-p;if(S<v&&u.resize!==!1){if(S<this.view.defaultLineHeight){c.style.top=Ro;continue}x1.set(u,v),c.style.height=(v=S)/s+"px"}else c.style.height&&(c.style.height="");let E=x?h.top-v-p-m.y:h.bottom+p+m.y,C=w+y;if(u.overlap!==!0)for(let T of o)T.left<C&&T.right>w&&T.top<E+v&&T.bottom>E&&(E=x?T.top-v-2-p:T.bottom+p+2);if(this.position=="absolute"?(c.style.top=(E-t.parent.top)/s+"px",c.style.left=(w-t.parent.left)/r+"px"):(c.style.top=E/s+"px",c.style.left=w/r+"px"),d){let T=h.left+(g?m.x:-m.x)-(w+14-7);d.style.left=T/r+"px"}u.overlap!==!0&&o.push({left:w,top:E,right:C,bottom:E+v}),c.classList.toggle("cm-tooltip-above",x),c.classList.toggle("cm-tooltip-below",!x),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Ro}},{eventObservers:{scroll(){this.maybeMeasure()}}}),zB=H.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),UB={x:0,y:0},Ug=G.define({enables:[zg,zB]}),Fc=G.define();class Dh{static create(e){return new Dh(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new mC(e,Fc,n=>this.createHostedView(n))}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const HB=Ug.compute([Fc],t=>{let e=t.facet(Fc).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var i;return(i=n.end)!==null&&i!==void 0?i:n.pos})),create:Dh.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class WB{constructor(e,n,i,r,s){this.view=e,this.source=n,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,i=e.docView.nearest(n.target);if(!i)return;let r,s=1;if(i instanceof zi)r=i.posAtStart;else{if(r=e.posAtCoords(n),r==null)return;let l=e.coordsAtPos(r);if(!l||n.y<l.top||n.y>l.bottom||n.x<l.left-e.defaultCharacterWidth||n.x>l.right+e.defaultCharacterWidth)return;let a=e.bidiSpans(e.state.doc.lineAt(r)).find(c=>c.from<=r&&c.to>=r),u=a&&a.dir==Ae.RTL?-1:1;s=n.x<l.left?-u:u}let o=this.source(e,r,s);if(o!=null&&o.then){let l=this.pending={pos:r};o.then(a=>{this.pending==l&&(this.pending=null,a&&e.dispatch({effects:this.setHover.of(a)}))},a=>nn(e.state,a,"hover tooltip"))}else o&&e.dispatch({effects:this.setHover.of(o)})}get tooltip(){let e=this.view.plugin(zg),n=e?e.manager.tooltips.findIndex(i=>i.create==Dh.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:r}=this;if(i&&r&&!qB(r.dom,e)||this.pending){let{pos:s}=i||this.pending,o=(n=i==null?void 0:i.end)!==null&&n!==void 0?n:s;(s==o?this.view.posAtCoords(this.lastMove)!=s:!KB(this.view,s,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let n=i=>{e.removeEventListener("mouseleave",n),this.active&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tu=4;function qB(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-tu&&e.clientX<=n.right+tu&&e.clientY>=n.top-tu&&e.clientY<=n.bottom+tu}function KB(t,e,n,i,r,s){let o=t.scrollDOM.getBoundingClientRect(),l=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>i||o.right<i||o.top>r||Math.min(o.bottom,l)<r)return!1;let a=t.posAtCoords({x:i,y:r},!1);return a>=e&&a<=n}function GB(t,e={}){let n=ie.define(),i=it.define({create(){return null},update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,xt.TrackDel);if(o==null)return null;let l=Object.assign(Object.create(null),r);l.pos=o,r.end!=null&&(l.end=s.changes.mapPos(r.end)),r=l}for(let o of s.effects)o.is(n)&&(r=o.value),o.is(YB)&&(r=null);return r},provide:r=>Fc.from(r)});return[i,Le.define(r=>new WB(r,t,i,n,e.hoverTime||300)),HB]}function gC(t,e){let n=t.plugin(zg);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const YB=ie.define(),S1=G.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Ul(t,e){let n=t.plugin(yC),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const yC=Le.fromClass(class{constructor(t){this.input=t.state.facet(Hl),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(S1);this.top=new nu(t,!0,e.topContainer),this.bottom=new nu(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(S1);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new nu(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new nu(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Hl);if(n!=this.input){let i=n.filter(a=>a),r=[],s=[],o=[],l=[];for(let a of i){let u=this.specs.indexOf(a),c;u<0?(c=a(t.view),l.push(c)):(c=this.panels[u],c.update&&c.update(t)),r.push(c),(c.top?s:o).push(c)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>H.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class nu{constructor(e,n,i){this.view=e,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=k1(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=k1(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function k1(t){let e=t.nextSibling;return t.remove(),e}const Hl=G.define({enables:yC});class mi extends es{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}mi.prototype.elementClass="";mi.prototype.toDOM=void 0;mi.prototype.mapMode=xt.TrackBefore;mi.prototype.startSide=mi.prototype.endSide=-1;mi.prototype.point=!0;const $u=G.define(),JB={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>de.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},fl=G.define();function QB(t){return[vC(),fl.of(Object.assign(Object.assign({},JB),t))]}const Xp=G.define({combine:t=>t.some(e=>e)});function vC(t){let e=[XB];return t&&t.fixed===!1&&e.push(Xp.of(!0)),e}const XB=Le.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(fl).map(e=>new C1(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Xp),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Xp)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=de.iter(this.view.state.facet($u),this.view.viewport.from),i=[],r=this.gutters.map(s=>new ZB(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let l of s.type)if(l.type==kt.Text&&o){Zp(n,i,l.from);for(let a of r)a.line(this.view,l,i);o=!1}else if(l.widget)for(let a of r)a.widget(this.view,l)}else if(s.type==kt.Text){Zp(n,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(fl),n=t.state.facet(fl),i=t.docChanged||t.heightChanged||t.viewportChanged||!de.eq(t.startState.facet($u),t.state.facet($u),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let r of this.gutters)r.update(t)&&(i=!0);else{i=!0;let r=[];for(let s of n){let o=e.indexOf(s);o<0?r.push(new C1(this.view,s)):(this.gutters[o].update(t),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>H.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Ae.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function b1(t){return Array.isArray(t)?t:[t]}function Zp(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class ZB{constructor(e,n,i){this.gutter=e,this.height=i,this.i=0,this.cursor=de.iter(e.markers,n.from)}addElement(e,n,i){let{gutter:r}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==r.elements.length){let l=new wC(e,o,s,i);r.elements.push(l),r.dom.appendChild(l.dom)}else r.elements[this.i].update(e,o,s,i);this.height=n.bottom,this.i++}line(e,n,i){let r=[];Zp(this.cursor,r,n.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,n,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,r)}widget(e,n){let i=this.gutter.config.widgetMarker(e,n.widget,n);i&&this.addElement(e,n,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class C1{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in n.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let a=s.getBoundingClientRect();o=(a.top+a.bottom)/2}else o=r.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[i](e,l,r)&&r.preventDefault()});this.markers=b1(n.markers(e)),n.initialSpacer&&(this.spacer=new wC(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=b1(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!de.eq(this.markers,n,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class wC{constructor(e,n,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,i,r)}update(e,n,i,r){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),eF(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,n){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let l=o,a=s<n.length?n[s++]:null,u=!1;if(a){let c=a.elementClass;c&&(i+=" "+c);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(a)){l=h,u=!0;break}}else l=this.markers.length;for(;o<l;){let c=this.markers[o++];if(c.toDOM){c.destroy(r);let h=r.nextSibling;r.remove(),r=h}}if(!a)break;a.toDOM&&(u?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),u&&o++}this.dom.className=i,this.markers=n}destroy(){this.setMarkers(null,[])}}function eF(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const tF=G.define(),Ds=G.define({combine(t){return Gn(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let i=Object.assign({},e);for(let r in n){let s=i[r],o=n[r];i[r]=s?(l,a,u)=>s(l,a,u)||o(l,a,u):o}return i}})}});class Gf extends mi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Yf(t,e){return t.state.facet(Ds).formatNumber(e,t.state)}const nF=fl.compute([Ds],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(tF)},lineMarker(e,n,i){return i.some(r=>r.toDOM)?null:new Gf(Yf(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Ds)!=e.state.facet(Ds),initialSpacer(e){return new Gf(Yf(e,E1(e.state.doc.lines)))},updateSpacer(e,n){let i=Yf(n.view,E1(n.view.state.doc.lines));return i==e.number?e:new Gf(i)},domEventHandlers:t.facet(Ds).domEventHandlers}));function iF(t={}){return[Ds.of(t),vC(),nF]}function E1(t){let e=9;for(;e<t;)e=e*10+9;return e}const rF=new class extends mi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},sF=$u.compute(["selection"],t=>{let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.head).from;r>n&&(n=r,e.push(rF.range(r)))}return de.of(e)});function oF(){return sF}const lF=1024;let aF=0;class Jf{constructor(e,n){this.from=e,this.to=n}}class ue{constructor(e={}){this.id=aF++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=an.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}}ue.closedBy=new ue({deserialize:t=>t.split(" ")});ue.openedBy=new ue({deserialize:t=>t.split(" ")});ue.group=new ue({deserialize:t=>t.split(" ")});ue.contextHash=new ue({perNode:!0});ue.lookAhead=new ue({perNode:!0});ue.mounted=new ue({perNode:!0});class $c{constructor(e,n,i){this.tree=e,this.overlay=n,this.parser=i}static get(e){return e&&e.props&&e.props[ue.mounted.id]}}const uF=Object.create(null);class an{constructor(e,n,i,r=0){this.name=e,this.props=n,this.id=i,this.flags=r}static define(e){let n=e.props&&e.props.length?Object.create(null):uF,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new an(e.name||"",n,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(ue.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let r of i.split(" "))n[r]=e[i];return i=>{for(let r=i.prop(ue.group),s=-1;s<(r?r.length:0);s++){let o=n[s<0?i.name:r[s]];if(o)return o}}}}an.none=new an("",Object.create(null),0,8);const iu=new WeakMap,_1=new WeakMap;var Ze;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Ze||(Ze={}));class ht{constructor(e,n,i,r,s){if(this.type=e,this.children=n,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=$c.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let r=i.toString();r&&(n&&(n+=","),n+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new tm(this.topNode,e)}cursorAt(e,n=0,i=0){let r=iu.get(this)||this.topNode,s=new tm(r);return s.moveTo(e,n),iu.set(this,s._tree),s}get topNode(){return new sn(this,0,0,null)}resolve(e,n=0){let i=Wl(iu.get(this)||this.topNode,e,n,!1);return iu.set(this,i),i}resolveInner(e,n=0){let i=Wl(_1.get(this)||this.topNode,e,n,!0);return _1.set(this,i),i}resolveStack(e,n=0){return fF(this,e,n)}iterate(e){let{enter:n,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,l=(o&Ze.IncludeAnonymous)>0;for(let a=this.cursor(o|Ze.IncludeAnonymous);;){let u=!1;if(a.from<=s&&a.to>=r&&(!l&&a.type.isAnonymous||n(a)!==!1)){if(a.firstChild())continue;u=!0}for(;u&&i&&(l||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:qg(an.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,r)=>new ht(this.type,n,i,r,this.propValues),e.makeTree||((n,i,r)=>new ht(an.none,n,i,r)))}static build(e){return dF(e)}}ht.empty=new ht(an.none,[],[],0);class Hg{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Hg(this.buffer,this.index)}}class fr{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return an.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],r=this.set.types[n],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,i,r,s){let{buffer:o}=this,l=-1;for(let a=e;a!=n&&!(xC(s,r,o[a+1],o[a+2])&&(l=a,i>0));a=o[a+3]);return l}slice(e,n,i){let r=this.buffer,s=new Uint16Array(n-e),o=0;for(let l=e,a=0;l<n;){s[a++]=r[l++],s[a++]=r[l++]-i;let u=s[a++]=r[l++]-i;s[a++]=r[l++]-e,o=Math.max(o,u)}return new fr(s,o,this.set)}}function xC(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function Wl(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!i&&t instanceof sn&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=i?0:Ze.IgnoreOverlays;if(i)for(let o=t,l=o.parent;l;o=l,l=o.parent)o instanceof sn&&o.index<0&&((r=l.enter(e,n,s))===null||r===void 0?void 0:r.from)!=o.from&&(t=l);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class SC{cursor(e=0){return new tm(this,e)}getChild(e,n=null,i=null){let r=T1(this,e,n,i);return r.length?r[0]:null}getChildren(e,n=null,i=null){return T1(this,e,n,i)}resolve(e,n=0){return Wl(this,e,n,!1)}resolveInner(e,n=0){return Wl(this,e,n,!0)}matchContext(e){return em(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),i=this;for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(i=n,n=r.prevSibling):n=r}return i}get node(){return this}get next(){return this.parent}}class sn extends SC{constructor(e,n,i,r){super(),this._tree=e,this.from=n,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,r,s=0){for(let o=this;;){for(let{children:l,positions:a}=o._tree,u=n>0?l.length:-1;e!=u;e+=n){let c=l[e],h=a[e]+o.from;if(xC(r,i,h,h+c.length)){if(c instanceof fr){if(s&Ze.ExcludeBuffers)continue;let f=c.findChild(0,c.buffer.length,n,i-h,r);if(f>-1)return new Hi(new cF(o,c,e,h),null,f)}else if(s&Ze.IncludeAnonymous||!c.type.isAnonymous||Wg(c)){let f;if(!(s&Ze.IgnoreMounts)&&(f=$c.get(c))&&!f.overlay)return new sn(f.tree,h,e,o);let d=new sn(c,h,e,o);return s&Ze.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?c.children.length-1:0,n,i,r)}}}if(s&Ze.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let r;if(!(i&Ze.IgnoreOverlays)&&(r=$c.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:l}of r.overlay)if((n>0?o<=s:o<s)&&(n<0?l>=s:l>s))return new sn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function T1(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(n!=null){for(;!r.type.is(n);)if(!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function em(t,e,n=e.length-1){for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class cF{constructor(e,n,i,r){this.parent=e,this.buffer=n,this.index=i,this.start=r}}class Hi extends SC{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){super(),this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.context.start,i);return s<0?null:new Hi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&Ze.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Hi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Hi(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Hi(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),n.push(0)}return new ht(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function kC(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let i=n instanceof sn&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new hF(r,n)}class hF{constructor(e,n){this.heads=e,this.node=n}get next(){return kC(this.heads)}}function fF(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof sn?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,n)),s=o}else{let o=$c.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new sn(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Wl(l,e,n,!1))}}return r?kC(r):i}class tm{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof sn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=n||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof sn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&Ze.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ze.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ze.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(n.findChild(r,this.index,-1,0,4))}else{let r=n.buffer[this.index+3];if(r<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:i}=r)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let s=n+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let l=i._tree.children[s];if(this.mode&Ze.IncludeAnonymous||l instanceof fr||!l.type.isAnonymous||Wg(l))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;n=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)n=new Hi(this.buffer,n,this.stack[r]);return this.bufferNode=new Hi(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&n&&n(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return em(this.node,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return em(this.node,e,r);let o=i[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Wg(t){return t.children.some(e=>e instanceof fr||!e.type.isAnonymous||Wg(e))}function dF(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=lF,reused:s=[],minRepeatType:o=i.types.length}=t,l=Array.isArray(n)?new Hg(n,n.length):n,a=i.types,u=0,c=0;function h(S,E,C,T,O,P){let{id:L,start:M,end:F,size:j}=l,K=c;for(;j<0;)if(l.next(),j==-1){let q=s[L];C.push(q),T.push(M-S);return}else if(j==-3){u=L;return}else if(j==-4){c=L;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=a[L],Z,N,U=M-S;if(F-M<=r&&(N=v(l.pos-E,O))){let q=new Uint16Array(N.size-N.skip),re=l.pos-N.size,ce=q.length;for(;l.pos>re;)ce=m(N.start,q,ce);Z=new fr(q,F-N.start,i),U=N.start-S}else{let q=l.pos-j;l.next();let re=[],ce=[],gt=L>=o?L:-1,rt=0,cn=F;for(;l.pos>q;)gt>=0&&l.id==gt&&l.size>=0?(l.end<=cn-r&&(p(re,ce,M,rt,l.end,cn,gt,K),rt=re.length,cn=l.end),l.next()):P>2500?f(M,q,re,ce):h(M,q,re,ce,gt,P+1);if(gt>=0&&rt>0&&rt<re.length&&p(re,ce,M,rt,M,cn,gt,K),re.reverse(),ce.reverse(),gt>-1&&rt>0){let Kt=d(X);Z=qg(X,re,ce,0,re.length,0,F-M,Kt,Kt)}else Z=y(X,re,ce,F-M,K-F)}C.push(Z),T.push(U)}function f(S,E,C,T){let O=[],P=0,L=-1;for(;l.pos>E;){let{id:M,start:F,end:j,size:K}=l;if(K>4)l.next();else{if(L>-1&&F<L)break;L<0&&(L=j-r),O.push(M,F,j),P++,l.next()}}if(P){let M=new Uint16Array(P*4),F=O[O.length-2];for(let j=O.length-3,K=0;j>=0;j-=3)M[K++]=O[j],M[K++]=O[j+1]-F,M[K++]=O[j+2]-F,M[K++]=K;C.push(new fr(M,O[2]-F,i)),T.push(F-S)}}function d(S){return(E,C,T)=>{let O=0,P=E.length-1,L,M;if(P>=0&&(L=E[P])instanceof ht){if(!P&&L.type==S&&L.length==T)return L;(M=L.prop(ue.lookAhead))&&(O=C[P]+L.length+M)}return y(S,E,C,T,O)}}function p(S,E,C,T,O,P,L,M){let F=[],j=[];for(;S.length>T;)F.push(S.pop()),j.push(E.pop()+C-O);S.push(y(i.types[L],F,j,P-O,M-P)),E.push(O-C)}function y(S,E,C,T,O=0,P){if(u){let L=[ue.contextHash,u];P=P?[L].concat(P):[L]}if(O>25){let L=[ue.lookAhead,O];P=P?[L].concat(P):[L]}return new ht(S,E,C,T,P)}function v(S,E){let C=l.fork(),T=0,O=0,P=0,L=C.end-r,M={size:0,start:0,skip:0};e:for(let F=C.pos-S;C.pos>F;){let j=C.size;if(C.id==E&&j>=0){M.size=T,M.start=O,M.skip=P,P+=4,T+=4,C.next();continue}let K=C.pos-j;if(j<0||K<F||C.start<L)break;let X=C.id>=o?4:0,Z=C.start;for(C.next();C.pos>K;){if(C.size<0)if(C.size==-3)X+=4;else break e;else C.id>=o&&(X+=4);C.next()}O=Z,T+=j,P+=X}return(E<0||T==S)&&(M.size=T,M.start=O,M.skip=P),M.size>4?M:void 0}function m(S,E,C){let{id:T,start:O,end:P,size:L}=l;if(l.next(),L>=0&&T<o){let M=C;if(L>4){let F=l.pos-(L-4);for(;l.pos>F;)C=m(S,E,C)}E[--C]=M,E[--C]=P-S,E[--C]=O-S,E[--C]=T}else L==-3?u=T:L==-4&&(c=T);return C}let g=[],w=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,g,w,-1,0);let x=(e=t.length)!==null&&e!==void 0?e:g.length?w[0]+g[0].length:0;return new ht(a[t.topID],g.reverse(),w.reverse(),x)}const A1=new WeakMap;function ju(t,e){if(!t.isAnonymous||e instanceof fr||e.type!=t)return 1;let n=A1.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof ht)){n=1;break}n+=ju(t,i)}A1.set(e,n)}return n}function qg(t,e,n,i,r,s,o,l,a){let u=0;for(let p=i;p<r;p++)u+=ju(t,e[p]);let c=Math.ceil(u*1.5/8),h=[],f=[];function d(p,y,v,m,g){for(let w=v;w<m;){let x=w,S=y[w],E=ju(t,p[w]);for(w++;w<m;w++){let C=ju(t,p[w]);if(E+C>=c)break;E+=C}if(w==x+1){if(E>c){let C=p[x];d(C.children,C.positions,0,C.children.length,y[x]+g);continue}h.push(p[x])}else{let C=y[w-1]+p[w-1].length-S;h.push(qg(t,p,y,x,w,S,C,null,a))}f.push(S+g-s)}}return d(e,n,i,r,0),(l||a)(h,f,o)}class Ur{constructor(e,n,i,r,s=!1,o=!1){this.from=e,this.to=n,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let r=[new Ur(0,e.length,e,0,!1,i)];for(let s of n)s.to>e.length&&r.push(s);return r}static applyChanges(e,n,i=128){if(!n.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let l=0,a=0,u=0;;l++){let c=l<n.length?n[l]:null,h=c?c.fromA:1e9;if(h-a>=i)for(;o&&o.from<h;){let f=o;if(a>=f.from||h<=f.to||u){let d=Math.max(f.from,a)-u,p=Math.min(f.to,h)-u;f=d>=p?null:new Ur(d,p,f.tree,f.offset+u,l>0,!!c)}if(f&&r.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;a=c.toA,u=c.toA-c.toB}return r}}class pF{startParse(e,n,i){return typeof e=="string"&&(e=new mF(e)),i=i?i.length?i.map(r=>new Jf(r.from,r.to)):[new Jf(0,0)]:[new Jf(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let r=this.startParse(e,n,i);for(;;){let s=r.advance();if(s)return s}}}class mF{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new ue({perNode:!0});let gF=0;class Dn{constructor(e,n,i){this.set=e,this.base=n,this.modified=i,this.id=gF++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Dn([],null,[]);if(n.set.push(n),e)for(let i of e.set)n.set.push(i);return n}static defineModifier(){let e=new jc;return n=>n.modified.indexOf(e)>-1?n:jc.get(n.base||n,n.modified.concat(e).sort((i,r)=>i.id-r.id))}}let yF=0;class jc{constructor(){this.instances=[],this.id=yF++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(l=>l.base==e&&vF(n,l.modified));if(i)return i;let r=[],s=new Dn(r,e,n);for(let l of n)l.instances.push(s);let o=wF(n);for(let l of e.set)if(!l.modified.length)for(let a of o)r.push(jc.get(l,a));return s}}function vF(t,e){return t.length==e.length&&t.every((n,i)=>n==e[i])}function wF(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort((n,i)=>i.length-n.length)}function xF(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let r of n.split(" "))if(r){let s=[],o=2,l=r;for(let h=0;;){if(l=="..."&&h>0&&h+3==r.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!f)throw new RangeError("Invalid path: "+r);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==r.length)break;let d=r[h++];if(h==r.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);l=r.slice(h)}let a=s.length-1,u=s[a];if(!u)throw new RangeError("Invalid path: "+r);let c=new Vc(i,o,a>0?s.slice(0,a):null);e[u]=c.sort(e[u])}}return bC.add(e)}const bC=new ue;class Vc{constructor(e,n,i,r){this.tags=e,this.mode=n,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Vc.empty=new Vc([],2,null);function CC(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let l of s)for(let a of l.set){let u=n[a.id];if(u){o=o?o+" "+u:u;break}}return o},scope:i}}function SF(t,e){let n=null;for(let i of t){let r=i.style(e);r&&(n=n?n+" "+r:r)}return n}function kF(t,e,n,i=0,r=t.length){let s=new bF(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}class bF{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,r,s){let{type:o,from:l,to:a}=e;if(l>=i||a<=n)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let u=r,c=CF(e)||Vc.empty,h=SF(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(r+=(r?" ":"")+h)),this.startSpan(Math.max(n,l),u),c.opaque)return;let f=e.tree&&e.tree.prop(ue.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+l,1),p=this.highlighters.filter(v=>!v.scope||v.scope(f.tree.type)),y=e.firstChild();for(let v=0,m=l;;v++){let g=v<f.overlay.length?f.overlay[v]:null,w=g?g.from+l:a,x=Math.max(n,m),S=Math.min(i,w);if(x<S&&y)for(;e.from<S&&(this.highlightRange(e,x,S,r,s),this.startSpan(Math.min(S,e.to),u),!(e.to>=w||!e.nextSibling())););if(!g||w>i)break;m=g.to+l,m>n&&(this.highlightRange(d.cursor(),Math.max(n,g.from+l),Math.min(i,m),"",p),this.startSpan(Math.min(i,m),u))}y&&e.parent()}else if(e.firstChild()){f&&(r="");do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,r,s),this.startSpan(Math.min(i,e.to),u)}while(e.nextSibling());e.parent()}}}function CF(t){let e=t.type.prop(bC);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const V=Dn.define,ru=V(),_i=V(),I1=V(_i),O1=V(_i),Ti=V(),su=V(Ti),Qf=V(Ti),In=V(),br=V(In),Tn=V(),An=V(),nm=V(),Mo=V(nm),ou=V(),I={comment:ru,lineComment:V(ru),blockComment:V(ru),docComment:V(ru),name:_i,variableName:V(_i),typeName:I1,tagName:V(I1),propertyName:O1,attributeName:V(O1),className:V(_i),labelName:V(_i),namespace:V(_i),macroName:V(_i),literal:Ti,string:su,docString:V(su),character:V(su),attributeValue:V(su),number:Qf,integer:V(Qf),float:V(Qf),bool:V(Ti),regexp:V(Ti),escape:V(Ti),color:V(Ti),url:V(Ti),keyword:Tn,self:V(Tn),null:V(Tn),atom:V(Tn),unit:V(Tn),modifier:V(Tn),operatorKeyword:V(Tn),controlKeyword:V(Tn),definitionKeyword:V(Tn),moduleKeyword:V(Tn),operator:An,derefOperator:V(An),arithmeticOperator:V(An),logicOperator:V(An),bitwiseOperator:V(An),compareOperator:V(An),updateOperator:V(An),definitionOperator:V(An),typeOperator:V(An),controlOperator:V(An),punctuation:nm,separator:V(nm),bracket:Mo,angleBracket:V(Mo),squareBracket:V(Mo),paren:V(Mo),brace:V(Mo),content:In,heading:br,heading1:V(br),heading2:V(br),heading3:V(br),heading4:V(br),heading5:V(br),heading6:V(br),contentSeparator:V(In),list:V(In),quote:V(In),emphasis:V(In),strong:V(In),link:V(In),monospace:V(In),strikethrough:V(In),inserted:V(),deleted:V(),changed:V(),invalid:V(),meta:ou,documentMeta:V(ou),annotation:V(ou),processingInstruction:V(ou),definition:Dn.defineModifier(),constant:Dn.defineModifier(),function:Dn.defineModifier(),standard:Dn.defineModifier(),local:Dn.defineModifier(),special:Dn.defineModifier()};CC([{tag:I.link,class:"tok-link"},{tag:I.heading,class:"tok-heading"},{tag:I.emphasis,class:"tok-emphasis"},{tag:I.strong,class:"tok-strong"},{tag:I.keyword,class:"tok-keyword"},{tag:I.atom,class:"tok-atom"},{tag:I.bool,class:"tok-bool"},{tag:I.url,class:"tok-url"},{tag:I.labelName,class:"tok-labelName"},{tag:I.inserted,class:"tok-inserted"},{tag:I.deleted,class:"tok-deleted"},{tag:I.literal,class:"tok-literal"},{tag:I.string,class:"tok-string"},{tag:I.number,class:"tok-number"},{tag:[I.regexp,I.escape,I.special(I.string)],class:"tok-string2"},{tag:I.variableName,class:"tok-variableName"},{tag:I.local(I.variableName),class:"tok-variableName tok-local"},{tag:I.definition(I.variableName),class:"tok-variableName tok-definition"},{tag:I.special(I.variableName),class:"tok-variableName2"},{tag:I.definition(I.propertyName),class:"tok-propertyName tok-definition"},{tag:I.typeName,class:"tok-typeName"},{tag:I.namespace,class:"tok-namespace"},{tag:I.className,class:"tok-className"},{tag:I.macroName,class:"tok-macroName"},{tag:I.propertyName,class:"tok-propertyName"},{tag:I.operator,class:"tok-operator"},{tag:I.comment,class:"tok-comment"},{tag:I.meta,class:"tok-meta"},{tag:I.invalid,class:"tok-invalid"},{tag:I.punctuation,class:"tok-punctuation"}]);var Xf;const Jo=new ue,EF=new ue;class Bn{constructor(e,n,i=[],r=""){this.data=e,this.name=r,le.prototype.hasOwnProperty("tree")||Object.defineProperty(le.prototype,"tree",{get(){return pt(this)}}),this.parser=n,this.extension=[dr.of(this),le.languageData.of((s,o,l)=>{let a=P1(s,o,l),u=a.type.prop(Jo);if(!u)return[];let c=s.facet(u),h=a.type.prop(EF);if(h){let f=a.resolve(o-a.from,l);for(let d of h)if(d.test(f,s)){let p=s.facet(d.facet);return d.type=="replace"?p:p.concat(c)}}return c})].concat(i)}isActiveAt(e,n,i=-1){return P1(e,n,i).type.prop(Jo)==this.data}findRegions(e){let n=e.facet(dr);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(Jo)==this.data){i.push({from:o,to:o+s.length});return}let l=s.prop(ue.mounted);if(l){if(l.tree.prop(Jo)==this.data){if(l.overlay)for(let a of l.overlay)i.push({from:a.from+o,to:a.to+o});else i.push({from:o,to:o+s.length});return}else if(l.overlay){let a=i.length;if(r(l.tree,l.overlay[0].from+o),i.length>a)return}}for(let a=0;a<s.children.length;a++){let u=s.children[a];u instanceof ht&&r(u,s.positions[a]+o)}};return r(pt(e),0),i}get allowsNesting(){return!0}}Bn.setState=ie.define();function P1(t,e,n){let i=t.facet(dr),r=pt(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,Ze.ExcludeBuffers))s.type.isTop&&(r=s);return r}function pt(t){let e=t.field(Bn.state,!1);return e?e.tree:ht.empty}class _F{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}}let No=null;class zc{constructor(e,n,i=[],r,s,o,l,a){this.parser=e,this.state=n,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new zc(e,n,[],ht.empty,0,i,[],null)}startParse(){return this.parser.startParse(new _F(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ht.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Ur.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Ur.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=No;No=this;try{return e()}finally{No=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=D1(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((u,c,h,f)=>a.push({fromA:u,toA:c,fromB:h,toB:f})),i=Ur.applyChanges(i,a),r=ht.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&l.push({from:c,to:h})}}}return new zc(this.parser,n,i,r,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=D1(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends pF{createParse(n,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let a=No;if(a){for(let u of r)a.tempSkipped.push(u);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=o,new ht(an.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return No}}function D1(t,e,n){return Ur.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class ao{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new ao(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=zc.create(e.facet(dr).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new ao(i)}}Bn.state=it.define({create:ao.init,update(t,e){for(let n of e.effects)if(n.is(Bn.setState))return n.value;return e.startState.facet(dr)!=e.state.facet(dr)?ao.init(e.state):t.apply(e)}});let EC=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(EC=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Zf=typeof navigator<"u"&&(!((Xf=navigator.scheduling)===null||Xf===void 0)&&Xf.isInputPending)?()=>navigator.scheduling.isInputPending():null,TF=Le.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Bn.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Bn.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=EC(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Bn.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Zf?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<r&&i.doc.length>r+1e3,a=s.context.work(()=>Zf&&Zf()||Date.now()>o,r+(l?0:1e5));this.chunkBudget-=Date.now()-n,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Bn.setState.of(new ao(s.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>nn(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),dr=G.define({combine(t){return t.length?t[0]:null},enables:t=>[Bn.state,TF,H.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]}),AF=G.define(),Rh=G.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Uc(t){let e=t.facet(Rh);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function ql(t,e){let n="",i=t.tabSize,r=t.facet(Rh)[0];if(r=="	"){for(;e>=i;)n+="	",e-=i;r=" "}for(let s=0;s<e;s++)n+=r;return n}function Kg(t,e){t instanceof le&&(t=new Mh(t));for(let i of t.state.facet(AF)){let r=i(t,e);if(r!==void 0)return r}let n=pt(t.state);return n.length>=e?OF(t,n,e):null}class Mh{constructor(e,n={}){this.state=e,this.options=n,this.unit=Uc(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(n<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,n);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,n=e.length){return wo(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const IF=new ue;function OF(t,e,n){let i=e.resolveStack(n),r=i.node.enterUnfinishedNodesBefore(n);if(r!=i.node){let s=[];for(let o=r;o!=i.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return _C(i,t,n)}function _C(t,e,n){for(let i=t;i;i=i.next){let r=DF(i.node);if(r)return r(Gg.create(e,n,i))}return 0}function PF(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function DF(t){let e=t.type.prop(IF);if(e)return e;let n=t.firstChild,i;if(n&&(i=n.type.prop(ue.closedBy))){let r=t.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>LF(o,!0,1,void 0,s&&!PF(o)?r.from:void 0)}return t.parent==null?RF:null}function RF(){return 0}class Gg extends Mh{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.context=i}get node(){return this.context.node}static create(e,n,i){return new Gg(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(n.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(MF(i,e))break;n=this.state.doc.lineAt(i.from)}return this.lineIndent(n.from)}continue(){return _C(this.context.next,this.base,this.pos)}}function MF(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function NF(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let l=n.to;;){let a=e.childAfter(l);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<o?n:null;l=a.to}}function LF(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=i&&s.slice(o,o+i.length)==i||r==t.pos+o,a=e?NF(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}const BF=200;function FF(){return le.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,r=n.lineAt(i);if(i>r.from+BF)return t;let s=n.sliceString(r.from,i);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,l=-1,a=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==l)continue;l=c.from;let h=Kg(o,c.from);if(h==null)continue;let f=/^\s*/.exec(c.text)[0],d=ql(o,h);f!=d&&a.push({from:c.from,to:c.from+f.length,insert:d})}return a.length?[t,{changes:a,sequential:!0}]:t})}const $F=G.define(),jF=new ue;function VF(t,e,n){let i=pt(t);if(i.length<n)return null;let r=i.resolveStack(n,1),s=null;for(let o=r;o;o=o.next){let l=o.node;if(l.to<=n||l.from>n)continue;if(s&&l.from<e)break;let a=l.type.prop(jF);if(a&&(l.to<i.length-50||i.length==t.doc.length||!zF(l))){let u=a(l,t);u&&u.from<=n&&u.from>=e&&u.to>n&&(s=u)}}return s}function zF(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Hc(t,e,n){for(let i of t.facet($F)){let r=i(t,e,n);if(r)return r}return VF(t,e,n)}function TC(t,e){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return n>=i?void 0:{from:n,to:i}}const Nh=ie.define({map:TC}),ga=ie.define({map:TC});function AC(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(i=>i.from<=n&&i.to>=n)||e.push(t.lineBlockAt(n));return e}const ns=it.define({create(){return te.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Nh)&&!UF(t,n.value.from,n.value.to)){let{preparePlaceholder:i}=e.state.facet(Yg),r=i?te.replace({widget:new JF(i(e.state,n.value))}):R1;t=t.update({add:[r.range(n.value.from,n.value.to)]})}else n.is(ga)&&(t=t.update({filter:(i,r)=>n.value.from!=i||n.value.to!=r,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:i}=e.selection.main;t.between(i,i,(r,s)=>{r<i&&s>i&&(n=!0)}),n&&(t=t.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return t},provide:t=>H.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(i,r)=>{n.push(i,r)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let i=t[n++],r=t[n++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(R1.range(i,r))}return te.set(e,!0)}});function Wc(t,e,n){var i;let r=null;return(i=t.field(ns,!1))===null||i===void 0||i.between(e,n,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function UF(t,e,n){let i=!1;return t.between(e,e,(r,s)=>{r==e&&s==n&&(i=!0)}),i}function IC(t,e){return t.field(ns,!1)?e:e.concat(ie.appendConfig.of(PC()))}const HF=t=>{for(let e of AC(t)){let n=Hc(t.state,e.from,e.to);if(n)return t.dispatch({effects:IC(t.state,[Nh.of(n),OC(t,n)])}),!0}return!1},WF=t=>{if(!t.state.field(ns,!1))return!1;let e=[];for(let n of AC(t)){let i=Wc(t.state,n.from,n.to);i&&e.push(ga.of(i),OC(t,i,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function OC(t,e,n=!0){let i=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return H.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${t.state.phrase("to")} ${r}.`)}const qF=t=>{let{state:e}=t,n=[];for(let i=0;i<e.doc.length;){let r=t.lineBlockAt(i),s=Hc(e,r.from,r.to);s&&n.push(Nh.of(s)),i=(s?t.lineBlockAt(s.to):r).to+1}return n.length&&t.dispatch({effects:IC(t.state,n)}),!!n.length},KF=t=>{let e=t.state.field(ns,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(i,r)=>{n.push(ga.of({from:i,to:r}))}),t.dispatch({effects:n}),!0},GF=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:HF},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:WF},{key:"Ctrl-Alt-[",run:qF},{key:"Ctrl-Alt-]",run:KF}],YF={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Yg=G.define({combine(t){return Gn(t,YF)}});function PC(t){let e=[ns,ZF];return t&&e.push(Yg.of(t)),e}function DC(t,e){let{state:n}=t,i=n.facet(Yg),r=o=>{let l=t.lineBlockAt(t.posAtDOM(o.target)),a=Wc(t.state,l.from,l.to);a&&t.dispatch({effects:ga.of(a)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(t,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const R1=te.replace({widget:new class extends wi{toDOM(t){return DC(t,null)}}});class JF extends wi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return DC(e,this.value)}}const QF={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ed extends mi{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function XF(t={}){let e=Object.assign(Object.assign({},QF),t),n=new ed(e,!0),i=new ed(e,!1),r=Le.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(dr)!=o.state.facet(dr)||o.startState.field(ns,!1)!=o.state.field(ns,!1)||pt(o.startState)!=pt(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new ar;for(let a of o.viewportLineBlocks){let u=Wc(o.state,a.from,a.to)?i:Hc(o.state,a.from,a.to)?n:null;u&&l.add(a.from,a.from,u)}return l.finish()}}),{domEventHandlers:s}=e;return[r,QB({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(r))===null||l===void 0?void 0:l.markers)||de.empty},initialSpacer(){return new ed(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,l,a)=>{if(s.click&&s.click(o,l,a))return!0;let u=Wc(o.state,l.from,l.to);if(u)return o.dispatch({effects:ga.of(u)}),!0;let c=Hc(o.state,l.from,l.to);return c?(o.dispatch({effects:Nh.of(c)}),!0):!1}})}),PC()]}const ZF=H.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class ya{constructor(e,n){this.specs=e;let i;function r(l){let a=ur.newName();return(i||(i=Object.create(null)))["."+a]=l,a}const s=typeof n.all=="string"?n.all:n.all?r(n.all):void 0,o=n.scope;this.scope=o instanceof Bn?l=>l.prop(Jo)==o.data:o?l=>l==o:void 0,this.style=CC(e.map(l=>({tag:l.tag,class:l.class||r(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=i?new ur(i):null,this.themeType=n.themeType}static define(e,n){return new ya(e,n||{})}}const im=G.define(),RC=G.define({combine(t){return t.length?[t[0]]:null}});function td(t){let e=t.facet(im);return e.length?e:t.facet(RC)}function MC(t,e){let n=[t3],i;return t instanceof ya&&(t.module&&n.push(H.styleModule.of(t.module)),i=t.themeType),e!=null&&e.fallback?n.push(RC.of(t)):i?n.push(im.computeN([H.darkTheme],r=>r.facet(H.darkTheme)==(i=="dark")?[t]:[])):n.push(im.of(t)),n}class e3{constructor(e){this.markCache=Object.create(null),this.tree=pt(e.state),this.decorations=this.buildDeco(e,td(e.state))}update(e){let n=pt(e.state),i=td(e.state),r=i!=td(e.startState);n.length<e.view.viewport.to&&!r&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||r)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,n){if(!n||!this.tree.length)return te.none;let i=new ar;for(let{from:r,to:s}of e.visibleRanges)kF(this.tree,n,(o,l,a)=>{i.add(o,l,this.markCache[a]||(this.markCache[a]=te.mark({class:a})))},r,s);return i.finish()}}const t3=vo.high(Le.fromClass(e3,{decorations:t=>t.decorations})),n3=ya.define([{tag:I.meta,color:"#404740"},{tag:I.link,textDecoration:"underline"},{tag:I.heading,textDecoration:"underline",fontWeight:"bold"},{tag:I.emphasis,fontStyle:"italic"},{tag:I.strong,fontWeight:"bold"},{tag:I.strikethrough,textDecoration:"line-through"},{tag:I.keyword,color:"#708"},{tag:[I.atom,I.bool,I.url,I.contentSeparator,I.labelName],color:"#219"},{tag:[I.literal,I.inserted],color:"#164"},{tag:[I.string,I.deleted],color:"#a11"},{tag:[I.regexp,I.escape,I.special(I.string)],color:"#e40"},{tag:I.definition(I.variableName),color:"#00f"},{tag:I.local(I.variableName),color:"#30a"},{tag:[I.typeName,I.namespace],color:"#085"},{tag:I.className,color:"#167"},{tag:[I.special(I.variableName),I.macroName],color:"#256"},{tag:I.definition(I.propertyName),color:"#00c"},{tag:I.comment,color:"#940"},{tag:I.invalid,color:"#f00"}]),i3=H.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),NC=1e4,LC="()[]{}",BC=G.define({combine(t){return Gn(t,{afterCursor:!0,brackets:LC,maxScanDistance:NC,renderMatch:o3})}}),r3=te.mark({class:"cm-matchingBracket"}),s3=te.mark({class:"cm-nonmatchingBracket"});function o3(t){let e=[],n=t.matched?r3:s3;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const l3=it.define({create(){return te.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(BC);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Fn(e.state,r.head,-1,i)||r.head>0&&Fn(e.state,r.head-1,1,i)||i.afterCursor&&(Fn(e.state,r.head,1,i)||r.head<e.state.doc.length&&Fn(e.state,r.head+1,-1,i));s&&(n=n.concat(i.renderMatch(s,e.state)))}return te.set(n,!0)},provide:t=>H.decorations.from(t)}),a3=[l3,i3];function u3(t={}){return[BC.of(t),a3]}const c3=new ue;function rm(t,e,n){let i=t.prop(e<0?ue.openedBy:ue.closedBy);if(i)return i;if(t.name.length==1){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function sm(t){let e=t.type.prop(c3);return e?e(t.node):t}function Fn(t,e,n,i={}){let r=i.maxScanDistance||NC,s=i.brackets||LC,o=pt(t),l=o.resolveInner(e,n);for(let a=l;a;a=a.parent){let u=rm(a.type,n,s);if(u&&a.from<a.to){let c=sm(a);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return h3(t,e,n,a,c,u,s)}}return f3(t,e,n,o,l.type,r,s)}function h3(t,e,n,i,r,s,o){let l=i.parent,a={from:r.from,to:r.to},u=0,c=l==null?void 0:l.cursor();if(c&&(n<0?c.childBefore(i.from):c.childAfter(i.to)))do if(n<0?c.to<=i.from:c.from>=i.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let h=sm(c);return{start:a,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(rm(c.type,n,o))u++;else if(rm(c.type,-n,o)){if(u==0){let h=sm(c);return{start:a,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function f3(t,e,n,i,r,s,o){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!c.next().done&&f<=s;){let d=c.value;n<0&&(f+=d.length);let p=e+f*n;for(let y=n>0?0:d.length-1,v=n>0?d.length:-1;y!=v;y+=n){let m=o.indexOf(d[y]);if(!(m<0||i.resolveInner(p+y,1).type!=r))if(m%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:p+y,to:p+y+1},matched:m>>1==a>>1};h--}}n>0&&(f+=d.length)}return c.done?{start:u,matched:!1}:null}const d3=Object.create(null),M1=[an.none],N1=[],L1=Object.create(null),p3=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])p3[t]=m3(d3,e);function nd(t,e){N1.indexOf(t)>-1||(N1.push(t),console.warn(e))}function m3(t,e){let n=[];for(let l of e.split(" ")){let a=[];for(let u of l.split(".")){let c=t[u]||I[u];c?typeof c=="function"?a.length?a=a.map(c):nd(u,`Modifier ${u} used at start of tag`):a.length?nd(u,`Tag ${u} used as modifier`):a=Array.isArray(c)?c:[c]:nd(u,`Unknown highlighting tag ${u}`)}for(let u of a)n.push(u)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map(l=>l.id),s=L1[r];if(s)return s.id;let o=L1[r]=an.define({id:M1.length,name:i,props:[xF({[i]:n})]});return M1.push(o),o.id}const g3=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=Qg(t.state,n.from);return i.line?y3(t):i.block?w3(t):!1};function Jg(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return r?(i(n.update(r)),!0):!1}}const y3=Jg(k3,0),v3=Jg(FC,0),w3=Jg((t,e)=>FC(t,e,S3(e)),0);function Qg(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Lo=50;function x3(t,{open:e,close:n},i,r){let s=t.sliceDoc(i-Lo,i),o=t.sliceDoc(r,r+Lo),l=/\s*$/.exec(s)[0].length,a=/^\s*/.exec(o)[0].length,u=s.length-l;if(s.slice(u-e.length,u)==e&&o.slice(a,a+n.length)==n)return{open:{pos:i-l,margin:l&&1},close:{pos:r+a,margin:a&&1}};let c,h;r-i<=2*Lo?c=h=t.sliceDoc(i,r):(c=t.sliceDoc(i,i+Lo),h=t.sliceDoc(r-Lo,r));let f=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-n.length;return c.slice(f,f+e.length)==e&&h.slice(p,p+n.length)==n?{open:{pos:i+f+e.length,margin:/\s/.test(c.charAt(f+e.length))?1:0},close:{pos:r-d-n.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function S3(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function FC(t,e,n=e.selection.ranges){let i=n.map(s=>Qg(e,s.from).block);if(!i.every(s=>s))return null;let r=n.map((s,o)=>x3(e,i[o],s.from,s.to));if(t!=2&&!r.every(s=>s))return{changes:e.changes(n.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(t!=1&&r.some(s=>s)){let s=[];for(let o=0,l;o<r.length;o++)if(l=r[o]){let a=i[o],{open:u,close:c}=l;s.push({from:u.pos-a.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+a.close.length})}return{changes:s}}return null}function k3(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of n){let l=i.length,a=1e9,u=Qg(e,s).line;if(u){for(let c=s;c<=o;){let h=e.doc.lineAt(c);if(h.from>r&&(s==o||o>h.from)){r=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,p=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<a&&(a=f),i.push({line:h,comment:p,token:u,indent:f,empty:d,single:!1})}c=h.to+1}if(a<1e9)for(let c=l;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=a);i.length==l+1&&(i[l].single=!0)}}if(t!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:a,indent:u,empty:c,single:h}of i)(h||!c)&&s.push({from:l.from+u,insert:a+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:a}of i)if(l>=0){let u=o.from+l,c=u+a.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const om=Kn.define(),b3=Kn.define(),C3=G.define(),$C=G.define({combine(t){return Gn(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(i,r)=>e(i,r)||n(i,r)})}}),jC=it.define({create(){return $n.empty},update(t,e){let n=e.state.facet($C),i=e.annotation(om);if(i){let a=Dt.fromTransaction(e,i.selection),u=i.side,c=u==0?t.undone:t.done;return a?c=qc(c,c.length,n.minDepth,a):c=UC(c,e.startState.selection),new $n(u==0?i.rest:c,u==0?c:i.rest)}let r=e.annotation(b3);if((r=="full"||r=="before")&&(t=t.isolate()),e.annotation(Ue.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Dt.fromTransaction(e),o=e.annotation(Ue.time),l=e.annotation(Ue.userEvent);return s?t=t.addChanges(s,o,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,l,n.newGroupDelay)),(r=="full"||r=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new $n(t.done.map(Dt.fromJSON),t.undone.map(Dt.fromJSON))}});function E3(t={}){return[jC,$C.of(t),H.domEventHandlers({beforeinput(e,n){let i=e.inputType=="historyUndo"?VC:e.inputType=="historyRedo"?lm:null;return i?(e.preventDefault(),i(n)):!1}})]}function Lh(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(jC,!1);if(!r)return!1;let s=r.pop(t,n,e);return s?(i(s),!0):!1}}const VC=Lh(0,!1),lm=Lh(1,!1),_3=Lh(0,!0),T3=Lh(1,!0);class Dt{constructor(e,n,i,r,s){this.changes=e,this.effects=n,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Dt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Dt(e.changes&&Ve.fromJSON(e.changes),[],e.mapped&&Hn.fromJSON(e.mapped),e.startSelection&&D.fromJSON(e.startSelection),e.selectionsAfter.map(D.fromJSON))}static fromTransaction(e,n){let i=en;for(let r of e.startState.facet(C3)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Dt(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,en)}static selection(e){return new Dt(void 0,en,void 0,void 0,e)}}function qc(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function A3(t,e){let n=[],i=!1;return t.iterChangedRanges((r,s)=>n.push(r,s)),e.iterChangedRanges((r,s,o,l)=>{for(let a=0;a<n.length;){let u=n[a++],c=n[a++];l>=u&&o<=c&&(i=!0)}}),i}function I3(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,i)=>n.empty!=e.ranges[i].empty).length===0}function zC(t,e){return t.length?e.length?t.concat(e):t:e}const en=[],O3=200;function UC(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-O3));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),qc(t,t.length-1,1e9,n.setSelAfter(i)))}else return[Dt.selection([e])]}function P3(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function id(t,e){if(!t.length)return t;let n=t.length,i=en;for(;n;){let r=D3(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=t.slice(0,n);return s[n-1]=r,s}else e=r.mapped,n--,i=r.selectionsAfter}return i.length?[Dt.selection(i)]:en}function D3(t,e,n){let i=zC(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):en,n);if(!t.changes)return Dt.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Dt(r,ie.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}const R3=/^(input\.type|delete)($|\.)/;class $n{constructor(e,n,i=0,r=void 0){this.done=e,this.undone=n,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new $n(this.done,this.undone):this}addChanges(e,n,i,r,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!i||R3.test(i))&&(!l.selectionsAfter.length&&n-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,A3(l.changes,e.changes))||i=="input.type.compose")?o=qc(o,o.length-1,r.minDepth,new Dt(e.changes.compose(l.changes),zC(e.effects,l.effects),l.mapped,l.startSelection,en)):o=qc(o,o.length,r.minDepth,e),new $n(o,en,n,i)}addSelection(e,n,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:en;return s.length>0&&n-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&I3(s[s.length-1],e)?this:new $n(UC(this.done,e),this.undone,n,i)}addMapping(e){return new $n(id(this.done,e),id(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],o=s.selectionsAfter[0]||n.selection;if(i&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:om.of({side:e,rest:P3(r),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=r.length==1?en:r.slice(0,r.length-1);return s.mapped&&(l=id(l,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:om.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}$n.empty=new $n(en,en);const M3=[{key:"Mod-z",run:VC,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:lm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:lm,preventDefault:!0},{key:"Mod-u",run:_3,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:T3,preventDefault:!0}];function xo(t,e){return D.create(t.ranges.map(e),t.mainIndex)}function Yn(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Cn({state:t,dispatch:e},n){let i=xo(t.selection,n);return i.eq(t.selection)?!1:(e(Yn(t,i)),!0)}function Bh(t,e){return D.cursor(e?t.to:t.from)}function HC(t,e){return Cn(t,n=>n.empty?t.moveByChar(n,e):Bh(n,e))}function mt(t){return t.textDirectionAt(t.state.selection.main.head)==Ae.LTR}const WC=t=>HC(t,!mt(t)),qC=t=>HC(t,mt(t));function KC(t,e){return Cn(t,n=>n.empty?t.moveByGroup(n,e):Bh(n,e))}const N3=t=>KC(t,!mt(t)),L3=t=>KC(t,mt(t));function B3(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Fh(t,e,n){let i=pt(t).resolveInner(e.head),r=n?ue.closedBy:ue.openedBy;for(let a=e.head;;){let u=n?i.childAfter(a):i.childBefore(a);if(!u)break;B3(t,u,r)?i=u:a=n?u.to:u.from}let s=i.type.prop(r),o,l;return s&&(o=n?Fn(t,i.from,1):Fn(t,i.to,-1))&&o.matched?l=n?o.end.to:o.end.from:l=n?i.to:i.from,D.cursor(l,n?-1:1)}const F3=t=>Cn(t,e=>Fh(t.state,e,!mt(t))),$3=t=>Cn(t,e=>Fh(t.state,e,mt(t)));function GC(t,e){return Cn(t,n=>{if(!n.empty)return Bh(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)})}const YC=t=>GC(t,!1),JC=t=>GC(t,!0);function QC(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,i=0,r;if(e){for(let s of t.state.facet(H.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}r=t.scrollDOM.clientHeight-n-i}else r=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,r-5)}}function XC(t,e){let n=QC(t),{state:i}=t,r=xo(i.selection,o=>o.empty?t.moveVertically(o,e,n.height):Bh(o,e));if(r.eq(i.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(i.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),a=l.top+n.marginTop,u=l.bottom-n.marginBottom;o&&o.top>a&&o.bottom<u&&(s=H.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-a}))}return t.dispatch(Yn(i,r),{effects:s}),!0}const B1=t=>XC(t,!1),am=t=>XC(t,!0);function Sr(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let s=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=D.cursor(i.from+s))}return r}const j3=t=>Cn(t,e=>Sr(t,e,!0)),V3=t=>Cn(t,e=>Sr(t,e,!1)),z3=t=>Cn(t,e=>Sr(t,e,!mt(t))),U3=t=>Cn(t,e=>Sr(t,e,mt(t))),H3=t=>Cn(t,e=>D.cursor(t.lineBlockAt(e.head).from,1)),W3=t=>Cn(t,e=>D.cursor(t.lineBlockAt(e.head).to,-1));function q3(t,e,n){let i=!1,r=xo(t.selection,s=>{let o=Fn(t,s.head,-1)||Fn(t,s.head,1)||s.head>0&&Fn(t,s.head-1,1)||s.head<t.doc.length&&Fn(t,s.head+1,-1);if(!o||!o.end)return s;i=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return n?D.range(s.anchor,l):D.cursor(l)});return i?(e(Yn(t,r)),!0):!1}const K3=({state:t,dispatch:e})=>q3(t,e,!1);function un(t,e){let n=xo(t.state.selection,i=>{let r=e(i);return D.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Yn(t.state,n)),!0)}function ZC(t,e){return un(t,n=>t.moveByChar(n,e))}const eE=t=>ZC(t,!mt(t)),tE=t=>ZC(t,mt(t));function nE(t,e){return un(t,n=>t.moveByGroup(n,e))}const G3=t=>nE(t,!mt(t)),Y3=t=>nE(t,mt(t)),J3=t=>un(t,e=>Fh(t.state,e,!mt(t))),Q3=t=>un(t,e=>Fh(t.state,e,mt(t)));function iE(t,e){return un(t,n=>t.moveVertically(n,e))}const rE=t=>iE(t,!1),sE=t=>iE(t,!0);function oE(t,e){return un(t,n=>t.moveVertically(n,e,QC(t).height))}const F1=t=>oE(t,!1),$1=t=>oE(t,!0),X3=t=>un(t,e=>Sr(t,e,!0)),Z3=t=>un(t,e=>Sr(t,e,!1)),e4=t=>un(t,e=>Sr(t,e,!mt(t))),t4=t=>un(t,e=>Sr(t,e,mt(t))),n4=t=>un(t,e=>D.cursor(t.lineBlockAt(e.head).from)),i4=t=>un(t,e=>D.cursor(t.lineBlockAt(e.head).to)),j1=({state:t,dispatch:e})=>(e(Yn(t,{anchor:0})),!0),V1=({state:t,dispatch:e})=>(e(Yn(t,{anchor:t.doc.length})),!0),z1=({state:t,dispatch:e})=>(e(Yn(t,{anchor:t.selection.main.anchor,head:0})),!0),U1=({state:t,dispatch:e})=>(e(Yn(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),r4=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),s4=({state:t,dispatch:e})=>{let n=$h(t).map(({from:i,to:r})=>D.range(i,Math.min(r+1,t.doc.length)));return e(t.update({selection:D.create(n),userEvent:"select"})),!0},o4=({state:t,dispatch:e})=>{let n=xo(t.selection,i=>{var r;let s=pt(t).resolveStack(i.from,1);for(let o=s;o;o=o.next){let{node:l}=o;if((l.from<i.from&&l.to>=i.to||l.to>i.to&&l.from<=i.from)&&(!((r=l.parent)===null||r===void 0)&&r.parent))return D.range(l.to,l.from)}return i});return e(Yn(t,n)),!0},l4=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=D.create([n.main]):n.main.empty||(i=D.create([D.cursor(n.main.head)])),i?(e(Yn(t,i)),!0):!1};function va(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let a=e(s);a<o?(n="delete.backward",a=lu(t,a,!1)):a>o&&(n="delete.forward",a=lu(t,a,!0)),o=Math.min(o,a),l=Math.max(l,a)}else o=lu(t,o,!1),l=lu(t,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:D.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?H.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function lu(t,e,n){if(t instanceof H)for(let i of t.state.facet(H.atomicRanges).map(r=>r(t)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=n?s:r)});return e}const lE=(t,e)=>va(t,n=>{let i=n.from,{state:r}=t,s=r.doc.lineAt(i),o,l;if(!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(o=s.text.slice(0,i-s.from))){if(o[o.length-1]=="	")return i-1;let a=wo(o,r.tabSize),u=a%Uc(r)||Uc(r);for(let c=0;c<u&&o[o.length-1-c]==" ";c++)i--;l=i}else l=et(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?r.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=et(s.text,l-s.from,!1,!1)+s.from);return l}),um=t=>lE(t,!1),aE=t=>lE(t,!0),uE=(t,e)=>va(t,n=>{let i=n.head,{state:r}=t,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let l=null;;){if(i==(e?s.to:s.from)){i==n.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let a=et(s.text,i-s.from,e)+s.from,u=s.text.slice(Math.min(i,a)-s.from,Math.max(i,a)-s.from),c=o(u);if(l!=null&&c!=l)break;(u!=" "||i!=n.head)&&(l=c),i=a}return i}),cE=t=>uE(t,!1),a4=t=>uE(t,!0),u4=t=>va(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),c4=t=>va(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),h4=t=>va(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),f4=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:fe.of(["",""])},range:D.cursor(i.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},d4=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let r=i.from,s=t.doc.lineAt(r),o=r==s.from?r-1:et(s.text,r-s.from,!1)+s.from,l=r==s.to?r+1:et(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:t.doc.slice(r,l).append(t.doc.slice(o,r))},range:D.cursor(l)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function $h(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=t.doc.lineAt(i.to-1)),n>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function hE(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let s of $h(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),l=o.length+1;if(n){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let a of s.ranges)r.push(D.range(Math.min(t.doc.length,a.anchor+l),Math.min(t.doc.length,a.head+l)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let a of s.ranges)r.push(D.range(a.anchor-l,a.head-l))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:D.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const p4=({state:t,dispatch:e})=>hE(t,e,!1),m4=({state:t,dispatch:e})=>hE(t,e,!0);function fE(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of $h(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const g4=({state:t,dispatch:e})=>fE(t,e,!1),y4=({state:t,dispatch:e})=>fE(t,e,!0),v4=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes($h(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=xo(e.selection,r=>t.moveVertically(r,!0)).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function w4(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=pt(t).resolveInner(e),i=n.childBefore(e),r=n.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(ue.closedBy))&&s.indexOf(r.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(r.from).from&&!/\S/.test(t.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const x4=dE(!1),S4=dE(!0);function dE(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,l=e.doc.lineAt(s),a=!t&&s==o&&w4(e,s);t&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let u=new Mh(e,{simulateBreak:s,simulateDoubleBreak:!!a}),c=Kg(u,s);for(c==null&&(c=wo(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;a?{from:s,to:o}=a:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let h=["",ql(e,c)];return a&&h.push(ql(e,u.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:fe.of(h)},range:D.cursor(s+1+h[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Xg(t,e){let n=-1;return t.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let l=t.doc.lineAt(o);l.number>n&&(i.empty||i.to>l.from)&&(e(l,r,i),n=l.number),o=l.to+1}let s=t.changes(r);return{changes:r,range:D.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const k4=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new Mh(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),r=Xg(t,(s,o,l)=>{let a=Kg(i,s.from);if(a==null)return;/\S/.test(s.text)||(a=0);let u=/^\s*/.exec(s.text)[0],c=ql(t,a);(u!=c||l.from<s.from+u.length)&&(n[s.from]=a,o.push({from:s.from,to:s.from+u.length,insert:c}))});return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},pE=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Xg(t,(n,i)=>{i.push({from:n.from,insert:t.facet(Rh)})}),{userEvent:"input.indent"})),!0),mE=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Xg(t,(n,i)=>{let r=/^\s*/.exec(n.text)[0];if(!r)return;let s=wo(r,t.tabSize),o=0,l=ql(t,Math.max(0,s-Uc(t)));for(;o<r.length&&o<l.length&&r.charCodeAt(o)==l.charCodeAt(o);)o++;i.push({from:n.from+o,to:n.from+r.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),b4=[{key:"Ctrl-b",run:WC,shift:eE,preventDefault:!0},{key:"Ctrl-f",run:qC,shift:tE},{key:"Ctrl-p",run:YC,shift:rE},{key:"Ctrl-n",run:JC,shift:sE},{key:"Ctrl-a",run:H3,shift:n4},{key:"Ctrl-e",run:W3,shift:i4},{key:"Ctrl-d",run:aE},{key:"Ctrl-h",run:um},{key:"Ctrl-k",run:u4},{key:"Ctrl-Alt-h",run:cE},{key:"Ctrl-o",run:f4},{key:"Ctrl-t",run:d4},{key:"Ctrl-v",run:am}],C4=[{key:"ArrowLeft",run:WC,shift:eE,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:N3,shift:G3,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:z3,shift:e4,preventDefault:!0},{key:"ArrowRight",run:qC,shift:tE,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:L3,shift:Y3,preventDefault:!0},{mac:"Cmd-ArrowRight",run:U3,shift:t4,preventDefault:!0},{key:"ArrowUp",run:YC,shift:rE,preventDefault:!0},{mac:"Cmd-ArrowUp",run:j1,shift:z1},{mac:"Ctrl-ArrowUp",run:B1,shift:F1},{key:"ArrowDown",run:JC,shift:sE,preventDefault:!0},{mac:"Cmd-ArrowDown",run:V1,shift:U1},{mac:"Ctrl-ArrowDown",run:am,shift:$1},{key:"PageUp",run:B1,shift:F1},{key:"PageDown",run:am,shift:$1},{key:"Home",run:V3,shift:Z3,preventDefault:!0},{key:"Mod-Home",run:j1,shift:z1},{key:"End",run:j3,shift:X3,preventDefault:!0},{key:"Mod-End",run:V1,shift:U1},{key:"Enter",run:x4},{key:"Mod-a",run:r4},{key:"Backspace",run:um,shift:um},{key:"Delete",run:aE},{key:"Mod-Backspace",mac:"Alt-Backspace",run:cE},{key:"Mod-Delete",mac:"Alt-Delete",run:a4},{mac:"Mod-Backspace",run:c4},{mac:"Mod-Delete",run:h4}].concat(b4.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),E4=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:F3,shift:J3},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:$3,shift:Q3},{key:"Alt-ArrowUp",run:p4},{key:"Shift-Alt-ArrowUp",run:g4},{key:"Alt-ArrowDown",run:m4},{key:"Shift-Alt-ArrowDown",run:y4},{key:"Escape",run:l4},{key:"Mod-Enter",run:S4},{key:"Alt-l",mac:"Ctrl-l",run:s4},{key:"Mod-i",run:o4,preventDefault:!0},{key:"Mod-[",run:mE},{key:"Mod-]",run:pE},{key:"Mod-Alt-\\",run:k4},{key:"Shift-Mod-k",run:v4},{key:"Shift-Mod-\\",run:K3},{key:"Mod-/",run:g3},{key:"Alt-A",run:v3}].concat(C4),_4={key:"Tab",run:pE,shift:mE};function we(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];typeof r=="string"?t.setAttribute(i,r):r!=null&&(t[i]=r)}e++}for(;e<arguments.length;e++)gE(t,arguments[e]);return t}function gE(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)gE(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const H1=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class uo{constructor(e,n,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?l=>s(H1(l)):H1,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Qe(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=Rg(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Xt(e);let r=this.normalize(n);for(let s=0,o=i;;s++){let l=r.charCodeAt(s),a=this.match(l,o);if(s==r.length-1){if(a)return this.value=a,this;break}o==i&&s<n.length&&n.charCodeAt(s)==l&&o++}}}match(e,n){let i=null;for(let r=0;r<this.matches.length;r+=2){let s=this.matches[r],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[r+1],to:n+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:n+1}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(uo.prototype[Symbol.iterator]=function(){return this});const yE={from:-1,to:-1,match:/.*/.exec("")},Zg="gm"+(/x/.unicode==null?"":"u");class vE{constructor(e,n,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=yE,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new wE(e,n,i,r,s);this.re=new RegExp(n,Zg+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=Kc(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let i=this.curLineStart+n.index,r=i+n[0].length;if(this.matchPos=Kc(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const rd=new WeakMap;class Ks{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,i){let r=rd.get(e);if(!r||r.from>=i||r.to<=n){let l=new Ks(n,e.sliceString(n,i));return rd.set(e,l),l}if(r.from==n&&r.to==i)return r;let{text:s,from:o}=r;return o>n&&(s=e.sliceString(n,o)+s,o=n),r.to<i&&(s+=e.sliceString(r.to,i)),rd.set(e,new Ks(o,s)),new Ks(n,s.slice(n-o,i-o))}}class wE{constructor(e,n,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=yE,this.matchPos=Kc(e,r),this.re=new RegExp(n,Zg+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Ks.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let i=this.flat.from+n.index,r=i+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this.matchPos=Kc(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ks.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(vE.prototype[Symbol.iterator]=wE.prototype[Symbol.iterator]=function(){return this});function T4(t){try{return new RegExp(t,Zg),!0}catch{return!1}}function Kc(t,e){if(e>=t.length)return e;let n=t.lineAt(e),i;for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function cm(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=we("input",{class:"cm-textfield",name:"line",value:e}),i=we("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:Gc.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),r())},onsubmit:s=>{s.preventDefault(),r()}},we("label",t.state.phrase("Go to line"),": ",n)," ",we("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,l=o.doc.lineAt(o.selection.main.head),[,a,u,c,h]=s,f=c?+c.slice(1):0,d=u?+u:l.number;if(u&&h){let v=d/100;a&&(v=v*(a=="-"?-1:1)+l.number/o.doc.lines),d=Math.round(o.doc.lines*v)}else u&&a&&(d=d*(a=="-"?-1:1)+l.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),y=D.cursor(p.from+Math.max(0,Math.min(f,p.length)));t.dispatch({effects:[Gc.of(!1),H.scrollIntoView(y.from,{y:"center"})],selection:y}),t.focus()}return{dom:i}}const Gc=ie.define(),W1=it.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Gc)&&(t=n.value);return t},provide:t=>Hl.from(t,e=>e?cm:null)}),A4=t=>{let e=Ul(t,cm);if(!e){let n=[Gc.of(!0)];t.state.field(W1,!1)==null&&n.push(ie.appendConfig.of([W1,I4])),t.dispatch({effects:n}),e=Ul(t,cm)}return e&&e.dom.querySelector("input").select(),!0},I4=H.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),O4={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},xE=G.define({combine(t){return Gn(t,O4,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function P4(t){let e=[L4,N4];return t&&e.push(xE.of(t)),e}const D4=te.mark({class:"cm-selectionMatch"}),R4=te.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function q1(t,e,n,i){return(n==0||t(e.sliceDoc(n-1,n))!=_e.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=_e.Word)}function M4(t,e,n,i){return t(e.sliceDoc(n,n+1))==_e.Word&&t(e.sliceDoc(i-1,i))==_e.Word}const N4=Le.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(xE),{state:n}=t,i=n.selection;if(i.ranges.length>1)return te.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return te.none;let a=n.wordAt(r.head);if(!a)return te.none;o=n.charCategorizer(r.head),s=n.sliceDoc(a.from,a.to)}else{let a=r.to-r.from;if(a<e.minSelectionLength||a>200)return te.none;if(e.wholeWords){if(s=n.sliceDoc(r.from,r.to),o=n.charCategorizer(r.head),!(q1(o,n,r.from,r.to)&&M4(o,n,r.from,r.to)))return te.none}else if(s=n.sliceDoc(r.from,r.to).trim(),!s)return te.none}let l=[];for(let a of t.visibleRanges){let u=new uo(n.doc,s,a.from,a.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!o||q1(o,n,c,h))&&(r.empty&&c<=r.from&&h>=r.to?l.push(R4.range(c,h)):(c>=r.to||h<=r.from)&&l.push(D4.range(c,h)),l.length>e.maxMatches))return te.none}}return te.set(l)}},{decorations:t=>t.decorations}),L4=H.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),B4=({state:t,dispatch:e})=>{let{selection:n}=t,i=D.create(n.ranges.map(r=>t.wordAt(r.head)||D.cursor(r.head)),n.mainIndex);return i.eq(n)?!1:(e(t.update({selection:i})),!0)};function F4(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let o=!1,l=new uo(t.doc,e,i[i.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new uo(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(a=>a.from==l.value.from))continue;if(s){let a=t.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const $4=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return B4({state:t,dispatch:e});let i=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=i))return!1;let r=F4(t,i);return r?(e(t.update({selection:t.selection.addRange(D.range(r.from,r.to),!1),effects:H.scrollIntoView(r.to)})),!0):!1},So=G.define({combine(t){return Gn(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Q4(e),scrollToMatch:e=>H.scrollIntoView(e)})}});class SE{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||T4(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new U4(this):new V4(this)}getCursor(e,n=0,i){let r=e.doc?e:le.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?gs(this,r,n,i):ms(this,r,n,i)}}class kE{constructor(e){this.spec=e}}function ms(t,e,n,i){return new uo(e.doc,t.unquoted,n,i,t.caseSensitive?void 0:r=>r.toLowerCase(),t.wholeWord?j4(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function j4(t,e){return(n,i,r,s)=>((s>n||s+r.length<i)&&(s=Math.max(0,n-2),r=t.sliceString(s,Math.min(t.length,i+2))),(e(Yc(r,n-s))!=_e.Word||e(Jc(r,n-s))!=_e.Word)&&(e(Jc(r,i-s))!=_e.Word||e(Yc(r,i-s))!=_e.Word))}class V4 extends kE{constructor(e){super(e)}nextMatch(e,n,i){let r=ms(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=ms(this.spec,e,0,n).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=i;;){let s=Math.max(n,r-1e4-this.spec.unquoted.length),o=ms(this.spec,e,s,r),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(s==n)return null;r-=1e4}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let i=ms(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=ms(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function gs(t,e,n,i){return new vE(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?z4(e.charCategorizer(e.selection.main.head)):void 0},n,i)}function Yc(t,e){return t.slice(et(t,e,!1),e)}function Jc(t,e){return t.slice(e,et(t,e))}function z4(t){return(e,n,i)=>!i[0].length||(t(Yc(i.input,i.index))!=_e.Word||t(Jc(i.input,i.index))!=_e.Word)&&(t(Jc(i.input,i.index+i[0].length))!=_e.Word||t(Yc(i.input,i.index+i[0].length))!=_e.Word)}class U4 extends kE{nextMatch(e,n,i){let r=gs(this.spec,e,i,e.doc.length).next();return r.done&&(r=gs(this.spec,e,0,n).next()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=1;;r++){let s=Math.max(n,i-r*1e4),o=gs(this.spec,e,s,i),l=null;for(;!o.next().done;)l=o.value;if(l&&(s==n||l.from>s+10))return l;if(s==n)return null}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:n)}matchAll(e,n){let i=gs(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=gs(this.spec,e,Math.max(0,n-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Kl=ie.define(),e0=ie.define(),rr=it.define({create(t){return new sd(hm(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Kl)?t=new sd(n.value.create(),t.panel):n.is(e0)&&(t=new sd(t.query,n.value?t0:null));return t},provide:t=>Hl.from(t,e=>e.panel)});class sd{constructor(e,n){this.query=e,this.panel=n}}const H4=te.mark({class:"cm-searchMatch"}),W4=te.mark({class:"cm-searchMatch cm-searchMatch-selected"}),q4=Le.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(rr))}update(t){let e=t.state.field(rr);(e!=t.startState.field(rr)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return te.none;let{view:n}=this,i=new ar;for(let r=0,s=n.visibleRanges,o=s.length;r<o;r++){let{from:l,to:a}=s[r];for(;r<o-1&&a>s[r+1].from-2*250;)a=s[++r].to;t.highlight(n.state,l,a,(u,c)=>{let h=n.state.selection.ranges.some(f=>f.from==u&&f.to==c);i.add(u,c,h?W4:H4)})}return i.finish()}},{decorations:t=>t.decorations});function wa(t){return e=>{let n=e.state.field(rr,!1);return n&&n.query.spec.valid?t(e,n):EE(e)}}const Qc=wa((t,{query:e})=>{let{to:n}=t.state.selection.main,i=e.nextMatch(t.state,n,n);if(!i)return!1;let r=D.single(i.from,i.to),s=t.state.facet(So);return t.dispatch({selection:r,effects:[n0(t,i),s.scrollToMatch(r.main,t)],userEvent:"select.search"}),CE(t),!0}),Xc=wa((t,{query:e})=>{let{state:n}=t,{from:i}=n.selection.main,r=e.prevMatch(n,i,i);if(!r)return!1;let s=D.single(r.from,r.to),o=t.state.facet(So);return t.dispatch({selection:s,effects:[n0(t,r),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),CE(t),!0}),K4=wa((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:D.create(n.map(i=>D.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),G4=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:r}=n.main,s=[],o=0;for(let l=new uo(t.doc,t.sliceDoc(i,r));!l.next().done;){if(s.length>1e3)return!1;l.value.from==i&&(o=s.length),s.push(D.range(l.value.from,l.value.to))}return e(t.update({selection:D.create(s,o),userEvent:"select.search.matches"})),!0},K1=wa((t,{query:e})=>{let{state:n}=t,{from:i,to:r}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,i,i);if(!s)return!1;let o=[],l,a,u=[];if(s.from==i&&s.to==r&&(a=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:a}),s=e.nextMatch(n,s.from,s.to),u.push(H.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(i).number)+"."))),s){let c=o.length==0||o[0].from>=s.to?0:s.to-s.from-a.length;l=D.single(s.from-c,s.to-c),u.push(n0(t,s)),u.push(n.facet(So).scrollToMatch(l.main,t))}return t.dispatch({changes:o,selection:l,effects:u,userEvent:"input.replace"}),!0}),Y4=wa((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!n.length)return!1;let i=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:H.announce.of(i),userEvent:"input.replace.all"}),!0});function t0(t){return t.state.facet(So).createPanel(t)}function hm(t,e){var n,i,r,s,o;let l=t.selection.main,a=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=t.facet(So);return new SE({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:u.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:u.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function bE(t){let e=Ul(t,t0);return e&&e.dom.querySelector("[main-field]")}function CE(t){let e=bE(t);e&&e==t.root.activeElement&&e.select()}const EE=t=>{let e=t.state.field(rr,!1);if(e&&e.panel){let n=bE(t);if(n&&n!=t.root.activeElement){let i=hm(t.state,e.query.spec);i.valid&&t.dispatch({effects:Kl.of(i)}),n.focus(),n.select()}}else t.dispatch({effects:[e0.of(!0),e?Kl.of(hm(t.state,e.query.spec)):ie.appendConfig.of(Z4)]});return!0},_E=t=>{let e=t.state.field(rr,!1);if(!e||!e.panel)return!1;let n=Ul(t,t0);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:e0.of(!1)}),!0},J4=[{key:"Mod-f",run:EE,scope:"editor search-panel"},{key:"F3",run:Qc,shift:Xc,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Qc,shift:Xc,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:_E,scope:"editor search-panel"},{key:"Mod-Shift-l",run:G4},{key:"Mod-Alt-g",run:A4},{key:"Mod-d",run:$4,preventDefault:!0}];class Q4{constructor(e){this.view=e;let n=this.query=e.state.field(rr).query.spec;this.commit=this.commit.bind(this),this.searchField=we("input",{value:n.search,placeholder:Lt(e,"Find"),"aria-label":Lt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=we("input",{value:n.replace,placeholder:Lt(e,"Replace"),"aria-label":Lt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=we("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=we("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=we("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function i(r,s,o){return we("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=we("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>Qc(e),[Lt(e,"next")]),i("prev",()=>Xc(e),[Lt(e,"previous")]),i("select",()=>K4(e),[Lt(e,"all")]),we("label",null,[this.caseField,Lt(e,"match case")]),we("label",null,[this.reField,Lt(e,"regexp")]),we("label",null,[this.wordField,Lt(e,"by word")]),...e.state.readOnly?[]:[we("br"),this.replaceField,i("replace",()=>K1(e),[Lt(e,"replace")]),i("replaceAll",()=>Y4(e),[Lt(e,"replace all")])],we("button",{name:"close",onclick:()=>_E(e),"aria-label":Lt(e,"close"),type:"button"},[""])])}commit(){let e=new SE({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Kl.of(e)}))}keydown(e){oB(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Xc:Qc)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),K1(this.view))}update(e){for(let n of e.transactions)for(let i of n.effects)i.is(Kl)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(So).top}}function Lt(t,e){return t.state.phrase(e)}const au=30,uu=/[\s\.,:;?!]/;function n0(t,{from:e,to:n}){let i=t.state.doc.lineAt(e),r=t.state.doc.lineAt(n).to,s=Math.max(i.from,e-au),o=Math.min(r,n+au),l=t.state.sliceDoc(s,o);if(s!=i.from){for(let a=0;a<au;a++)if(!uu.test(l[a+1])&&uu.test(l[a])){l=l.slice(a);break}}if(o!=r){for(let a=l.length-1;a>l.length-au;a--)if(!uu.test(l[a-1])&&uu.test(l[a])){l=l.slice(0,a);break}}return H.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${i.number}.`)}const X4=H.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Z4=[rr,vo.low(q4),X4];class TE{constructor(e,n,i){this.state=e,this.pos=n,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let n=pt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),r=n.text.slice(i-n.from,this.pos-n.from),s=r.search(AE(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function G1(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function e$(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let s=1;s<r.length;s++)n[r[s]]=!0}let i=G1(e)+G1(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function t$(t){let e=t.map(r=>typeof r=="string"?{label:r}:r),[n,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:e$(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:n}:null}}class Y1{constructor(e,n,i,r){this.completion=e,this.source=n,this.match=i,this.score=r}}function sr(t){return t.selection.main.from}function AE(t,e){var n;let{source:i}=t,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?t:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const n$=Kn.define();function i$(t,e,n,i){let{main:r}=t.selection,s=n-r.from,o=i-r.from;return Object.assign(Object.assign({},t.changeByRange(l=>l!=r&&n!=i&&t.sliceDoc(l.from+s,l.from+o)!=t.sliceDoc(n,i)?{range:l}:{changes:{from:l.from+s,to:i==r.from?l.to:l.from+o,insert:e},range:D.cursor(l.from+s+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const J1=new WeakMap;function r$(t){if(!Array.isArray(t))return t;let e=J1.get(t);return e||J1.set(t,e=t$(t)),e}const i0=ie.define(),Gl=ie.define();class s${constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let i=Qe(e,n),r=Xt(i);this.chars.push(i);let s=e.slice(n,n+r),o=s.toUpperCase();this.folded.push(Qe(o==s?s.toLowerCase():o,0)),n+=r}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:n,folded:i,any:r,precise:s,byWord:o}=this;if(n.length==1){let g=Qe(e,0),w=Xt(g),x=w==e.length?0:-100;if(g!=n[0])if(g==i[0])x+=-200;else return!1;return this.ret(x,[0,w])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=n.length,u=0;if(l<0){for(let g=0,w=Math.min(e.length,200);g<w&&u<a;){let x=Qe(e,g);(x==n[u]||x==i[u])&&(r[u++]=g),g+=Xt(x)}if(u<a)return!1}let c=0,h=0,f=!1,d=0,p=-1,y=-1,v=/[a-z]/.test(e),m=!0;for(let g=0,w=Math.min(e.length,200),x=0;g<w&&h<a;){let S=Qe(e,g);l<0&&(c<a&&S==n[c]&&(s[c++]=g),d<a&&(S==n[d]||S==i[d]?(d==0&&(p=g),y=g+1,d++):d=0));let E,C=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(E=Rg(S))!=E.toLowerCase()?1:E!=E.toUpperCase()?2:0;(!g||C==1&&v||x==0&&C!=0)&&(n[h]==S||i[h]==S&&(f=!0)?o[h++]=g:o.length&&(m=!1)),x=C,g+=Xt(S)}return h==a&&o[0]==0&&m?this.result(-100+(f?-200:0),o,e):d==a&&p==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):d==a?this.ret(-900-e.length,[p,y]):h==a?this.result(-100+(f?-200:0)+-700+(m?0:-1100),o,e):n.length==2?!1:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,n,i){let r=[],s=0;for(let o of n){let l=o+(this.astral?Xt(Qe(i,o)):1);s&&r[s-1]==o?r[s-1]=l:(r[s++]=o,r[s++]=l)}return this.ret(e-i.length,r)}}const ct=G.define({combine(t){return Gn(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:o$,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>Q1(e(i),n(i)),optionClass:(e,n)=>i=>Q1(e(i),n(i)),addToOptions:(e,n)=>e.concat(n)})}});function Q1(t,e){return t?e?t+" "+e:t:e}function o$(t,e,n,i,r,s){let o=t.textDirection==Ae.RTL,l=o,a=!1,u="top",c,h,f=e.left-r.left,d=r.right-e.right,p=i.right-i.left,y=i.bottom-i.top;if(l&&f<Math.min(p,d)?l=!1:!l&&d<Math.min(p,f)&&(l=!0),p<=(l?f:d))c=Math.max(r.top,Math.min(n.top,r.bottom-y))-e.top,h=Math.min(400,l?f:d);else{a=!0,h=Math.min(400,(o?e.right:r.right-e.left)-30);let g=r.bottom-e.bottom;g>=y||g>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let v=(e.bottom-e.top)/s.offsetHeight,m=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${c/v}px; max-width: ${h/m}px`,class:"cm-completionInfo-"+(a?o?"left-narrow":"right-narrow":l?"left":"right")}}function l$(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,r,s){let o=document.createElement("span");o.className="cm-completionLabel";let l=n.displayLabel||n.label,a=0;for(let u=0;u<s.length;){let c=s[u++],h=s[u++];c>a&&o.appendChild(document.createTextNode(l.slice(a,c)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(l.slice(c,h))),f.className="cm-completionMatchedText",a=h}return a<l.length&&o.appendChild(document.createTextNode(l.slice(a))),o},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function od(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class a${constructor(e,n,i){this.view=e,this.stateField=n,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:s,selected:o}=r.open,l=e.state.facet(ct);this.optionContent=l$(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=od(s.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{let{options:u}=e.state.field(n).open;for(let c=a.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(ct).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:Gl.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:l}=i.open;(!r.open||r.open.options!=s)&&(this.range=od(s.length,o,e.state.facet(ct).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),l!=((n=r.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=od(n.options.length,n.selected,this.view.state.facet(ct).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>nn(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,n){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&c$(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,n.bottom)-10||r.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(ct).positionInfo(this.view,n,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,i){const r=document.createElement("ul");r.id=n,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=i.from;o<i.to;o++){let{completion:l,match:a}=e[o],{section:u}=l;if(u){let f=typeof u=="string"?u:u.name;if(f!=s&&(o>i.from||i.from==0))if(s=f,typeof u!="string"&&u.header)r.appendChild(u.header(u));else{let d=r.appendChild(document.createElement("completion-section"));d.textContent=f}}const c=r.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let h=this.optionClass(l);h&&(c.className=h);for(let f of this.optionContent){let d=f(l,this.view.state,this.view,a);d&&c.appendChild(d)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function u$(t,e){return n=>new a$(n,t,e)}function c$(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.height/t.offsetHeight;i.top<n.top?t.scrollTop-=(n.top-i.top)/r:i.bottom>n.bottom&&(t.scrollTop+=(i.bottom-n.bottom)/r)}function X1(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function h$(t,e){let n=[],i=null,r=a=>{n.push(a);let{section:u}=a.completion;if(u){i||(i=[]);let c=typeof u=="string"?u:u.name;i.some(h=>h.name==c)||i.push(typeof u=="string"?{name:c}:u)}};for(let a of t)if(a.hasResult()){let u=a.result.getMatch;if(a.result.filter===!1)for(let c of a.result.options)r(new Y1(c,a.source,u?u(c):[],1e9-n.length));else{let c=new s$(e.sliceDoc(a.from,a.to));for(let h of a.result.options)if(c.match(h.label)){let f=h.displayLabel?u?u(h,c.matched):[]:c.matched;r(new Y1(h,a.source,f,c.score+(h.boost||0)))}}}if(i){let a=Object.create(null),u=0,c=(h,f)=>{var d,p;return((d=h.rank)!==null&&d!==void 0?d:1e9)-((p=f.rank)!==null&&p!==void 0?p:1e9)||(h.name<f.name?-1:1)};for(let h of i.sort(c))u-=1e5,a[h.name]=u;for(let h of n){let{section:f}=h.completion;f&&(h.score+=a[typeof f=="string"?f:f.name])}}let s=[],o=null,l=e.facet(ct).compareCompletions;for(let a of n.sort((u,c)=>c.score-u.score||l(u.completion,c.completion))){let u=a.completion;!o||o.label!=u.label||o.detail!=u.detail||o.type!=null&&u.type!=null&&o.type!=u.type||o.apply!=u.apply||o.boost!=u.boost?s.push(a):X1(a.completion)>X1(o)&&(s[s.length-1]=a),o=a.completion}return s}class Rs{constructor(e,n,i,r,s,o){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Rs(this.options,Z1(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,r,s){let o=h$(e,n);if(!o.length)return r&&e.some(a=>a.state==1)?new Rs(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let l=n.facet(ct).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let a=r.options[r.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==a){l=u;break}}return new Rs(o,Z1(i,l),{pos:e.reduce((a,u)=>u.hasResult()?Math.min(a,u.from):a,1e8),create:g$,above:s.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new Rs(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Zc{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new Zc(p$,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(ct),s=(i.override||n.languageDataAt("autocomplete",sr(n)).map(r$)).map(l=>(this.active.find(u=>u.source==l)||new It(l,this.active.some(u=>u.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,a)=>l==this.active[a])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!f$(s,this.active)?o=Rs.build(s,n,this.id,o,i):o&&o.disabled&&!s.some(l=>l.state==1)&&(o=null),!o&&s.every(l=>l.state!=1)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new It(l.source,0):l));for(let l of e.effects)l.is(OE)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Zc(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:d$}}function f$(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}const d$={"aria-autocomplete":"list"};function Z1(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const p$=[];function fm(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class It{constructor(e,n,i=-1){this.source=e,this.state=n,this.explicitPos=i}hasResult(){return!1}update(e,n){let i=fm(e),r=this;i?r=r.handleUserEvent(e,i,n):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new It(r.source,0));for(let s of e.effects)if(s.is(i0))r=new It(r.source,1,s.value?sr(e.state):-1);else if(s.is(Gl))r=new It(r.source,0);else if(s.is(IE))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,n,i){return n=="delete"||!i.activateOnTyping?this.map(e.changes):new It(this.source,1)}handleChange(e){return e.changes.touchesRange(sr(e.startState))?new It(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new It(this.source,this.state,e.mapPos(this.explicitPos))}}class Gs extends It{constructor(e,n,i,r,s){super(e,2,n),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,n,i){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=sr(e.state);if((this.explicitPos<0?l<=s:l<this.from)||l>o||n=="delete"&&sr(e.startState)==this.from)return new It(this.source,n=="input"&&i.activateOnTyping?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return m$(this.result.validFor,e.state,s,o)?new Gs(this.source,a,this.result,s,o):this.result.update&&(u=this.result.update(this.result,s,o,new TE(e.state,l,a>=0)))?new Gs(this.source,a,u,u.from,(r=u.to)!==null&&r!==void 0?r:sr(e.state)):new It(this.source,1,a)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new It(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Gs(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function m$(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return typeof t=="function"?t(r,n,i,e):AE(t,!0).test(r)}const IE=ie.define({map(t,e){return t.map(n=>n.map(e))}}),OE=ie.define(),$t=it.define({create(){return Zc.start()},update(t,e){return t.update(e)},provide:t=>[Ug.from(t,e=>e.tooltip),H.contentAttributes.from(t,e=>e.attrs)]});function PE(t,e){const n=e.completion.apply||e.completion.label;let i=t.state.field($t).active.find(r=>r.source==e.source);return i instanceof Gs?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},i$(t.state,n,i.from,i.to)),{annotations:n$.of(e.completion)})):n(t,e.completion,i.from,i.to),!0):!1}const g$=u$($t,PE);function cu(t,e="option"){return n=>{let i=n.state.field($t,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(ct).interactionDelay)return!1;let r=1,s;e=="page"&&(s=gC(n,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,l=i.open.selected>-1?i.open.selected+r*(t?1:-1):t?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),n.dispatch({effects:OE.of(l)}),!0}}const y$=t=>{let e=t.state.field($t,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(ct).interactionDelay?!1:PE(t,e.open.options[e.open.selected])},v$=t=>t.state.field($t,!1)?(t.dispatch({effects:i0.of(!0)}),!0):!1,w$=t=>{let e=t.state.field($t,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Gl.of(null)}),!0)};class x${constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const S$=50,k$=1e3,b$=Le.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field($t).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field($t);if(!t.selectionSet&&!t.docChanged&&t.startState.field($t)==e)return;let n=t.transactions.some(i=>(i.selection||i.docChanged)&&!fm(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(n||r.updates.length+t.transactions.length>S$&&Date.now()-r.time>k$){for(let s of r.context.abortListeners)try{s()}catch(o){nn(this.view.state,o)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let i of t.transactions)fm(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field($t);for(let n of e.active)n.state==1&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=sr(e),i=new TE(e,n,t.explicitPos==n),r=new x$(t,i);this.running.push(r),Promise.resolve(t.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Gl.of(null)}),nn(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ct).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(ct);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new Gs(r.active.source,r.active.explicitPos,r.done,r.done.from,(t=r.done.to)!==null&&t!==void 0?t:sr(r.updates.length?r.updates[0].startState:this.view.state));for(let l of r.updates)o=o.update(l,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field($t).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new It(r.active.source,0);for(let l of r.updates)o=o.update(l,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:IE.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field($t,!1);if(e&&e.tooltip&&this.view.state.facet(ct).closeOnBlur){let n=e.open&&gC(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:Gl.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:i0.of(!1)}),20),this.composing=0}}}),C$=H.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Yl={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Fr=ie.define({map(t,e){let n=e.mapPos(t,-1,xt.TrackAfter);return n??void 0}}),r0=new class extends es{};r0.startSide=1;r0.endSide=-1;const DE=it.define({create(){return de.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:i=>i>=n.from&&i<=n.to})}for(let n of e.effects)n.is(Fr)&&(t=t.update({add:[r0.range(n.value,n.value+1)]}));return t}});function E$(){return[T$,DE]}const ld="()[]{}<>";function RE(t){for(let e=0;e<ld.length;e+=2)if(ld.charCodeAt(e)==t)return ld.charAt(e+1);return Rg(t<128?t:t+1)}function ME(t,e){return t.languageDataAt("closeBrackets",e)[0]||Yl}const _$=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),T$=H.inputHandler.of((t,e,n,i)=>{if((_$?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let r=t.state.selection.main;if(i.length>2||i.length==2&&Xt(Qe(i,0))==1||e!=r.from||n!=r.to)return!1;let s=O$(t.state,i);return s?(t.dispatch(s),!0):!1}),A$=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=ME(t,t.selection.main.head).brackets||Yl.brackets,r=null,s=t.changeByRange(o=>{if(o.empty){let l=P$(t.doc,o.head);for(let a of i)if(a==l&&jh(t.doc,o.head)==RE(Qe(a,0)))return{changes:{from:o.head-a.length,to:o.head+a.length},range:D.cursor(o.head-a.length)}}return{range:r=o}});return r||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},I$=[{key:"Backspace",run:A$}];function O$(t,e){let n=ME(t,t.selection.main.head),i=n.brackets||Yl.brackets;for(let r of i){let s=RE(Qe(r,0));if(e==r)return s==r?M$(t,r,i.indexOf(r+r+r)>-1,n):D$(t,r,s,n.before||Yl.before);if(e==s&&NE(t,t.selection.main.from))return R$(t,r,s)}return null}function NE(t,e){let n=!1;return t.field(DE).between(0,t.doc.length,i=>{i==e&&(n=!0)}),n}function jh(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Xt(Qe(n,0)))}function P$(t,e){let n=t.sliceString(e-2,e);return Xt(Qe(n,0))==n.length?n:n.slice(1)}function D$(t,e,n,i){let r=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Fr.of(o.to+e.length),range:D.range(o.anchor+e.length,o.head+e.length)};let l=jh(t.doc,o.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:e+n,from:o.head},effects:Fr.of(o.head+e.length),range:D.cursor(o.head+e.length)}:{range:r=o}});return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function R$(t,e,n){let i=null,r=t.changeByRange(s=>s.empty&&jh(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:D.cursor(s.head+n.length)}:i={range:s});return i?null:t.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function M$(t,e,n,i){let r=i.stringPrefixes||Yl.stringPrefixes,s=null,o=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:Fr.of(l.to+e.length),range:D.range(l.anchor+e.length,l.head+e.length)};let a=l.head,u=jh(t.doc,a),c;if(u==e){if(ew(t,a))return{changes:{insert:e+e,from:a},effects:Fr.of(a+e.length),range:D.cursor(a+e.length)};if(NE(t,a)){let f=n&&t.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+f.length,insert:f},range:D.cursor(a+f.length)}}}else{if(n&&t.sliceDoc(a-2*e.length,a)==e+e&&(c=tw(t,a-2*e.length,r))>-1&&ew(t,c))return{changes:{insert:e+e+e+e,from:a},effects:Fr.of(a+e.length),range:D.cursor(a+e.length)};if(t.charCategorizer(a)(u)!=_e.Word&&tw(t,a,r)>-1&&!N$(t,a,e,r))return{changes:{insert:e+e,from:a},effects:Fr.of(a+e.length),range:D.cursor(a+e.length)}}return{range:s=l}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ew(t,e){let n=pt(t).resolveInner(e+1);return n.parent&&n.from==e}function N$(t,e,n,i){let r=pt(t).resolveInner(e,-1),s=i.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=t.sliceDoc(r.from,Math.min(r.to,r.from+n.length+s)),a=l.indexOf(n);if(!a||a>-1&&i.indexOf(l.slice(0,a))>-1){let c=r.firstChild;for(;c&&c.from==r.from&&c.to-c.from>n.length+a;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=r.to==e&&r.parent;if(!u)break;r=u}return!1}function tw(t,e,n){let i=t.charCategorizer(e);if(i(t.sliceDoc(e-1,e))!=_e.Word)return e;for(let r of n){let s=e-r.length;if(t.sliceDoc(s,e)==r&&i(t.sliceDoc(s-1,s))!=_e.Word)return s}return-1}function L$(t={}){return[$t,ct.of(t),b$,B$,C$]}const LE=[{key:"Ctrl-Space",run:v$},{key:"Escape",run:w$},{key:"ArrowDown",run:cu(!0)},{key:"ArrowUp",run:cu(!1)},{key:"PageDown",run:cu(!0,"page")},{key:"PageUp",run:cu(!1,"page")},{key:"Enter",run:y$}],B$=vo.highest(Ph.computeN([ct],t=>t.facet(ct).defaultKeymap?[LE]:[]));class F${constructor(e,n,i){this.from=e,this.to=n,this.diagnostic=i}}class Or{constructor(e,n,i){this.diagnostics=e,this.panel=n,this.selected=i}static init(e,n,i){let r=e,s=i.facet($E).markerFilter;s&&(r=s(r));let o=te.set(r.map(l=>l.from==l.to||l.from==l.to-1&&i.doc.lineAt(l.from).to==l.from?te.widget({widget:new K$(l),diagnostic:l}).range(l.from):te.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity+(l.markClass?" "+l.markClass:"")},diagnostic:l}).range(l.from,l.to)),!0);return new Or(o,n,co(o))}}function co(t,e=null,n=0){let i=null;return t.between(n,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return i=new F$(r,s,o.diagnostic),!1}),i}function $$(t,e){let n=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(i=>i.is(BE))||t.changes.touchesRange(n.from,n.to))}function j$(t,e){return t.field(zt,!1)?e:e.concat(ie.appendConfig.of(J$))}const BE=ie.define(),s0=ie.define(),FE=ie.define(),zt=it.define({create(){return new Or(te.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),i=null;if(t.selected){let r=e.changes.mapPos(t.selected.from,1);i=co(n,t.selected.diagnostic,r)||co(n,null,r)}t=new Or(n,t.panel,i)}for(let n of e.effects)n.is(BE)?t=Or.init(n.value,t.panel,e.state):n.is(s0)?t=new Or(t.diagnostics,n.value?Vh.open:null,t.selected):n.is(FE)&&(t=new Or(t.diagnostics,t.panel,n.value));return t},provide:t=>[Hl.from(t,e=>e.panel),H.decorations.from(t,e=>e.diagnostics)]}),V$=te.mark({class:"cm-lintRange cm-lintRange-active"});function z$(t,e,n){let{diagnostics:i}=t.state.field(zt),r=[],s=2e8,o=0;i.between(e-(n<0?1:0),e+(n>0?1:0),(a,u,{spec:c})=>{e>=a&&e<=u&&(a==u||(e>a||n>0)&&(e<u||n<0))&&(r.push(c.diagnostic),s=Math.min(a,s),o=Math.max(u,o))});let l=t.state.facet($E).tooltipFilter;return l&&(r=l(r)),r.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:U$(t,r)}}}:null}function U$(t,e){return we("ul",{class:"cm-tooltip-lint"},e.map(n=>VE(t,n,!1)))}const H$=t=>{let e=t.state.field(zt,!1);(!e||!e.panel)&&t.dispatch({effects:j$(t.state,[s0.of(!0)])});let n=Ul(t,Vh.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},nw=t=>{let e=t.state.field(zt,!1);return!e||!e.panel?!1:(t.dispatch({effects:s0.of(!1)}),!0)},W$=t=>{let e=t.state.field(zt,!1);if(!e)return!1;let n=t.state.selection.main,i=e.diagnostics.iter(n.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to)?!1:(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},q$=[{key:"Mod-Shift-m",run:H$,preventDefault:!0},{key:"F8",run:W$}],$E=G.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},Gn(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,n)=>e?n?i=>e(i)||n(i):e:n}))}});function jE(t){let e=[];if(t)e:for(let{name:n}of t){for(let i=0;i<n.length;i++){let r=n[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function VE(t,e,n){var i;let r=n?jE(e.actions):[];return we("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},we("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let l=!1,a=f=>{if(f.preventDefault(),l)return;l=!0;let d=co(t.state.field(zt).diagnostics,e);d&&s.apply(t,d.from,d.to)},{name:u}=s,c=r[o]?u.indexOf(r[o]):-1,h=c<0?u:[u.slice(0,c),we("u",u.slice(c,c+1)),u.slice(c+1)];return we("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${u}${c<0?"":` (access key "${r[o]})"`}.`},h)}),e.source&&we("div",{class:"cm-diagnosticSource"},e.source))}class K$ extends wi{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return we("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class iw{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=VE(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Vh{constructor(e){this.view=e,this.items=[];let n=r=>{if(r.keyCode==27)nw(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=jE(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==r.keyCode){let a=co(this.view.state.field(zt).diagnostics,s);a&&s.actions[l].apply(e,a.from,a.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=we("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:i}),this.dom=we("div",{class:"cm-panel-lint"},this.list,we("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>nw(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(zt).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(zt),i=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,l,{spec:a})=>{let u=-1,c;for(let h=i;h<this.items.length;h++)if(this.items[h].diagnostic==a.diagnostic){u=h;break}u<0?(c=new iw(this.view,a.diagnostic),this.items.splice(i,0,c),r=!0):(c=this.items[u],u>i&&(this.items.splice(i,u-i),r=!0)),n&&c.diagnostic==n.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),s=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new iw(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let a=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/a:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/a)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function n(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(zt),i=co(n.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:FE.of(i)})}static open(e){return new Vh(e)}}function G$(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function hu(t){return G$(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Y$=H.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:hu("#d11")},".cm-lintRange-warning":{backgroundImage:hu("orange")},".cm-lintRange-info":{backgroundImage:hu("#999")},".cm-lintRange-hint":{backgroundImage:hu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),J$=[zt,H.decorations.compute([zt],t=>{let{selected:e,panel:n}=t.field(zt);return!e||!n||e.from==e.to?te.none:te.set([V$.range(e.from,e.to)])}),GB(z$,{hideOn:$$}),Y$];var rw=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(I$)),e.defaultKeymap!==!1&&(i=i.concat(E4)),e.searchKeymap!==!1&&(i=i.concat(J4)),e.historyKeymap!==!1&&(i=i.concat(M3)),e.foldKeymap!==!1&&(i=i.concat(GF)),e.completionKeymap!==!1&&(i=i.concat(LE)),e.lintKeymap!==!1&&(i=i.concat(q$));var r=[];return e.lineNumbers!==!1&&r.push(iF()),e.highlightActiveLineGutter!==!1&&r.push(oF()),e.highlightSpecialChars!==!1&&r.push(bB()),e.history!==!1&&r.push(E3()),e.foldGutter!==!1&&r.push(XF()),e.drawSelection!==!1&&r.push(fB()),e.dropCursor!==!1&&r.push(yB()),e.allowMultipleSelections!==!1&&r.push(le.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&r.push(FF()),e.syntaxHighlighting!==!1&&r.push(MC(n3,{fallback:!0})),e.bracketMatching!==!1&&r.push(u3()),e.closeBrackets!==!1&&r.push(E$()),e.autocompletion!==!1&&r.push(L$()),e.rectangularSelection!==!1&&r.push(BB()),n!==!1&&r.push(jB()),e.highlightActiveLine!==!1&&r.push(IB()),e.highlightSelectionMatches!==!1&&r.push(P4()),e.tabSize&&typeof e.tabSize=="number"&&r.push(Rh.of(" ".repeat(e.tabSize))),r.concat([Ph.of(i.flat())]).filter(Boolean)};const Q$="#e5c07b",sw="#e06c75",X$="#56b6c2",Z$="#ffffff",Vu="#abb2bf",dm="#7d8799",ej="#61afef",tj="#98c379",ow="#d19a66",nj="#c678dd",ij="#21252b",lw="#2c313a",aw="#282c34",ad="#353a42",rj="#3E4451",uw="#528bff",sj=H.theme({"&":{color:Vu,backgroundColor:aw},".cm-content":{caretColor:uw},".cm-cursor, .cm-dropCursor":{borderLeftColor:uw},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:rj},".cm-panels":{backgroundColor:ij,color:Vu},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:aw,color:dm,border:"none"},".cm-activeLineGutter":{backgroundColor:lw},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ad},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ad,borderBottomColor:ad},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:lw,color:Vu}}},{dark:!0}),oj=ya.define([{tag:I.keyword,color:nj},{tag:[I.name,I.deleted,I.character,I.propertyName,I.macroName],color:sw},{tag:[I.function(I.variableName),I.labelName],color:ej},{tag:[I.color,I.constant(I.name),I.standard(I.name)],color:ow},{tag:[I.definition(I.name),I.separator],color:Vu},{tag:[I.typeName,I.className,I.number,I.changed,I.annotation,I.modifier,I.self,I.namespace],color:Q$},{tag:[I.operator,I.operatorKeyword,I.url,I.escape,I.regexp,I.link,I.special(I.string)],color:X$},{tag:[I.meta,I.comment],color:dm},{tag:I.strong,fontWeight:"bold"},{tag:I.emphasis,fontStyle:"italic"},{tag:I.strikethrough,textDecoration:"line-through"},{tag:I.link,color:dm,textDecoration:"underline"},{tag:I.heading,fontWeight:"bold",color:sw},{tag:[I.atom,I.bool,I.special(I.variableName)],color:ow},{tag:[I.processingInstruction,I.string,I.inserted],color:tj},{tag:I.invalid,color:Z$}]),lj=[sj,MC(oj)];var aj=H.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),uj=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:i=!0,readOnly:r=!1,theme:s="light",placeholder:o="",basicSetup:l=!0}=e,a=[];switch(n&&a.unshift(Ph.of([_4])),l&&(typeof l=="boolean"?a.unshift(rw()):a.unshift(rw(l))),o&&a.unshift(RB(o)),s){case"light":a.push(aj);break;case"dark":a.push(lj);break;case"none":break;default:a.push(s);break}return i===!1&&a.push(H.editable.of(!1)),r&&a.push(le.readOnly.of(!0)),[...a]},cj=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),cw=Kn.define(),hj=[];function fj(t){var{value:e,selection:n,onChange:i,onStatistics:r,onCreateEditor:s,onUpdate:o,extensions:l=hj,autoFocus:a,theme:u="light",height:c=null,minHeight:h=null,maxHeight:f=null,width:d=null,minWidth:p=null,maxWidth:y=null,placeholder:v="",editable:m=!0,readOnly:g=!1,indentWithTab:w=!0,basicSetup:x=!0,root:S,initialState:E}=t,[C,T]=_.useState(),[O,P]=_.useState(),[L,M]=_.useState(),F=H.theme({"&":{height:c,minHeight:h,maxHeight:f,width:d,minWidth:p,maxWidth:y},"& .cm-scroller":{height:"100% !important"}}),j=H.updateListener.of(Z=>{if(Z.docChanged&&typeof i=="function"&&!Z.transactions.some(q=>q.annotation(cw))){var N=Z.state.doc,U=N.toString();i(U,Z)}r&&r(cj(Z))}),K=uj({theme:u,editable:m,readOnly:g,placeholder:v,indentWithTab:w,basicSetup:x}),X=[j,F,...K];return o&&typeof o=="function"&&X.push(H.updateListener.of(o)),X=X.concat(l),_.useEffect(()=>{if(C&&!L){var Z={doc:e,selection:n,extensions:X},N=E?le.fromJSON(E.json,Z,E.fields):le.create(Z);if(M(N),!O){var U=new H({state:N,parent:C,root:S});P(U),s&&s(U,N)}}return()=>{O&&(M(void 0),P(void 0))}},[C,L]),_.useEffect(()=>T(t.container),[t.container]),_.useEffect(()=>()=>{O&&(O.destroy(),P(void 0))},[O]),_.useEffect(()=>{a&&O&&O.focus()},[a,O]),_.useEffect(()=>{O&&O.dispatch({effects:ie.reconfigure.of(X)})},[u,l,c,h,f,d,p,y,v,m,g,w,x,i,o]),_.useEffect(()=>{if(e!==void 0){var Z=O?O.state.doc.toString():"";O&&e!==Z&&O.dispatch({changes:{from:0,to:Z.length,insert:e||""},annotations:[cw.of(!0)]})}},[e,O]),{state:L,setState:M,view:O,setView:P,container:C,setContainer:T}}var dj=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],zu=_.forwardRef((t,e)=>{var{className:n,value:i="",selection:r,extensions:s=[],onChange:o,onStatistics:l,onCreateEditor:a,onUpdate:u,autoFocus:c,theme:h="light",height:f,minHeight:d,maxHeight:p,width:y,minWidth:v,maxWidth:m,basicSetup:g,placeholder:w,indentWithTab:x,editable:S,readOnly:E,root:C,initialState:T}=t,O=fN(t,dj),P=_.useRef(null),{state:L,view:M,container:F}=fj({container:P.current,root:C,value:i,autoFocus:c,theme:h,height:f,minHeight:d,maxHeight:p,width:y,minWidth:v,maxWidth:m,basicSetup:g,placeholder:w,indentWithTab:x,editable:S,readOnly:E,selection:r,onChange:o,onStatistics:l,onCreateEditor:a,onUpdate:u,extensions:s,initialState:T});if(_.useImperativeHandle(e,()=>({editor:P.current,state:L,view:M}),[P,F,L,M]),typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var j=typeof h=="string"?"cm-theme-"+h:"cm-theme";return k.jsx("div",yp({ref:P,className:""+j+(n?" "+n:"")},O))});zu.displayName="CodeMirror";const pj="/samsa/assets/collapseVerticalIcon-2eGjjn6z.png",mj="/samsa/assets/expandVerticalIcon-x_6PgLEF.png",gj=t=>{let e="";return e=yj(t),e},yj=t=>{let n="",i=0;const o=t.replace(/([A-Za-z0-9])([\s\n]+)([A-Za-z0-9])/g,(a,u,c,h)=>`${u}|${h}`).replace(/[\s\n]+/g,"").replace(/\|/g," ");let l=!1;for(let a=0;a<o.length;a++){const u=o[a],c=o[a+1],h=o[a-1],f=(u==null?void 0:u.match(/[A-Za-z0-9]/))||[],d=(h==null?void 0:h.match(/[A-Za-z0-9]/))||[],p=(c==null?void 0:c.match(/[A-Za-z0-9]/))||[];if(u==="("&&(l=!0),u===")"&&(l=!1),u===" "&&d[0]&&p[0]&&!l){n+=`
${" ".repeat(i*3)}`;continue}if(c==="{"||c==="("){n+=u+" ";continue}if(u===" "&&c!=="{"||u===" "&&c!=="("){n+=`
${" ".repeat(i*3)}`;continue}if(u==="{"){i++,n+=`{
${" ".repeat(i*3)}`;continue}if(u==="("&&h===" "){n+="(";continue}if(u==="}"&&p[0]){i--,n+=`
${" ".repeat(i*3)}}`;continue}if(f[0]&&h==="}"&&(n+=`
${" ".repeat(i*3)}`),u==="}"){i--,n+=`
${" ".repeat(i*3)}}`;continue}if(u){n+=u;continue}}return n};function hw(t){const{value:e,onVariablesChange:n,onQueryChange:i,readonly:r,error:s,onHeadersChange:o}=t,{lan:l}=yi(),[a,u]=_.useState(!0),[c,h]=_.useState(!1),[f,d]=_.useState(!1),[p,y]=_.useState(e),[v,m]=_.useState(""),[g,w]=_.useState(""),[x,S]=_.useState(0),E=K=>{y(K),i&&i(K)};_.useEffect(()=>{r&&y(e)},[r,e]);const C=K=>{const X=K.target;x===0&&!r&&(X.innerText.trim().length||y("query {}")),S(1)},T=K=>{m(K),n&&n(K)},O=K=>{w(K),o&&o(K)},P=()=>{u(!0),h(!1)},L=()=>{h(!0),u(!1)},M=()=>{d(!f)},F=f?l==="en"?"collapse":"":l==="en"?"expand":"",j=()=>{p&&y(gj(p))};return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"max-width",children:[r?k.jsx(k.Fragment,{}):k.jsx("button",{onClick:j,className:"link btn btn__pritter",children:l==="en"?"Prettify":""}),k.jsx(zu,{className:r&&s?"CodeMirror":"",value:p,readOnly:r,height:"320px",onChange:E,onMouseDown:C}),r?k.jsx(k.Fragment,{}):k.jsxs("div",{className:"flex-buttons",children:[k.jsxs("div",{className:"flex",children:[k.jsx("button",{onClick:P,className:a?"active link btn":"link btn",children:l==="en"?"Variables":""}),k.jsx("button",{onClick:L,className:c?"active link btn":"link btn",children:l==="en"?"Headers":""})]}),k.jsx("div",{title:F,className:"arrow-button",onClick:M,children:k.jsx("img",{className:"icon",src:f?pj:mj})})]}),!r&&f&&a?k.jsx(zu,{className:"paddingSmall font-small border width100 max-width variables",value:v,onChange:T,height:"100px",placeholder:l==="en"?"enter variables...":" ..."}):k.jsx(k.Fragment,{}),f&&c?k.jsx(zu,{className:"paddingSmall font-small border width100 max-width",value:g,onChange:O,height:"100px",width:"600px",placeholder:l==="en"?"enter headers...":" ..."}):k.jsx(k.Fragment,{})]})})}function vj(t){const e={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...t},n=e.descriptions?"description":"",i=e.specifiedByUrl?"specifiedByURL":"",r=e.directiveIsRepeatable?"isRepeatable":"",s=e.schemaDescription?n:"";function o(l){return e.inputValueDeprecation?l:""}return`
    query IntrospectionQuery {
      __schema {
        ${s}
        queryType { name }
        mutationType { name }
        subscriptionType { name }
        types {
          ...FullType
        }
        directives {
          name
          ${n}
          ${r}
          locations
          args${o("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${n}
      ${i}
      fields(includeDeprecated: true) {
        name
        ${n}
        args${o("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${o("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${n}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${n}
      type { ...TypeRef }
      defaultValue
      ${o("isDeprecated")}
      ${o("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                    ofType {
                      kind
                      name
                      ofType {
                        kind
                        name
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  `}const pm=t=>t.kind==="OBJECT"?t.name:t.ofType?pm(t.ofType):"",Uu=t=>t.name!==null?t.name:t.ofType?Uu(t.ofType):"",wj=async t=>{try{const e=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:vj()})});if(e.ok){const i=(await e.json()).data.__schema,r=i.queryType.name;let s=[];const o=[],l=[];return i.types.map(a=>{a.name===r&&(s=a.fields)}),i.types.map(a=>{a.kind!=="SCALAR"&&l.push(a)}),s.map(a=>{var u;o.push({name:a.name,type:a.type.name||"["+pm(a.type)+"]",args:a.args.map(c=>({name:c.name,type:Uu(c.type)})),fields:(u=l.filter(c=>c.name===pm(a.type)).at(0))==null?void 0:u.fields.map(c=>({name:c.name,type:Uu(c.type)}))})}),l.map(a=>{a.kind==="INPUT_OBJECT"&&o.push({name:a.name,type:a.name,args:[],fields:a.inputFields.map(u=>({name:u.name,type:Uu(u.type)}))})}),{result:o}}else return{error:(await e.json()).message,result:[]}}catch(e){return{error:e.message??"",result:[]}}},xj=_.lazy(()=>hN(()=>import("./DocumentationSchema-o-QOr7tw.js"),__vite__mapDeps([0,1])));function Sj(){const{lan:t}=yi(),[e,n]=_.useState(!1),[i,r]=_.useState(""),[s,o]=_.useState(""),[l,a]=_.useState(""),[u,c]=_.useState(""),[h,f]=_.useState(""),[d,p]=_.useState(!1),[y,v]=_.useState([]),m=C=>{he.error(t==="en"?`Error fetching data: 
 for ${i} 
 ${C}. 
  Please make sure the url is valid and you have access.`:`  : 
  ${i} 
 ${C}. 
       .`)},g=C=>{p(!0);const T=C.locations?`Error: ${C.message} at line ${C.locations[0].line}, column ${C.locations[0].column}`:`Error: ${C.message}`;f(T)},w=async()=>{if(i.trim()!==""){const{error:C,result:T}=await wj(i);C&&he.error(t==="en"?`Error fetching schema: 
 for ${i} 
 ${C}. 
  Please make sure the url is valid and you have access.`:`  : 
  ${i} 
 ${C}. 
       .`),v(T),n(!0)}},x=()=>{const C=l?JSON.parse(l):null,T=u?JSON.parse(u):{"Content-Type":"application/json"};fetch(i,{method:"POST",headers:T,body:JSON.stringify({query:s,variables:C})}).then(O=>{O.json().then(P=>{var L;if(O.ok)f(JSON.stringify(P.data?P.data:"Do data found",null,3)),p(!1);else{const M=P.errors?P.errors[0]:P.message?P:{message:"Failed to fetch data"};g(M)}(L=P.errors)!=null&&L.length&&g(P.errors[0])}).catch(P=>{m(P)})}).catch(O=>{m(O)})},S=C=>{r(C.target.value)},E=()=>{y.length&&n(C=>!C)};return k.jsx(k.Fragment,{children:k.jsxs("div",{"data-testid":"panel",className:"max-width",children:[k.jsx(ro,{}),k.jsxs("div",{className:"flexi api-block flex-wrap",children:[k.jsx("span",{className:"margin-right-small",children:"API: "}),k.jsx("input",{className:"margin-right-small input font-small",type:"text",placeholder:t==="en"?"enter API url...":" API url...",onChange:S}),k.jsx("button",{onClick:w,className:"link btn btn__adaptiv",disabled:!i.trim().length,children:t==="en"?"Get schema":" "}),k.jsx("button",{onClick:x,className:"link btn btn__adaptiv",children:t==="en"?"Run request":" "})]}),k.jsxs("div",{className:"color-light flex-wrap",children:[k.jsx(hw,{error:!1,onQueryChange:o,onVariablesChange:a,onHeadersChange:c}),k.jsx("div",{className:e?"width-half topL":"width-full topL",children:k.jsx(hw,{value:h,readonly:!0,error:d})}),k.jsxs("div",{className:"flex explorer-block",children:[k.jsx("button",{onClick:E,className:"link btn height30",disabled:!y.length,children:t==="en"?e?"collapse":"expand":e?"":""}),k.jsx(_.Suspense,{fallback:k.jsx("p",{children:"Loading schema..."}),children:e&&y.length?k.jsx(xj,{objects:y}):k.jsx(k.Fragment,{})})]})]})]})})}function kj(){const t=_.useContext(go),e=ia();return _.useEffect(()=>{const n=xg(Xr,i=>{i||(t.setLogin(!1),e("/"))});return()=>n()},[e,t]),_.useEffect(()=>{t.login||e("/login")},[t.login,e]),k.jsxs(k.Fragment,{children:[k.jsx("div",{"data-testid":"graphiql",className:Sv.container,children:k.jsx("h1",{children:"GraphiQL"})}),k.jsx("div",{className:Sv.editorPanel,children:k.jsx(Sj,{})})]})}function bj(){return k.jsx(k.Fragment,{children:k.jsx("div",{"data-testid":"app",children:k.jsx(a2,{children:k.jsxs(_r,{path:"/",element:k.jsx(mR,{}),children:[k.jsx(_r,{index:!0,element:k.jsx(J2,{})}),k.jsx(_r,{path:"/login",element:k.jsx(zM,{})}),k.jsx(_r,{path:"/registration",element:k.jsx(rN,{})}),k.jsx(_r,{path:"/graphiql",element:k.jsx(kj,{})}),k.jsx(_r,{path:"*",element:k.jsx(oN,{})})]})})})})}const Cj="_error__text_gaj03_1",Ej={error__text:Cj};class _j extends _.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error: ",e,n),this.setState({hasError:!0})}render(){return this.state.hasError?k.jsx("div",{className:Ej.error__text,children:k.jsx("h1",{children:"Something went wrong."})}):this.props.children}}ud.createRoot(document.getElementById("root")).render(k.jsx(se.StrictMode,{children:k.jsx(m2,{children:k.jsx(_j,{children:k.jsx(T2,{children:k.jsx(cI,{children:k.jsx(H2,{children:k.jsx(bj,{})})})})})})}));export{k as j,_ as r,yi as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/DocumentationSchema-o-QOr7tw.js","assets/DocumentationSchema-CdZNEuiW.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}